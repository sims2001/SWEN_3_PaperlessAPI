{"version":3,"file":"main.js","mappings":"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","sources":["en.js","./src/app/app-routing.module.ts","./src/app/app.component.ts","./src/app/app.component.html","./src/app/app.module.ts","./src/app/components/app-frame/app-frame.component.ts","./src/app/components/app-frame/app-frame.component.html","./src/app/components/common/clearable-badge/clearable-badge.component.ts","./src/app/components/common/clearable-badge/clearable-badge.component.html","./src/app/components/common/confirm-dialog/confirm-dialog.component.ts","./src/app/components/common/confirm-dialog/confirm-dialog.component.html","./src/app/components/common/date-dropdown/date-dropdown.component.ts","./src/app/components/common/date-dropdown/date-dropdown.component.html","./src/app/components/common/edit-dialog/correspondent-edit-dialog/correspondent-edit-dialog.component.ts","./src/app/components/common/edit-dialog/correspondent-edit-dialog/correspondent-edit-dialog.component.html","./src/app/components/common/edit-dialog/document-type-edit-dialog/document-type-edit-dialog.component.ts","./src/app/components/common/edit-dialog/document-type-edit-dialog/document-type-edit-dialog.component.html","./src/app/components/common/edit-dialog/edit-dialog.component.ts","./src/app/components/common/edit-dialog/mail-account-edit-dialog/mail-account-edit-dialog.component.ts","./src/app/components/common/edit-dialog/mail-account-edit-dialog/mail-account-edit-dialog.component.html","./src/app/components/common/edit-dialog/mail-rule-edit-dialog/mail-rule-edit-dialog.component.ts","./src/app/components/common/edit-dialog/mail-rule-edit-dialog/mail-rule-edit-dialog.component.html","./src/app/components/common/edit-dialog/storage-path-edit-dialog/storage-path-edit-dialog.component.ts","./src/app/components/common/edit-dialog/storage-path-edit-dialog/storage-path-edit-dialog.component.html","./src/app/components/common/edit-dialog/tag-edit-dialog/tag-edit-dialog.component.ts","./src/app/components/common/edit-dialog/tag-edit-dialog/tag-edit-dialog.component.html","./src/app/components/common/filterable-dropdown/filterable-dropdown.component.ts","./src/app/components/common/filterable-dropdown/filterable-dropdown.component.html","./src/app/components/common/filterable-dropdown/toggleable-dropdown-button/toggleable-dropdown-button.component.ts","./src/app/components/common/filterable-dropdown/toggleable-dropdown-button/toggleable-dropdown-button.component.html","./src/app/components/common/input/abstract-input.ts","./src/app/components/common/input/check/check.component.ts","./src/app/components/common/input/check/check.component.html","./src/app/components/common/input/color/color.component.ts","./src/app/components/common/input/color/color.component.html","./src/app/components/common/input/date/date.component.ts","./src/app/components/common/input/date/date.component.html","./src/app/components/common/input/number/number.component.ts","./src/app/components/common/input/number/number.component.html","./src/app/components/common/input/password/password.component.ts","./src/app/components/common/input/password/password.component.html","./src/app/components/common/input/select/select.component.ts","./src/app/components/common/input/select/select.component.html","./src/app/components/common/input/tags/tags.component.ts","./src/app/components/common/input/tags/tags.component.html","./src/app/components/common/input/text/text.component.ts","./src/app/components/common/input/text/text.component.html","./src/app/components/common/page-header/page-header.component.ts","./src/app/components/common/page-header/page-header.component.html","./src/app/components/common/select-dialog/select-dialog.component.ts","./src/app/components/common/select-dialog/select-dialog.component.html","./src/app/components/common/tag/tag.component.html","./src/app/components/common/tag/tag.component.ts","./src/app/components/common/toasts/toasts.component.html","./src/app/components/common/toasts/toasts.component.ts","./src/app/components/dashboard/dashboard.component.html","./src/app/components/dashboard/dashboard.component.ts","./src/app/components/dashboard/widgets/saved-view-widget/saved-view-widget.component.ts","./src/app/components/dashboard/widgets/saved-view-widget/saved-view-widget.component.html","./src/app/components/dashboard/widgets/statistics-widget/statistics-widget.component.ts","./src/app/components/dashboard/widgets/statistics-widget/statistics-widget.component.html","./src/app/components/dashboard/widgets/upload-file-widget/upload-file-widget.component.ts","./src/app/components/dashboard/widgets/upload-file-widget/upload-file-widget.component.html","./src/app/components/dashboard/widgets/welcome-widget/welcome-widget.component.ts","./src/app/components/dashboard/widgets/welcome-widget/welcome-widget.component.html","./src/app/components/dashboard/widgets/widget-frame/widget-frame.component.html","./src/app/components/dashboard/widgets/widget-frame/widget-frame.component.ts","./src/app/components/document-asn/document-asn.component.ts","./src/app/components/document-asn/document-asn.component.html","./src/app/components/document-comments/document-comments.component.ts","./src/app/components/document-comments/document-comments.component.html","./src/app/components/document-detail/document-detail.component.ts","./src/app/components/document-detail/document-detail.component.html","./src/app/components/document-detail/metadata-collapse/metadata-collapse.component.html","./src/app/components/document-detail/metadata-collapse/metadata-collapse.component.ts","./src/app/components/document-list/bulk-editor/bulk-editor.component.ts","./src/app/components/document-list/bulk-editor/bulk-editor.component.html","./src/app/components/document-list/document-card-large/document-card-large.component.ts","./src/app/components/document-list/document-card-large/document-card-large.component.html","./src/app/components/document-list/document-card-small/document-card-small.component.ts","./src/app/components/document-list/document-card-small/document-card-small.component.html","./src/app/components/document-list/document-list.component.ts","./src/app/components/document-list/document-list.component.html","./src/app/components/document-list/filter-editor/filter-editor.component.ts","./src/app/components/document-list/filter-editor/filter-editor.component.html","./src/app/components/document-list/save-view-config-dialog/save-view-config-dialog.component.ts","./src/app/components/document-list/save-view-config-dialog/save-view-config-dialog.component.html","./src/app/components/manage/correspondent-list/correspondent-list.component.ts","./src/app/components/manage/management-list/management-list.component.html","./src/app/components/manage/document-type-list/document-type-list.component.ts","./src/app/components/manage/logs/logs.component.html","./src/app/components/manage/logs/logs.component.ts","./src/app/components/manage/management-list/management-list.component.ts","./src/app/components/manage/settings/settings.component.ts","./src/app/components/manage/settings/settings.component.html","./src/app/components/manage/storage-path-list/storage-path-list.component.ts","./src/app/components/manage/tag-list/tag-list.component.ts","./src/app/components/manage/tasks/tasks.component.ts","./src/app/components/manage/tasks/tasks.component.html","./src/app/components/not-found/not-found.component.ts","./src/app/components/not-found/not-found.component.html","./src/app/data/filter-rule-type.ts","./src/app/data/filter-rule.ts","./src/app/data/matching-model.ts","./src/app/data/paperless-mail-account.ts","./src/app/data/paperless-mail-rule.ts","./src/app/data/paperless-task.ts","./src/app/data/paperless-uisettings.ts","./src/app/data/storage-keys.ts","./src/app/directives/sortable.directive.ts","./src/app/guards/dirty-doc.guard.ts","./src/app/guards/dirty-form.guard.ts","./src/app/guards/dirty-saved-view.guard.ts","./src/app/interceptors/api-version.interceptor.ts","./src/app/interceptors/csrf.interceptor.ts","./src/app/pipes/custom-date.pipe.ts","./src/app/pipes/document-title.pipe.ts","./src/app/pipes/file-size.pipe.ts","./src/app/pipes/filter.pipe.ts","./src/app/pipes/safehtml.pipe.ts","./src/app/pipes/safeurl.pipe.ts","./src/app/pipes/yes-no.pipe.ts","./src/app/services/consumer-status.service.ts","./src/app/services/document-list-view.service.ts","./src/app/services/open-documents.service.ts","./src/app/services/rest/abstract-name-filter-service.ts","./src/app/services/rest/abstract-paperless-service.ts","./src/app/services/rest/correspondent.service.ts","./src/app/services/rest/document-comments.service.ts","./src/app/services/rest/document-type.service.ts","./src/app/services/rest/document.service.ts","./src/app/services/rest/log.service.ts","./src/app/services/rest/mail-account.service.ts","./src/app/services/rest/mail-rule.service.ts","./src/app/services/rest/remote-version.service.ts","./src/app/services/rest/saved-view.service.ts","./src/app/services/rest/search.service.ts","./src/app/services/rest/storage-path.service.ts","./src/app/services/rest/tag.service.ts","./src/app/services/settings.service.ts","./src/app/services/tasks.service.ts","./src/app/services/toast.service.ts","./src/app/services/upload-documents.service.ts","./src/app/utils/color.ts","./src/app/utils/ngb-date-parser-formatter.ts","./src/app/utils/ngb-iso-date-adapter.ts","./src/app/utils/query-params.ts","./src/environments/environment.ts","./src/main.ts","ignored|/mnt/c/temp/paperless-ngx/src-ui/node_modules/pdfjs-dist/build|canvas","ignored|/mnt/c/temp/paperless-ngx/src-ui/node_modules/pdfjs-dist/build|fs","ignored|/mnt/c/temp/paperless-ngx/src-ui/node_modules/pdfjs-dist/build|http","ignored|/mnt/c/temp/paperless-ngx/src-ui/node_modules/pdfjs-dist/build|https","ignored|/mnt/c/temp/paperless-ngx/src-ui/node_modules/pdfjs-dist/build|url","ignored|/mnt/c/temp/paperless-ngx/src-ui/node_modules/pdfjs-dist/build|zlib"],"sourcesContent":["\"use strict\";(function(global){global.ng=global.ng||{};global.ng.common=global.ng.common||{};global.ng.common.locales=global.ng.common.locales||{};const u=undefined;function plural(val){const n=val,i=Math.floor(Math.abs(val)),v=val.toString().replace(/^[^.]*\\.?/,\"\").length;if(i===1&&v===0)return 1;return 5}global.ng.common.locales[\"en\"]=[\"en\",[[\"a\",\"p\"],[\"AM\",\"PM\"],u],[[\"AM\",\"PM\"],u,u],[[\"S\",\"M\",\"T\",\"W\",\"T\",\"F\",\"S\"],[\"Sun\",\"Mon\",\"Tue\",\"Wed\",\"Thu\",\"Fri\",\"Sat\"],[\"Sunday\",\"Monday\",\"Tuesday\",\"Wednesday\",\"Thursday\",\"Friday\",\"Saturday\"],[\"Su\",\"Mo\",\"Tu\",\"We\",\"Th\",\"Fr\",\"Sa\"]],u,[[\"J\",\"F\",\"M\",\"A\",\"M\",\"J\",\"J\",\"A\",\"S\",\"O\",\"N\",\"D\"],[\"Jan\",\"Feb\",\"Mar\",\"Apr\",\"May\",\"Jun\",\"Jul\",\"Aug\",\"Sep\",\"Oct\",\"Nov\",\"Dec\"],[\"January\",\"February\",\"March\",\"April\",\"May\",\"June\",\"July\",\"August\",\"September\",\"October\",\"November\",\"December\"]],u,[[\"B\",\"A\"],[\"BC\",\"AD\"],[\"Before Christ\",\"Anno Domini\"]],0,[6,0],[\"M/d/yy\",\"MMM d, y\",\"MMMM d, y\",\"EEEE, MMMM d, y\"],[\"h:mm a\",\"h:mm:ss a\",\"h:mm:ss a z\",\"h:mm:ss a zzzz\"],[\"{1}, {0}\",u,\"{1} 'at' {0}\",u],[\".\",\",\",\";\",\"%\",\"+\",\"-\",\"E\",\"\\xD7\",\"\\u2030\",\"\\u221E\",\"NaN\",\":\"],[\"#,##0.###\",\"#,##0%\",\"\\xA4#,##0.00\",\"#E0\"],\"USD\",\"$\",\"US Dollar\",{},\"ltr\",plural,[[[\"mi\",\"n\",\"in the morning\",\"in the afternoon\",\"in the evening\",\"at night\"],[\"midnight\",\"noon\",\"in the morning\",\"in the afternoon\",\"in the evening\",\"at night\"],u],[[\"midnight\",\"noon\",\"morning\",\"afternoon\",\"evening\",\"night\"],u,u],[\"00:00\",\"12:00\",[\"06:00\",\"12:00\"],[\"12:00\",\"18:00\"],[\"18:00\",\"21:00\"],[\"21:00\",\"06:00\"]]]]})(typeof globalThis!==\"undefined\"&&globalThis||typeof global!==\"undefined\"&&global||typeof window!==\"undefined\"&&window);","import { NgModule } from '@angular/core'\nimport { Routes, RouterModule } from '@angular/router'\nimport { AppFrameComponent } from './components/app-frame/app-frame.component'\nimport { DashboardComponent } from './components/dashboard/dashboard.component'\nimport { DocumentDetailComponent } from './components/document-detail/document-detail.component'\nimport { DocumentListComponent } from './components/document-list/document-list.component'\nimport { CorrespondentListComponent } from './components/manage/correspondent-list/correspondent-list.component'\nimport { DocumentTypeListComponent } from './components/manage/document-type-list/document-type-list.component'\nimport { LogsComponent } from './components/manage/logs/logs.component'\nimport { SettingsComponent } from './components/manage/settings/settings.component'\nimport { TagListComponent } from './components/manage/tag-list/tag-list.component'\nimport { NotFoundComponent } from './components/not-found/not-found.component'\nimport { DocumentAsnComponent } from './components/document-asn/document-asn.component'\nimport { DirtyFormGuard } from './guards/dirty-form.guard'\nimport { StoragePathListComponent } from './components/manage/storage-path-list/storage-path-list.component'\nimport { TasksComponent } from './components/manage/tasks/tasks.component'\nimport { DirtyDocGuard } from './guards/dirty-doc.guard'\nimport { DirtySavedViewGuard } from './guards/dirty-saved-view.guard'\n\nconst routes: Routes = [\n  { path: '', redirectTo: 'dashboard', pathMatch: 'full' },\n  {\n    path: '',\n    component: AppFrameComponent,\n    canDeactivate: [DirtyDocGuard],\n    children: [\n      { path: 'dashboard', component: DashboardComponent },\n      {\n        path: 'documents',\n        component: DocumentListComponent,\n        canDeactivate: [DirtySavedViewGuard],\n      },\n      {\n        path: 'view/:id',\n        component: DocumentListComponent,\n        canDeactivate: [DirtySavedViewGuard],\n      },\n      { path: 'documents/:id', component: DocumentDetailComponent },\n      { path: 'asn/:id', component: DocumentAsnComponent },\n      { path: 'tags', component: TagListComponent },\n      { path: 'documenttypes', component: DocumentTypeListComponent },\n      { path: 'correspondents', component: CorrespondentListComponent },\n      { path: 'storagepaths', component: StoragePathListComponent },\n      { path: 'logs', component: LogsComponent },\n      {\n        path: 'settings',\n        component: SettingsComponent,\n        canDeactivate: [DirtyFormGuard],\n      },\n      {\n        path: 'settings/:section',\n        component: SettingsComponent,\n        canDeactivate: [DirtyFormGuard],\n      },\n      { path: 'tasks', component: TasksComponent },\n    ],\n  },\n\n  { path: '404', component: NotFoundComponent },\n  { path: '**', redirectTo: '/404', pathMatch: 'full' },\n]\n\n@NgModule({\n  imports: [RouterModule.forRoot(routes)],\n  exports: [RouterModule],\n})\nexport class AppRoutingModule {}\n","import { SettingsService } from './services/settings.service'\nimport { SETTINGS_KEYS } from './data/paperless-uisettings'\nimport { Component, OnDestroy, OnInit, Renderer2 } from '@angular/core'\nimport { Router } from '@angular/router'\nimport { Subscription } from 'rxjs'\nimport { ConsumerStatusService } from './services/consumer-status.service'\nimport { ToastService } from './services/toast.service'\nimport { NgxFileDropEntry } from 'ngx-file-drop'\nimport { UploadDocumentsService } from './services/upload-documents.service'\nimport { TasksService } from './services/tasks.service'\nimport { TourService } from 'ngx-ui-tour-ng-bootstrap'\n\n@Component({\n  selector: 'app-root',\n  templateUrl: './app.component.html',\n  styleUrls: ['./app.component.scss'],\n})\nexport class AppComponent implements OnInit, OnDestroy {\n  newDocumentSubscription: Subscription\n  successSubscription: Subscription\n  failedSubscription: Subscription\n\n  private fileLeaveTimeoutID: any\n  fileIsOver: boolean = false\n  hidden: boolean = true\n\n  constructor(\n    private settings: SettingsService,\n    private consumerStatusService: ConsumerStatusService,\n    private toastService: ToastService,\n    private router: Router,\n    private uploadDocumentsService: UploadDocumentsService,\n    private tasksService: TasksService,\n    public tourService: TourService,\n    private renderer: Renderer2\n  ) {\n    let anyWindow = window as any\n    anyWindow.pdfWorkerSrc = 'assets/js/pdf.worker.min.js'\n    this.settings.updateAppearanceSettings()\n  }\n\n  ngOnDestroy(): void {\n    this.consumerStatusService.disconnect()\n    if (this.successSubscription) {\n      this.successSubscription.unsubscribe()\n    }\n    if (this.failedSubscription) {\n      this.failedSubscription.unsubscribe()\n    }\n    if (this.newDocumentSubscription) {\n      this.newDocumentSubscription.unsubscribe()\n    }\n  }\n\n  private showNotification(key) {\n    if (\n      this.router.url == '/dashboard' &&\n      this.settings.get(\n        SETTINGS_KEYS.NOTIFICATIONS_CONSUMER_SUPPRESS_ON_DASHBOARD\n      )\n    ) {\n      return false\n    }\n    return this.settings.get(key)\n  }\n\n  ngOnInit(): void {\n    this.consumerStatusService.connect()\n\n    this.successSubscription = this.consumerStatusService\n      .onDocumentConsumptionFinished()\n      .subscribe((status) => {\n        this.tasksService.reload()\n        if (\n          this.showNotification(SETTINGS_KEYS.NOTIFICATIONS_CONSUMER_SUCCESS)\n        ) {\n          this.toastService.show({\n            title: $localize`Document added`,\n            delay: 10000,\n            content: $localize`Document ${status.filename} was added to paperless.`,\n            actionName: $localize`Open document`,\n            action: () => {\n              this.router.navigate(['documents', status.documentId])\n            },\n          })\n        }\n      })\n\n    this.failedSubscription = this.consumerStatusService\n      .onDocumentConsumptionFailed()\n      .subscribe((status) => {\n        this.tasksService.reload()\n        if (\n          this.showNotification(SETTINGS_KEYS.NOTIFICATIONS_CONSUMER_FAILED)\n        ) {\n          this.toastService.showError(\n            $localize`Could not add ${status.filename}\\: ${status.message}`\n          )\n        }\n      })\n\n    this.newDocumentSubscription = this.consumerStatusService\n      .onDocumentDetected()\n      .subscribe((status) => {\n        this.tasksService.reload()\n        if (\n          this.showNotification(\n            SETTINGS_KEYS.NOTIFICATIONS_CONSUMER_NEW_DOCUMENT\n          )\n        ) {\n          this.toastService.show({\n            title: $localize`New document detected`,\n            delay: 5000,\n            content: $localize`Document ${status.filename} is being processed by paperless.`,\n          })\n        }\n      })\n\n    const prevBtnTitle = $localize`Prev`\n    const nextBtnTitle = $localize`Next`\n    const endBtnTitle = $localize`End`\n\n    this.tourService.initialize([\n      {\n        anchorId: 'tour.dashboard',\n        content: $localize`The dashboard can be used to show saved views, such as an 'Inbox'. Those settings are found under Settings > Saved Views once you have created some.`,\n        route: '/dashboard',\n        enableBackdrop: true,\n        delayAfterNavigation: 500,\n        prevBtnTitle,\n        nextBtnTitle,\n        endBtnTitle,\n      },\n      {\n        anchorId: 'tour.upload-widget',\n        content: $localize`Drag-and-drop documents here to start uploading or place them in the consume folder. You can also drag-and-drop documents anywhere on all other pages of the web app. Once you do, Paperless-ngx will start training its machine learning algorithms.`,\n        route: '/dashboard',\n        enableBackdrop: true,\n        prevBtnTitle,\n        nextBtnTitle,\n        endBtnTitle,\n      },\n      {\n        anchorId: 'tour.documents',\n        content: $localize`The documents list shows all of your documents and allows for filtering as well as bulk-editing. There are three different view styles: list, small cards and large cards. A list of documents currently opened for editing is shown in the sidebar.`,\n        route: '/documents?sort=created&reverse=1&page=1',\n        delayAfterNavigation: 500,\n        placement: 'bottom',\n        enableBackdrop: true,\n        disableScrollToAnchor: true,\n        prevBtnTitle,\n        nextBtnTitle,\n        endBtnTitle,\n      },\n      {\n        anchorId: 'tour.documents-filter-editor',\n        content: $localize`The filtering tools allow you to quickly find documents using various searches, dates, tags, etc.`,\n        route: '/documents?sort=created&reverse=1&page=1',\n        placement: 'bottom',\n        enableBackdrop: true,\n        prevBtnTitle,\n        nextBtnTitle,\n        endBtnTitle,\n      },\n      {\n        anchorId: 'tour.documents-views',\n        content: $localize`Any combination of filters can be saved as a 'view' which can then be displayed on the dashboard and / or sidebar.`,\n        route: '/documents?sort=created&reverse=1&page=1',\n        enableBackdrop: true,\n        prevBtnTitle,\n        nextBtnTitle,\n        endBtnTitle,\n      },\n      {\n        anchorId: 'tour.tags',\n        content: $localize`Tags, correspondents, document types and storage paths can all be managed using these pages. They can also be created from the document edit view.`,\n        route: '/tags',\n        enableBackdrop: true,\n        prevBtnTitle,\n        nextBtnTitle,\n        endBtnTitle,\n      },\n      {\n        anchorId: 'tour.file-tasks',\n        content: $localize`File Tasks shows you documents that have been consumed, are waiting to be, or may have failed during the process.`,\n        route: '/tasks',\n        enableBackdrop: true,\n        prevBtnTitle,\n        nextBtnTitle,\n        endBtnTitle,\n      },\n      {\n        anchorId: 'tour.settings',\n        content: $localize`Check out the settings for various tweaks to the web app, toggle settings for saved views or setup e-mail checking.`,\n        route: '/settings',\n        enableBackdrop: true,\n        prevBtnTitle,\n        nextBtnTitle,\n        endBtnTitle,\n      },\n      {\n        anchorId: 'tour.outro',\n        title: $localize`Thank you! `,\n        content:\n          $localize`There are <em>tons</em> more features and info we didn't cover here, but this should get you started. Check out the documentation or visit the project on GitHub to learn more or to report issues.` +\n          '<br/><br/>' +\n          $localize`Lastly, on behalf of every contributor to this community-supported project, thank you for using Paperless-ngx!`,\n        route: '/dashboard',\n        prevBtnTitle,\n        nextBtnTitle,\n        endBtnTitle,\n      },\n    ])\n\n    this.tourService.start$.subscribe(() => {\n      this.renderer.addClass(document.body, 'tour-active')\n    })\n\n    this.tourService.end$.subscribe(() => {\n      // animation time\n      setTimeout(() => {\n        this.renderer.removeClass(document.body, 'tour-active')\n      }, 500)\n    })\n  }\n\n  public get dragDropEnabled(): boolean {\n    return !this.router.url.includes('dashboard')\n  }\n\n  public fileOver() {\n    // allows transition\n    setTimeout(() => {\n      this.fileIsOver = true\n    }, 1)\n    this.hidden = false\n    // stop fileLeave timeout\n    clearTimeout(this.fileLeaveTimeoutID)\n  }\n\n  public fileLeave(immediate: boolean = false) {\n    const ms = immediate ? 0 : 500\n\n    this.fileLeaveTimeoutID = setTimeout(() => {\n      this.fileIsOver = false\n      // await transition completed\n      setTimeout(() => {\n        this.hidden = true\n      }, 150)\n    }, ms)\n  }\n\n  public dropped(files: NgxFileDropEntry[]) {\n    this.fileLeave(true)\n    this.uploadDocumentsService.uploadFiles(files)\n    this.toastService.showInfo($localize`Initiating upload...`, 3000)\n  }\n}\n","<app-toasts></app-toasts>\n\n<ngx-file-drop dropZoneClassName=\"main-dropzone\" contentClassName=\"main-content\" [disabled]=\"!dragDropEnabled\"\n(onFileDrop)=\"dropped($event)\" (onFileOver)=\"fileOver()\" (onFileLeave)=\"fileLeave()\">\n    <ng-template ngx-file-drop-content-tmp>\n        <div class=\"global-dropzone-overlay fade\" [class.show]=\"fileIsOver\" [class.hide]=\"hidden\">\n            <h2 i18n>Drop files to begin upload</h2>\n        </div>\n        <div [class.inert]=\"fileIsOver\">\n            <router-outlet></router-outlet>\n        </div>\n    </ng-template>\n</ngx-file-drop>\n\n<tour-step-template>\n    <ng-template #tourStep let-step=\"step\">\n        <p class=\"tour-step-content\" [innerHTML]=\"step?.content\"></p>\n        <hr/>\n        <div class=\"d-flex justify-content-between align-items-center\">\n            <span class=\"badge bg-light text-dark\">{{ tourService.steps?.indexOf(step) + 1 }} / {{ tourService.steps?.length }}</span>\n            <div class=\"tour-step-navigation btn-toolbar\" role=\"toolbar\" aria-label=\"Controls\">\n                <div class=\"btn-group btn-group-sm me-2\" role=\"group\" aria-label=\"Dismiss\">\n                    <button class=\"btn btn-outline-danger\" (click)=\"tourService.end()\">\n                        {{ step?.endBtnTitle }}\n                    </button>\n                </div>\n                <div class=\"btn-group btn-group-sm align-self-end\" role=\"group\" aria-label=\"Previous / Next\">\n                    <button *ngIf=\"tourService.hasPrev(step)\" class=\"btn btn-outline-primary\" (click)=\"tourService.prev()\">\n                         {{ step?.prevBtnTitle }}\n                    </button>\n                    <button *ngIf=\"tourService.hasNext(step)\" class=\"btn btn-outline-primary\" (click)=\"tourService.next()\">\n                        {{ step?.nextBtnTitle }} \n                    </button>\n                </div>\n            </div>\n        </div>\n    </ng-template>\n</tour-step-template>\n","import { BrowserModule } from '@angular/platform-browser'\nimport { APP_INITIALIZER, NgModule } from '@angular/core'\nimport { AppRoutingModule } from './app-routing.module'\nimport { AppComponent } from './app.component'\nimport {\n  NgbDateAdapter,\n  NgbDateParserFormatter,\n  NgbModule,\n} from '@ng-bootstrap/ng-bootstrap'\nimport { HttpClientModule, HTTP_INTERCEPTORS } from '@angular/common/http'\nimport { DocumentListComponent } from './components/document-list/document-list.component'\nimport { DocumentDetailComponent } from './components/document-detail/document-detail.component'\nimport { DashboardComponent } from './components/dashboard/dashboard.component'\nimport { TagListComponent } from './components/manage/tag-list/tag-list.component'\nimport { DocumentTypeListComponent } from './components/manage/document-type-list/document-type-list.component'\nimport { CorrespondentListComponent } from './components/manage/correspondent-list/correspondent-list.component'\nimport { LogsComponent } from './components/manage/logs/logs.component'\nimport { SettingsComponent } from './components/manage/settings/settings.component'\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms'\nimport { DatePipe, registerLocaleData } from '@angular/common'\nimport { NotFoundComponent } from './components/not-found/not-found.component'\nimport { ConfirmDialogComponent } from './components/common/confirm-dialog/confirm-dialog.component'\nimport { CorrespondentEditDialogComponent } from './components/common/edit-dialog/correspondent-edit-dialog/correspondent-edit-dialog.component'\nimport { TagEditDialogComponent } from './components/common/edit-dialog/tag-edit-dialog/tag-edit-dialog.component'\nimport { DocumentTypeEditDialogComponent } from './components/common/edit-dialog/document-type-edit-dialog/document-type-edit-dialog.component'\nimport { TagComponent } from './components/common/tag/tag.component'\nimport { ClearableBadgeComponent } from './components/common/clearable-badge/clearable-badge.component'\nimport { PageHeaderComponent } from './components/common/page-header/page-header.component'\nimport { AppFrameComponent } from './components/app-frame/app-frame.component'\nimport { ToastsComponent } from './components/common/toasts/toasts.component'\nimport { FilterEditorComponent } from './components/document-list/filter-editor/filter-editor.component'\nimport { FilterableDropdownComponent } from './components/common/filterable-dropdown/filterable-dropdown.component'\nimport { ToggleableDropdownButtonComponent } from './components/common/filterable-dropdown/toggleable-dropdown-button/toggleable-dropdown-button.component'\nimport { DateDropdownComponent } from './components/common/date-dropdown/date-dropdown.component'\nimport { DocumentCardLargeComponent } from './components/document-list/document-card-large/document-card-large.component'\nimport { DocumentCardSmallComponent } from './components/document-list/document-card-small/document-card-small.component'\nimport { BulkEditorComponent } from './components/document-list/bulk-editor/bulk-editor.component'\nimport { NgxFileDropModule } from 'ngx-file-drop'\nimport { TextComponent } from './components/common/input/text/text.component'\nimport { SelectComponent } from './components/common/input/select/select.component'\nimport { CheckComponent } from './components/common/input/check/check.component'\nimport { PasswordComponent } from './components/common/input/password/password.component'\nimport { SaveViewConfigDialogComponent } from './components/document-list/save-view-config-dialog/save-view-config-dialog.component'\nimport { TagsComponent } from './components/common/input/tags/tags.component'\nimport { SortableDirective } from './directives/sortable.directive'\nimport { CookieService } from 'ngx-cookie-service'\nimport { CsrfInterceptor } from './interceptors/csrf.interceptor'\nimport { SavedViewWidgetComponent } from './components/dashboard/widgets/saved-view-widget/saved-view-widget.component'\nimport { StatisticsWidgetComponent } from './components/dashboard/widgets/statistics-widget/statistics-widget.component'\nimport { UploadFileWidgetComponent } from './components/dashboard/widgets/upload-file-widget/upload-file-widget.component'\nimport { WidgetFrameComponent } from './components/dashboard/widgets/widget-frame/widget-frame.component'\nimport { PdfViewerModule } from 'ng2-pdf-viewer'\nimport { WelcomeWidgetComponent } from './components/dashboard/widgets/welcome-widget/welcome-widget.component'\nimport { YesNoPipe } from './pipes/yes-no.pipe'\nimport { FileSizePipe } from './pipes/file-size.pipe'\nimport { FilterPipe } from './pipes/filter.pipe'\nimport { DocumentTitlePipe } from './pipes/document-title.pipe'\nimport { MetadataCollapseComponent } from './components/document-detail/metadata-collapse/metadata-collapse.component'\nimport { SelectDialogComponent } from './components/common/select-dialog/select-dialog.component'\nimport { NgSelectModule } from '@ng-select/ng-select'\nimport { NumberComponent } from './components/common/input/number/number.component'\nimport { SafeUrlPipe } from './pipes/safeurl.pipe'\nimport { SafeHtmlPipe } from './pipes/safehtml.pipe'\nimport { CustomDatePipe } from './pipes/custom-date.pipe'\nimport { DateComponent } from './components/common/input/date/date.component'\nimport { ISODateAdapter } from './utils/ngb-iso-date-adapter'\nimport { LocalizedDateParserFormatter } from './utils/ngb-date-parser-formatter'\nimport { ApiVersionInterceptor } from './interceptors/api-version.interceptor'\nimport { ColorSliderModule } from 'ngx-color/slider'\nimport { ColorComponent } from './components/common/input/color/color.component'\nimport { DocumentAsnComponent } from './components/document-asn/document-asn.component'\nimport { DocumentCommentsComponent } from './components/document-comments/document-comments.component'\nimport { DirtyDocGuard } from './guards/dirty-doc.guard'\nimport { DirtySavedViewGuard } from './guards/dirty-saved-view.guard'\nimport { StoragePathListComponent } from './components/manage/storage-path-list/storage-path-list.component'\nimport { StoragePathEditDialogComponent } from './components/common/edit-dialog/storage-path-edit-dialog/storage-path-edit-dialog.component'\nimport { SettingsService } from './services/settings.service'\nimport { TasksComponent } from './components/manage/tasks/tasks.component'\nimport { TourNgBootstrapModule } from 'ngx-ui-tour-ng-bootstrap'\nimport { MailAccountEditDialogComponent } from './components/common/edit-dialog/mail-account-edit-dialog/mail-account-edit-dialog.component'\nimport { MailRuleEditDialogComponent } from './components/common/edit-dialog/mail-rule-edit-dialog/mail-rule-edit-dialog.component'\n\nimport localeAr from '@angular/common/locales/ar'\nimport localeBe from '@angular/common/locales/be'\nimport localeCs from '@angular/common/locales/cs'\nimport localeDa from '@angular/common/locales/da'\nimport localeDe from '@angular/common/locales/de'\nimport localeEnGb from '@angular/common/locales/en-GB'\nimport localeEs from '@angular/common/locales/es'\nimport localeFr from '@angular/common/locales/fr'\nimport localeIt from '@angular/common/locales/it'\nimport localeLb from '@angular/common/locales/lb'\nimport localeNl from '@angular/common/locales/nl'\nimport localePl from '@angular/common/locales/pl'\nimport localePt from '@angular/common/locales/pt'\nimport localeRo from '@angular/common/locales/ro'\nimport localeRu from '@angular/common/locales/ru'\nimport localeSl from '@angular/common/locales/sl'\nimport localeSr from '@angular/common/locales/sr'\nimport localeSv from '@angular/common/locales/sv'\nimport localeTr from '@angular/common/locales/tr'\nimport localeZh from '@angular/common/locales/zh'\n\nregisterLocaleData(localeAr)\nregisterLocaleData(localeBe)\nregisterLocaleData(localeCs)\nregisterLocaleData(localeDa)\nregisterLocaleData(localeDe)\nregisterLocaleData(localeEnGb)\nregisterLocaleData(localeEs)\nregisterLocaleData(localeFr)\nregisterLocaleData(localeIt)\nregisterLocaleData(localeLb)\nregisterLocaleData(localeNl)\nregisterLocaleData(localePl)\nregisterLocaleData(localePt, 'pt-BR')\nregisterLocaleData(localePt, 'pt-PT')\nregisterLocaleData(localeRo)\nregisterLocaleData(localeRu)\nregisterLocaleData(localeSl)\nregisterLocaleData(localeSr)\nregisterLocaleData(localeSv)\nregisterLocaleData(localeTr)\nregisterLocaleData(localeZh)\n\nfunction initializeApp(settings: SettingsService) {\n  return () => {\n    return settings.initializeSettings()\n  }\n}\n\n@NgModule({\n  declarations: [\n    AppComponent,\n    DocumentListComponent,\n    DocumentDetailComponent,\n    DashboardComponent,\n    TagListComponent,\n    DocumentTypeListComponent,\n    CorrespondentListComponent,\n    StoragePathListComponent,\n    LogsComponent,\n    SettingsComponent,\n    NotFoundComponent,\n    CorrespondentEditDialogComponent,\n    ConfirmDialogComponent,\n    TagEditDialogComponent,\n    DocumentTypeEditDialogComponent,\n    StoragePathEditDialogComponent,\n    TagComponent,\n    ClearableBadgeComponent,\n    PageHeaderComponent,\n    AppFrameComponent,\n    ToastsComponent,\n    FilterEditorComponent,\n    FilterableDropdownComponent,\n    ToggleableDropdownButtonComponent,\n    DateDropdownComponent,\n    DocumentCardLargeComponent,\n    DocumentCardSmallComponent,\n    BulkEditorComponent,\n    TextComponent,\n    SelectComponent,\n    CheckComponent,\n    PasswordComponent,\n    SaveViewConfigDialogComponent,\n    TagsComponent,\n    SortableDirective,\n    SavedViewWidgetComponent,\n    StatisticsWidgetComponent,\n    UploadFileWidgetComponent,\n    WidgetFrameComponent,\n    WelcomeWidgetComponent,\n    YesNoPipe,\n    FileSizePipe,\n    FilterPipe,\n    DocumentTitlePipe,\n    MetadataCollapseComponent,\n    SelectDialogComponent,\n    NumberComponent,\n    SafeUrlPipe,\n    SafeHtmlPipe,\n    CustomDatePipe,\n    DateComponent,\n    ColorComponent,\n    DocumentAsnComponent,\n    DocumentCommentsComponent,\n    TasksComponent,\n    MailAccountEditDialogComponent,\n    MailRuleEditDialogComponent,\n  ],\n  imports: [\n    BrowserModule,\n    AppRoutingModule,\n    NgbModule,\n    HttpClientModule,\n    FormsModule,\n    ReactiveFormsModule,\n    NgxFileDropModule,\n    PdfViewerModule,\n    NgSelectModule,\n    ColorSliderModule,\n    TourNgBootstrapModule,\n  ],\n  providers: [\n    {\n      provide: APP_INITIALIZER,\n      useFactory: initializeApp,\n      deps: [SettingsService],\n      multi: true,\n    },\n    DatePipe,\n    CookieService,\n    {\n      provide: HTTP_INTERCEPTORS,\n      useClass: CsrfInterceptor,\n      multi: true,\n    },\n    {\n      provide: HTTP_INTERCEPTORS,\n      useClass: ApiVersionInterceptor,\n      multi: true,\n    },\n    FilterPipe,\n    DocumentTitlePipe,\n    { provide: NgbDateAdapter, useClass: ISODateAdapter },\n    { provide: NgbDateParserFormatter, useClass: LocalizedDateParserFormatter },\n    DirtyDocGuard,\n    DirtySavedViewGuard,\n  ],\n  bootstrap: [AppComponent],\n})\nexport class AppModule {}\n","import { Component, HostListener, OnInit } from '@angular/core'\nimport { FormControl } from '@angular/forms'\nimport { ActivatedRoute, Router } from '@angular/router'\nimport { from, Observable } from 'rxjs'\nimport {\n  debounceTime,\n  distinctUntilChanged,\n  map,\n  switchMap,\n  first,\n} from 'rxjs/operators'\nimport { PaperlessDocument } from 'src/app/data/paperless-document'\nimport { OpenDocumentsService } from 'src/app/services/open-documents.service'\nimport { SavedViewService } from 'src/app/services/rest/saved-view.service'\nimport { SearchService } from 'src/app/services/rest/search.service'\nimport { environment } from 'src/environments/environment'\nimport { DocumentDetailComponent } from '../document-detail/document-detail.component'\nimport { DocumentListViewService } from 'src/app/services/document-list-view.service'\nimport { FILTER_FULLTEXT_QUERY } from 'src/app/data/filter-rule-type'\nimport {\n  RemoteVersionService,\n  AppRemoteVersion,\n} from 'src/app/services/rest/remote-version.service'\nimport { SettingsService } from 'src/app/services/settings.service'\nimport { TasksService } from 'src/app/services/tasks.service'\nimport { ComponentCanDeactivate } from 'src/app/guards/dirty-doc.guard'\nimport { SETTINGS_KEYS } from 'src/app/data/paperless-uisettings'\nimport { ToastService } from 'src/app/services/toast.service'\n\n@Component({\n  selector: 'app-app-frame',\n  templateUrl: './app-frame.component.html',\n  styleUrls: ['./app-frame.component.scss'],\n})\nexport class AppFrameComponent implements OnInit, ComponentCanDeactivate {\n  constructor(\n    public router: Router,\n    private activatedRoute: ActivatedRoute,\n    private openDocumentsService: OpenDocumentsService,\n    private searchService: SearchService,\n    public savedViewService: SavedViewService,\n    private remoteVersionService: RemoteVersionService,\n    private list: DocumentListViewService,\n    public settingsService: SettingsService,\n    public tasksService: TasksService,\n    private readonly toastService: ToastService\n  ) {}\n\n  ngOnInit(): void {\n    if (this.settingsService.get(SETTINGS_KEYS.UPDATE_CHECKING_ENABLED)) {\n      this.checkForUpdates()\n    }\n    this.tasksService.reload()\n  }\n\n  versionString = `${environment.appTitle} ${environment.version}`\n  appRemoteVersion\n\n  isMenuCollapsed: boolean = true\n\n  slimSidebarAnimating: boolean = false\n\n  toggleSlimSidebar(): void {\n    this.slimSidebarAnimating = true\n    this.slimSidebarEnabled = !this.slimSidebarEnabled\n    setTimeout(() => {\n      this.slimSidebarAnimating = false\n    }, 200) // slightly longer than css animation for slim sidebar\n  }\n\n  get slimSidebarEnabled(): boolean {\n    return this.settingsService.get(SETTINGS_KEYS.SLIM_SIDEBAR)\n  }\n\n  set slimSidebarEnabled(enabled: boolean) {\n    this.settingsService.set(SETTINGS_KEYS.SLIM_SIDEBAR, enabled)\n    this.settingsService\n      .storeSettings()\n      .pipe(first())\n      .subscribe({\n        error: (error) => {\n          this.toastService.showError(\n            $localize`An error occurred while saving settings.`\n          )\n          console.log(error)\n        },\n      })\n  }\n\n  closeMenu() {\n    this.isMenuCollapsed = true\n  }\n\n  get openDocuments(): PaperlessDocument[] {\n    return this.openDocumentsService.getOpenDocuments()\n  }\n\n  @HostListener('window:beforeunload')\n  canDeactivate(): Observable<boolean> | boolean {\n    return !this.openDocumentsService.hasDirty()\n  }\n\n  searchField = new FormControl('')\n\n  get searchFieldEmpty(): boolean {\n    return this.searchField.value.trim().length == 0\n  }\n\n  resetSearchField() {\n    this.searchField.reset('')\n  }\n\n  searchFieldKeyup(event: KeyboardEvent) {\n    if (event.key == 'Escape') {\n      this.resetSearchField()\n    }\n  }\n\n  searchAutoComplete = (text$: Observable<string>) =>\n    text$.pipe(\n      debounceTime(200),\n      distinctUntilChanged(),\n      map((term) => {\n        if (term.lastIndexOf(' ') != -1) {\n          return term.substring(term.lastIndexOf(' ') + 1)\n        } else {\n          return term\n        }\n      }),\n      switchMap((term) =>\n        term.length < 2 ? from([[]]) : this.searchService.autocomplete(term)\n      )\n    )\n\n  itemSelected(event) {\n    event.preventDefault()\n    let currentSearch: string = this.searchField.value\n    let lastSpaceIndex = currentSearch.lastIndexOf(' ')\n    if (lastSpaceIndex != -1) {\n      currentSearch = currentSearch.substring(0, lastSpaceIndex + 1)\n      currentSearch += event.item + ' '\n    } else {\n      currentSearch = event.item + ' '\n    }\n    this.searchField.patchValue(currentSearch)\n  }\n\n  search() {\n    this.closeMenu()\n    this.list.quickFilter([\n      {\n        rule_type: FILTER_FULLTEXT_QUERY,\n        value: (this.searchField.value as string).trim(),\n      },\n    ])\n  }\n\n  closeDocument(d: PaperlessDocument) {\n    this.openDocumentsService\n      .closeDocument(d)\n      .pipe(first())\n      .subscribe((confirmed) => {\n        if (confirmed) {\n          this.closeMenu()\n          let route = this.activatedRoute.snapshot\n          while (route.firstChild) {\n            route = route.firstChild\n          }\n          if (\n            route.component == DocumentDetailComponent &&\n            route.params['id'] == d.id\n          ) {\n            this.router.navigate([''])\n          }\n        }\n      })\n  }\n\n  closeAll() {\n    // user may need to confirm losing unsaved changes\n    this.openDocumentsService\n      .closeAll()\n      .pipe(first())\n      .subscribe((confirmed) => {\n        if (confirmed) {\n          this.closeMenu()\n\n          // TODO: is there a better way to do this?\n          let route = this.activatedRoute\n          while (route.firstChild) {\n            route = route.firstChild\n          }\n          if (route.component === DocumentDetailComponent) {\n            this.router.navigate([''])\n          }\n        }\n      })\n  }\n\n  private checkForUpdates() {\n    this.remoteVersionService\n      .checkForUpdates()\n      .subscribe((appRemoteVersion: AppRemoteVersion) => {\n        this.appRemoteVersion = appRemoteVersion\n      })\n  }\n\n  setUpdateChecking(enable: boolean) {\n    this.settingsService.set(SETTINGS_KEYS.UPDATE_CHECKING_ENABLED, enable)\n    this.settingsService\n      .storeSettings()\n      .pipe(first())\n      .subscribe({\n        error: (error) => {\n          this.toastService.showError(\n            $localize`An error occurred while saving update checking settings.`\n          )\n          console.log(error)\n        },\n      })\n    if (enable) {\n      this.checkForUpdates()\n    }\n  }\n}\n","<nav class=\"navbar navbar-dark sticky-top bg-primary flex-md-nowrap p-0 shadow\">\n  <button class=\"navbar-toggler d-md-none collapsed border-0\" type=\"button\" data-toggle=\"collapse\"\n    data-target=\"#sidebarMenu\" aria-controls=\"sidebarMenu\" aria-expanded=\"false\" aria-label=\"Toggle navigation\"\n    (click)=\"isMenuCollapsed = !isMenuCollapsed\">\n    <span class=\"navbar-toggler-icon\"></span>\n  </button>\n  <a class=\"navbar-brand col-auto col-md-3 col-lg-2 me-0 px-3 py-3 order-sm-0\" [ngClass]=\"slimSidebarEnabled ? 'slim' : 'col-auto col-md-3 col-lg-2'\" routerLink=\"/dashboard\" tourAnchor=\"tour.intro\">\n    <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 198.43 238.91\" width=\"1em\" class=\"me-2\" fill=\"currentColor\">\n      <path d=\"M194.7,0C164.22,70.94,17.64,79.74,64.55,194.06c.58,1.47-10.85,17-18.47,29.9-1.76-6.45-3.81-13.48-3.52-14.07,38.11-45.14-27.26-70.65-30.78-107.58C-4.64,131.62-10.5,182.92,39,212.53c.3,0,2.64,11.14,3.81,16.71a58.55,58.55,0,0,0-2.93,6.45c-1.17,2.93,7.62,2.64,7.62,3.22.88-.29,21.7-36.93,22.28-37.23C187.67,174.72,208.48,68.6,194.7,0ZM134.61,74.75C79.5,124,70.12,160.64,71.88,178.53,53.41,134.85,107.64,86.77,134.61,74.75ZM28.2,145.11c10.55,9.67,28.14,39.28,13.19,56.57C44.91,193.77,46.08,175.89,28.2,145.11Z\" transform=\"translate(0 0)\"/>\n    </svg>\n    <span class=\"ms-2\" [class.visually-hidden]=\"slimSidebarEnabled\" i18n=\"app title\">Paperless-ngx</span>\n  </a>\n  <div class=\"search-form-container flex-grow-1 py-2 pb-3 pb-sm-2 px-3 ps-md-4 me-sm-auto order-3 order-sm-1\">\n    <form (ngSubmit)=\"search()\" class=\"form-inline flex-grow-1\">\n      <svg width=\"1em\" height=\"1em\" fill=\"currentColor\">\n        <use xlink:href=\"assets/bootstrap-icons.svg#search\"/>\n      </svg>\n      <input class=\"form-control form-control-sm\" type=\"text\" placeholder=\"Search documents\" aria-label=\"Search\"\n        [formControl]=\"searchField\" [ngbTypeahead]=\"searchAutoComplete\" (keyup)=\"searchFieldKeyup($event)\" (selectItem)=\"itemSelected($event)\" i18n-placeholder>\n      <button type=\"button\" *ngIf=\"!searchFieldEmpty\" class=\"btn btn-link btn-sm px-0 position-absolute top-0 end-0\" (click)=\"resetSearchField()\">\n        <svg width=\"1em\" height=\"1em\" viewBox=\"0 0 16 16\" class=\"bi bi-x me-1\" fill=\"currentColor\" xmlns=\"http://www.w3.org/2000/svg\">\n          <path fill-rule=\"evenodd\" d=\"M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708z\"/>\n        </svg>\n      </button>\n    </form>\n  </div>\n  <ul ngbNav class=\"order-sm-3\">\n    <li ngbDropdown class=\"nav-item dropdown\">\n      <button class=\"btn border-0\" id=\"userDropdown\" ngbDropdownToggle>\n        <span class=\"small me-2 d-none d-sm-inline\">\n          {{this.settingsService.displayName}}\n        </span>\n        <svg width=\"1.3em\" height=\"1.3em\" fill=\"currentColor\">\n          <use xlink:href=\"assets/bootstrap-icons.svg#person-circle\"/>\n        </svg>\n      </button>\n      <div ngbDropdownMenu class=\"dropdown-menu-end shadow me-2\" aria-labelledby=\"userDropdown\">\n        <div class=\"d-sm-none\">\n          <p class=\"small mb-0 px-3 text-muted\" i18n>Logged in as {{this.settingsService.displayName}}</p>\n          <div class=\"dropdown-divider\"></div>\n        </div>\n        <a ngbDropdownItem class=\"nav-link\" routerLink=\"settings\" (click)=\"closeMenu()\">\n          <svg class=\"sidebaricon me-2\" fill=\"currentColor\">\n            <use xlink:href=\"assets/bootstrap-icons.svg#gear\"/>\n          </svg><ng-container i18n>Settings</ng-container>\n        </a>\n        <a ngbDropdownItem class=\"nav-link\" href=\"accounts/logout/\">\n          <svg class=\"sidebaricon me-2\" fill=\"currentColor\">\n            <use xlink:href=\"assets/bootstrap-icons.svg#door-open\"/>\n          </svg><ng-container i18n>Logout</ng-container>\n        </a>\n      </div>\n    </li>\n  </ul>\n</nav>\n\n<div class=\"container-fluid\">\n  <div class=\"row\">\n    <nav id=\"sidebarMenu\" class=\"d-md-block bg-light sidebar collapse\" [ngClass]=\"slimSidebarEnabled ? 'slim' : 'col-md-3 col-lg-2'\" [class.animating]=\"slimSidebarAnimating\" [ngbCollapse]=\"isMenuCollapsed\">\n      <button class=\"btn btn-sm btn-dark sidebar-slim-toggler\" (click)=\"toggleSlimSidebar()\">\n        <svg class=\"sidebaricon-sm\" fill=\"currentColor\">\n          <use *ngIf=\"slimSidebarEnabled\" xlink:href=\"assets/bootstrap-icons.svg#chevron-double-right\"/>\n          <use *ngIf=\"!slimSidebarEnabled\" xlink:href=\"assets/bootstrap-icons.svg#chevron-double-left\"/>\n        </svg>\n      </button>\n      <div class=\"sidebar-sticky pt-3 d-flex flex-column justify-space-around\">\n        <ul class=\"nav flex-column\">\n          <li class=\"nav-item\">\n            <a class=\"nav-link\" routerLink=\"dashboard\" routerLinkActive=\"active\" (click)=\"closeMenu()\" ngbPopover=\"Dashboard\" i18n-ngbPopover [disablePopover]=\"!slimSidebarEnabled\" placement=\"end\" container=\"body\" triggers=\"mouseenter:mouseleave\" popoverClass=\"popover-slim\">\n              <svg class=\"sidebaricon\" fill=\"currentColor\">\n                <use xlink:href=\"assets/bootstrap-icons.svg#house\"/>\n              </svg><span>&nbsp;<ng-container i18n>Dashboard</ng-container></span>\n            </a>\n          </li>\n          <li class=\"nav-item\">\n            <a class=\"nav-link\" routerLink=\"documents\" routerLinkActive=\"active\" (click)=\"closeMenu()\" ngbPopover=\"Documents\" i18n-ngbPopover [disablePopover]=\"!slimSidebarEnabled\" placement=\"end\" container=\"body\" triggers=\"mouseenter:mouseleave\" popoverClass=\"popover-slim\">\n              <svg class=\"sidebaricon\" fill=\"currentColor\">\n                <use xlink:href=\"assets/bootstrap-icons.svg#files\"/>\n              </svg><span>&nbsp;<ng-container i18n>Documents</ng-container></span>\n            </a>\n          </li>\n        </ul>\n\n        <h6 class=\"sidebar-heading px-3 mt-4 mb-1 text-muted\" *ngIf='savedViewService.loading || savedViewService.sidebarViews.length > 0'>\n          <span i18n>Saved views</span>\n          <div *ngIf=\"savedViewService.loading\" class=\"spinner-border spinner-border-sm fw-normal ms-2\" role=\"status\"></div>\n        </h6>\n        <ul class=\"nav flex-column mb-2\">\n          <li class=\"nav-item w-100\" *ngFor=\"let view of savedViewService.sidebarViews\">\n            <a class=\"nav-link\" [class.text-truncate]=\"!slimSidebarEnabled\" routerLink=\"view/{{view.id}}\" routerLinkActive=\"active\" (click)=\"closeMenu()\" [ngbPopover]=\"view.name\" [disablePopover]=\"!slimSidebarEnabled\" placement=\"end\" container=\"body\" triggers=\"mouseenter:mouseleave\" popoverClass=\"popover-slim\">\n              <svg class=\"sidebaricon\" fill=\"currentColor\">\n                <use xlink:href=\"assets/bootstrap-icons.svg#funnel\"/>\n              </svg><span>&nbsp;{{view.name}}</span>\n            </a>\n          </li>\n        </ul>\n\n        <h6 class=\"sidebar-heading px-3 mt-4 mb-1 text-muted\" *ngIf='openDocuments.length > 0'>\n          <span i18n>Open documents</span>\n        </h6>\n        <ul class=\"nav flex-column mb-2\">\n          <li class=\"nav-item w-100\" *ngFor='let d of openDocuments'>\n            <a class=\"nav-link\" [class.text-truncate]=\"!slimSidebarEnabled\" routerLink=\"documents/{{d.id}}\" routerLinkActive=\"active\" (click)=\"closeMenu()\" [ngbPopover]=\"d.title | documentTitle\" [disablePopover]=\"!slimSidebarEnabled\" placement=\"end\" container=\"body\" triggers=\"mouseenter:mouseleave\" popoverClass=\"popover-slim\">\n              <svg class=\"sidebaricon\" fill=\"currentColor\">\n                <use xlink:href=\"assets/bootstrap-icons.svg#file-text\"/>\n              </svg><span>&nbsp;{{d.title | documentTitle}}</span>\n              <span class=\"close\" (click)=\"closeDocument(d); $event.preventDefault()\">\n                <svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"currentColor\" class=\"bi bi-x\" viewBox=\"0 0 16 16\">\n                  <use xlink:href=\"assets/bootstrap-icons.svg#x\"/>\n                </svg>\n              </span>\n            </a>\n          </li>\n          <li class=\"nav-item w-100\" *ngIf=\"openDocuments.length >= 1\">\n            <a class=\"nav-link\" [class.text-truncate]=\"!slimSidebarEnabled\" [routerLink]=\"[]\" (click)=\"closeAll()\" ngbPopover=\"Close all\" i18n-ngbPopover [disablePopover]=\"!slimSidebarEnabled\" placement=\"end\" container=\"body\" triggers=\"mouseenter:mouseleave\" popoverClass=\"popover-slim\">\n              <svg class=\"sidebaricon\" fill=\"currentColor\">\n                <use xlink:href=\"assets/bootstrap-icons.svg#x\"/>\n              </svg><span>&nbsp;<ng-container i18n>Close all</ng-container></span>\n            </a>\n          </li>\n        </ul>\n\n        <h6 class=\"sidebar-heading px-3 mt-4 mb-1 text-muted\">\n          <span i18n>Manage</span>\n        </h6>\n        <ul class=\"nav flex-column mb-2\">\n          <li class=\"nav-item\">\n            <a class=\"nav-link\" routerLink=\"correspondents\" routerLinkActive=\"active\" (click)=\"closeMenu()\" ngbPopover=\"Correspondents\" i18n-ngbPopover [disablePopover]=\"!slimSidebarEnabled\" placement=\"end\" container=\"body\" triggers=\"mouseenter:mouseleave\" popoverClass=\"popover-slim\">\n              <svg class=\"sidebaricon\" fill=\"currentColor\">\n                <use xlink:href=\"assets/bootstrap-icons.svg#person\"/>\n              </svg><span>&nbsp;<ng-container i18n>Correspondents</ng-container></span>\n            </a>\n          </li>\n          <li class=\"nav-item\" tourAnchor=\"tour.tags\">\n            <a class=\"nav-link\" routerLink=\"tags\" routerLinkActive=\"active\" (click)=\"closeMenu()\" ngbPopover=\"Tags\" i18n-ngbPopover [disablePopover]=\"!slimSidebarEnabled\" placement=\"end\" container=\"body\" triggers=\"mouseenter:mouseleave\" popoverClass=\"popover-slim\">\n              <svg class=\"sidebaricon\" fill=\"currentColor\">\n                <use xlink:href=\"assets/bootstrap-icons.svg#tags\"/>\n              </svg><span>&nbsp;<ng-container i18n>Tags</ng-container></span>\n            </a>\n          </li>\n          <li class=\"nav-item\">\n            <a class=\"nav-link\" routerLink=\"documenttypes\" routerLinkActive=\"active\" (click)=\"closeMenu()\" ngbPopover=\"Document types\" i18n-ngbPopover [disablePopover]=\"!slimSidebarEnabled\" placement=\"end\" container=\"body\" triggers=\"mouseenter:mouseleave\" popoverClass=\"popover-slim\">\n              <svg class=\"sidebaricon\" fill=\"currentColor\">\n                <use xlink:href=\"assets/bootstrap-icons.svg#hash\"/>\n              </svg><span>&nbsp;<ng-container i18n>Document types</ng-container></span>\n            </a>\n          </li>\n          <li class=\"nav-item\">\n            <a class=\"nav-link\" routerLink=\"storagepaths\" routerLinkActive=\"active\" (click)=\"closeMenu()\" ngbPopover=\"Storage paths\" i18n-ngbPopover [disablePopover]=\"!slimSidebarEnabled\" placement=\"end\" container=\"body\" triggers=\"mouseenter:mouseleave\" popoverClass=\"popover-slim\">\n              <svg class=\"sidebaricon\" fill=\"currentColor\">\n                <use xlink:href=\"assets/bootstrap-icons.svg#folder\"/>\n              </svg><span>&nbsp;<ng-container i18n>Storage paths</ng-container></span>\n            </a>\n          </li>\n          <li class=\"nav-item\" tourAnchor=\"tour.file-tasks\">\n            <a class=\"nav-link\" routerLink=\"tasks\" routerLinkActive=\"active\" (click)=\"closeMenu()\" ngbPopover=\"File Tasks\" i18n-ngbPopover [disablePopover]=\"!slimSidebarEnabled\" placement=\"end\" container=\"body\" triggers=\"mouseenter:mouseleave\" popoverClass=\"popover-slim\">\n              <span *ngIf=\"tasksService.failedFileTasks.length > 0 && slimSidebarEnabled\" class=\"badge bg-danger position-absolute top-0 end-0\">{{tasksService.failedFileTasks.length}}</span>\n              <svg class=\"sidebaricon\" fill=\"currentColor\">\n                <use xlink:href=\"assets/bootstrap-icons.svg#list-task\"/>\n              </svg><span>&nbsp;<ng-container i18n>File Tasks<span *ngIf=\"tasksService.failedFileTasks.length > 0\"><span class=\"badge bg-danger ms-2\">{{tasksService.failedFileTasks.length}}</span></span></ng-container></span>\n            </a>\n          </li>\n          <li class=\"nav-item\">\n            <a class=\"nav-link\" routerLink=\"logs\" routerLinkActive=\"active\" (click)=\"closeMenu()\" ngbPopover=\"Logs\" i18n-ngbPopover [disablePopover]=\"!slimSidebarEnabled\" placement=\"end\" container=\"body\" triggers=\"mouseenter:mouseleave\" popoverClass=\"popover-slim\">\n              <svg class=\"sidebaricon\" fill=\"currentColor\">\n                <use xlink:href=\"assets/bootstrap-icons.svg#text-left\"/>\n              </svg><span>&nbsp;<ng-container i18n>Logs</ng-container></span>\n            </a>\n          </li>\n          <li class=\"nav-item\" tourAnchor=\"tour.settings\">\n            <a class=\"nav-link\" routerLink=\"settings\" routerLinkActive=\"active\" (click)=\"closeMenu()\" ngbPopover=\"Settings\" i18n-ngbPopover [disablePopover]=\"!slimSidebarEnabled\" placement=\"end\" container=\"body\" triggers=\"mouseenter:mouseleave\" popoverClass=\"popover-slim\">\n              <svg class=\"sidebaricon\" fill=\"currentColor\">\n                <use xlink:href=\"assets/bootstrap-icons.svg#gear\"/>\n              </svg><span>&nbsp;<ng-container i18n>Settings</ng-container></span>\n            </a>\n          </li>\n        </ul>\n\n        <h6 class=\"sidebar-heading px-3 mt-auto pt-4 mb-1 text-muted\">\n          <span i18n>Info</span>\n        </h6>\n        <ul class=\"nav flex-column mb-2\">\n          <li class=\"nav-item\" tourAnchor=\"tour.outro\">\n            <a class=\"nav-link\" target=\"_blank\" rel=\"noopener noreferrer\" href=\"https://docs.paperless-ngx.com\" ngbPopover=\"Documentation\" i18n-ngbPopover [disablePopover]=\"!slimSidebarEnabled\" placement=\"end\" container=\"body\" triggers=\"mouseenter:mouseleave\" popoverClass=\"popover-slim\">\n              <svg class=\"sidebaricon\" fill=\"currentColor\">\n                <use xlink:href=\"assets/bootstrap-icons.svg#question-circle\"/>\n              </svg><span>&nbsp;<ng-container i18n>Documentation</ng-container></span>\n            </a>\n          </li>\n          <li class=\"nav-item\">\n            <div class=\"d-flex w-100 flex-wrap\">\n              <a class=\"nav-link pe-2 pb-1\" target=\"_blank\" rel=\"noopener noreferrer\" href=\"https://github.com/paperless-ngx/paperless-ngx\" ngbPopover=\"GitHub\" i18n-ngbPopover [disablePopover]=\"!slimSidebarEnabled\" placement=\"end\" container=\"body\" triggers=\"mouseenter:mouseleave\" popoverClass=\"popover-slim\">\n                <svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"currentColor\" class=\"sidebaricon\" viewBox=\"0 0 16 16\">\n                  <use xlink:href=\"assets/bootstrap-icons.svg#github\" />\n                </svg><span>&nbsp;<ng-container i18n>GitHub</ng-container></span>\n              </a>\n              <a class=\"nav-link-additional small text-muted ms-3\" [class.visually-hidden]=\"slimSidebarEnabled\" target=\"_blank\" rel=\"noopener noreferrer\" href=\"https://github.com/paperless-ngx/paperless-ngx/discussions/categories/feature-requests\" title=\"Suggest an idea\" i18n-title>\n                <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"1.1em\" height=\"1.1em\" fill=\"currentColor\" class=\"me-1\" viewBox=\"0 0 16 16\">\n                  <use xlink:href=\"assets/bootstrap-icons.svg#lightbulb\" />\n                </svg>\n                <ng-container i18n>Suggest an idea</ng-container>\n              </a>\n            </div>\n          </li>\n          <li class=\"nav-item mt-2\" [class.visually-hidden]=\"slimSidebarEnabled\">\n            <div class=\"px-3 py-2 text-muted small d-flex align-items-center flex-wrap\">\n              <div class=\"me-3\">{{ versionString }}</div>\n              <div *ngIf=\"!settingsService.updateCheckingIsSet || appRemoteVersion\" class=\"version-check\">\n                <ng-template #updateAvailablePopContent>\n                  <span class=\"small\">Paperless-ngx {{ appRemoteVersion.version }} <ng-container i18n>is available.</ng-container><br/><ng-container i18n>Click to view.</ng-container></span>\n                </ng-template>\n                <ng-template #updateCheckingNotEnabledPopContent>\n                  <p class=\"small mb-2\">\n                    <ng-container i18n>Paperless-ngx can automatically check for updates</ng-container>\n                  </p>\n                  <div class=\"btn-group btn-group-xs flex-fill w-100\">\n                    <button class=\"btn btn-outline-primary\" (click)=\"setUpdateChecking(true)\">Enable</button>\n                    <button class=\"btn btn-outline-secondary\" (click)=\"setUpdateChecking(false)\">Disable</button>\n                  </div>\n                  <p class=\"small mb-0 mt-2\">\n                    <a class=\"small text-decoration-none fst-italic\" routerLink=\"/settings\" fragment=\"update-checking\" i18n>\n                      How does this work?\n                    </a>\n                  </p>\n                </ng-template>\n                <ng-container *ngIf=\"settingsService.updateCheckingIsSet; else updateCheckNotSet\">\n                  <a *ngIf=\"appRemoteVersion.update_available\" class=\"small text-decoration-none\" target=\"_blank\" rel=\"noopener noreferrer\" href=\"https://github.com/paperless-ngx/paperless-ngx/releases\"\n                  [ngbPopover]=\"updateAvailablePopContent\" popoverClass=\"shadow\" triggers=\"mouseenter:mouseleave\" container=\"body\">\n                    <svg fill=\"currentColor\" class=\"me-1\" width=\"1.2em\" height=\"1.2em\" style=\"vertical-align: text-top;\" viewBox=\"0 0 16 16\">\n                      <use xlink:href=\"assets/bootstrap-icons.svg#info-circle\" />\n                    </svg>\n                    <ng-container *ngIf=\"appRemoteVersion?.update_available\" i18n>Update available</ng-container>\n                  </a>\n                </ng-container>\n                <ng-template #updateCheckNotSet>\n                  <a class=\"small text-decoration-none\" routerLink=\"/settings\" fragment=\"update-checking\"\n                  [ngbPopover]=\"updateCheckingNotEnabledPopContent\" popoverClass=\"shadow\" triggers=\"mouseenter\" container=\"body\">\n                    <svg fill=\"currentColor\" class=\"me-1\" width=\"1.2em\" height=\"1.2em\" style=\"vertical-align: text-top;\" viewBox=\"0 0 16 16\">\n                      <use xlink:href=\"assets/bootstrap-icons.svg#info-circle\" />\n                    </svg>\n                  </a>\n                </ng-template>\n              </div>\n            </div>\n          </li>\n        </ul>\n      </div>\n    </nav>\n\n    <main role=\"main\" class=\"ms-sm-auto px-md-4\" [ngClass]=\"slimSidebarEnabled ? 'col-slim' : 'col-md-9 col-lg-10'\">\n      <router-outlet></router-outlet>\n    </main>\n  </div>\n</div>\n","import { Component, Input, Output, EventEmitter } from '@angular/core'\n\n@Component({\n  selector: 'app-clearable-badge',\n  templateUrl: './clearable-badge.component.html',\n  styleUrls: ['./clearable-badge.component.scss'],\n})\nexport class ClearableBadgeComponent {\n  constructor() {}\n\n  @Input()\n  number: number\n\n  @Input()\n  selected: boolean\n\n  @Output()\n  cleared: EventEmitter<boolean> = new EventEmitter()\n\n  get active(): boolean {\n    return this.selected || this.number > -1\n  }\n\n  get isNumbered(): boolean {\n    return this.number > -1\n  }\n\n  onClick(event: PointerEvent) {\n    this.cleared.emit(true)\n    event.stopImmediatePropagation()\n    event.preventDefault()\n  }\n}\n","<button *ngIf=\"active\" class=\"position-absolute top-0 start-100 translate-middle badge bg-secondary border border-light rounded-pill p-1\" title=\"Clear\" i18n-title (click)=\"onClick($event)\">\n    <svg *ngIf=\"!isNumbered && selected\" width=\"1em\" height=\"1em\" class=\"check m-0 p-0 opacity-75\" viewBox=\"0 0 16 16\" fill=\"currentColor\" xmlns=\"http://www.w3.org/2000/svg\">\n        <use xlink:href=\"assets/bootstrap-icons.svg#check-lg\"/>\n    </svg>\n    <div *ngIf=\"isNumbered\" class=\"number\">{{number}}<span class=\"visually-hidden\">selected</span></div>\n    <svg width=\".9em\" height=\"1em\" class=\"x m-0 p-0 opacity-75\" viewBox=\"0 0 16 16\" fill=\"currentColor\" xmlns=\"http://www.w3.org/2000/svg\">\n        <use xlink:href=\"assets/bootstrap-icons.svg#x-lg\"/>\n    </svg>\n</button>\n","import { Component, EventEmitter, Input, Output } from '@angular/core'\nimport { NgbActiveModal } from '@ng-bootstrap/ng-bootstrap'\nimport { interval, Subject, switchMap, take } from 'rxjs'\n\n@Component({\n  selector: 'app-confirm-dialog',\n  templateUrl: './confirm-dialog.component.html',\n  styleUrls: ['./confirm-dialog.component.scss'],\n})\nexport class ConfirmDialogComponent {\n  constructor(public activeModal: NgbActiveModal) {}\n\n  @Output()\n  public confirmClicked = new EventEmitter()\n\n  @Output()\n  public alternativeClicked = new EventEmitter()\n\n  @Input()\n  title = $localize`Confirmation`\n\n  @Input()\n  messageBold\n\n  @Input()\n  message\n\n  @Input()\n  btnClass = 'btn-primary'\n\n  @Input()\n  btnCaption = $localize`Confirm`\n\n  @Input()\n  alternativeBtnClass = 'btn-secondary'\n\n  @Input()\n  alternativeBtnCaption\n\n  @Input()\n  buttonsEnabled = true\n\n  confirmButtonEnabled = true\n  alternativeButtonEnabled = true\n  seconds = 0\n  secondsTotal = 0\n\n  confirmSubject: Subject<boolean>\n  alternativeSubject: Subject<boolean>\n\n  delayConfirm(seconds: number) {\n    const refreshInterval = 0.15 // s\n\n    this.secondsTotal = seconds\n    this.seconds = seconds\n\n    interval(refreshInterval * 1000)\n      .pipe(\n        take(this.secondsTotal / refreshInterval + 2) // need 2 more for animation to complete after 0\n      )\n      .subscribe((count) => {\n        this.seconds = Math.max(\n          0,\n          this.secondsTotal - refreshInterval * (count + 1)\n        )\n        this.confirmButtonEnabled =\n          this.secondsTotal - refreshInterval * count < 0\n      })\n  }\n\n  cancel() {\n    this.confirmSubject?.next(false)\n    this.confirmSubject?.complete()\n    this.activeModal.close()\n  }\n\n  confirm() {\n    this.confirmClicked.emit()\n    this.confirmSubject?.next(true)\n    this.confirmSubject?.complete()\n  }\n\n  alternative() {\n    this.alternativeClicked.emit()\n    this.alternativeSubject?.next(true)\n    this.alternativeSubject?.complete()\n  }\n}\n","    <div class=\"modal-header\">\n      <h4 class=\"modal-title\" id=\"modal-basic-title\">{{title}}</h4>\n      <button type=\"button\" class=\"btn-close\" aria-label=\"Close\" (click)=\"cancel()\">\n      </button>\n    </div>\n    <div class=\"modal-body\">\n      <p *ngIf=\"messageBold\"><b>{{messageBold}}</b></p>\n      <p class=\"mb-0\" *ngIf=\"message\" [innerHTML]=\"message | safeHtml\"></p>\n    </div>\n    <div class=\"modal-footer\">\n      <button type=\"button\" class=\"btn btn-outline-secondary\" (click)=\"cancel()\" [disabled]=\"!buttonsEnabled\" i18n>\n        <span class=\"d-inline-block\" style=\"padding-bottom: 1px;\" >Cancel</span>\n      </button>\n      <button type=\"button\" class=\"btn\" [class]=\"btnClass\" (click)=\"confirm()\" [disabled]=\"!confirmButtonEnabled || !buttonsEnabled\">\n        {{btnCaption}}\n        <ngb-progressbar *ngIf=\"!confirmButtonEnabled\" style=\"height: 1px;\" type=\"dark\" [max]=\"secondsTotal\" [value]=\"seconds\"></ngb-progressbar>\n        <span class=\"visually-hidden\">{{ seconds | number: '1.0-0' }} seconds</span>\n      </button>\n      <button *ngIf=\"alternativeBtnCaption\" type=\"button\" class=\"btn\" [class]=\"alternativeBtnClass\" (click)=\"alternative()\" [disabled]=\"!alternativeButtonEnabled || !buttonsEnabled\">\n        {{alternativeBtnCaption}}\n      </button>\n    </div>\n","import { formatDate } from '@angular/common'\nimport {\n  Component,\n  EventEmitter,\n  Input,\n  Output,\n  OnInit,\n  OnDestroy,\n} from '@angular/core'\nimport { NgbDateAdapter } from '@ng-bootstrap/ng-bootstrap'\nimport { Subject, Subscription } from 'rxjs'\nimport { debounceTime } from 'rxjs/operators'\nimport { SettingsService } from 'src/app/services/settings.service'\nimport { ISODateAdapter } from 'src/app/utils/ngb-iso-date-adapter'\n\nexport interface DateSelection {\n  before?: string\n  after?: string\n  relativeDateID?: number\n}\n\nexport enum RelativeDate {\n  LAST_7_DAYS = 0,\n  LAST_MONTH = 1,\n  LAST_3_MONTHS = 2,\n  LAST_YEAR = 3,\n}\n\n@Component({\n  selector: 'app-date-dropdown',\n  templateUrl: './date-dropdown.component.html',\n  styleUrls: ['./date-dropdown.component.scss'],\n  providers: [{ provide: NgbDateAdapter, useClass: ISODateAdapter }],\n})\nexport class DateDropdownComponent implements OnInit, OnDestroy {\n  constructor(settings: SettingsService) {\n    this.datePlaceHolder = settings.getLocalizedDateInputFormat()\n  }\n\n  relativeDates = [\n    {\n      date: RelativeDate.LAST_7_DAYS,\n      name: $localize`Last 7 days`,\n    },\n    {\n      date: RelativeDate.LAST_MONTH,\n      name: $localize`Last month`,\n    },\n    {\n      date: RelativeDate.LAST_3_MONTHS,\n      name: $localize`Last 3 months`,\n    },\n    {\n      date: RelativeDate.LAST_YEAR,\n      name: $localize`Last year`,\n    },\n  ]\n\n  datePlaceHolder: string\n\n  @Input()\n  dateBefore: string\n\n  @Output()\n  dateBeforeChange = new EventEmitter<string>()\n\n  @Input()\n  dateAfter: string\n\n  @Output()\n  dateAfterChange = new EventEmitter<string>()\n\n  @Input()\n  relativeDate: RelativeDate\n\n  @Output()\n  relativeDateChange = new EventEmitter<number>()\n\n  @Input()\n  title: string\n\n  @Output()\n  datesSet = new EventEmitter<DateSelection>()\n\n  get isActive(): boolean {\n    return (\n      this.relativeDate !== null ||\n      this.dateAfter?.length > 0 ||\n      this.dateBefore?.length > 0\n    )\n  }\n\n  private datesSetDebounce$ = new Subject()\n\n  private sub: Subscription\n\n  ngOnInit() {\n    this.sub = this.datesSetDebounce$.pipe(debounceTime(400)).subscribe(() => {\n      this.onChange()\n    })\n  }\n\n  ngOnDestroy() {\n    if (this.sub) {\n      this.sub.unsubscribe()\n    }\n  }\n\n  reset() {\n    this.dateBefore = null\n    this.dateAfter = null\n    this.relativeDate = null\n    this.onChange()\n  }\n\n  setRelativeDate(rd: RelativeDate) {\n    this.dateBefore = null\n    this.dateAfter = null\n    this.relativeDate = this.relativeDate == rd ? null : rd\n    this.onChange()\n  }\n\n  onChange() {\n    this.dateBeforeChange.emit(this.dateBefore)\n    this.dateAfterChange.emit(this.dateAfter)\n    this.relativeDateChange.emit(this.relativeDate)\n    this.datesSet.emit({\n      after: this.dateAfter,\n      before: this.dateBefore,\n      relativeDateID: this.relativeDate,\n    })\n  }\n\n  onChangeDebounce() {\n    this.relativeDate = null\n    this.datesSetDebounce$.next({\n      after: this.dateAfter,\n      before: this.dateBefore,\n    })\n  }\n\n  clearBefore() {\n    this.dateBefore = null\n    this.onChange()\n  }\n\n  clearAfter() {\n    this.dateAfter = null\n    this.onChange()\n  }\n\n  // prevent chars other than numbers and separators\n  onKeyPress(event: KeyboardEvent) {\n    if ('Enter' !== event.key && !/[0-9,\\.\\/-]+/.test(event.key)) {\n      event.preventDefault()\n    }\n  }\n}\n","  <div class=\"btn-group w-100\" ngbDropdown role=\"group\">\n  <button class=\"btn btn-sm\" id=\"dropdown{{title}}\" ngbDropdownToggle [ngClass]=\"dateBefore || dateAfter ? 'btn-primary' : 'btn-outline-primary'\">\n    {{title}}\n    <app-clearable-badge [selected]=\"isActive\" (cleared)=\"reset()\"></app-clearable-badge><span class=\"visually-hidden\">selected</span>\n  </button>\n  <div class=\"dropdown-menu date-dropdown shadow pt-0\" ngbDropdownMenu attr.aria-labelledby=\"dropdown{{title}}\">\n    <div class=\"list-group list-group-flush\">\n        <button *ngFor=\"let rd of relativeDates\" class=\"list-group-item small list-goup list-group-item-action d-flex p-2\" role=\"menuitem\" (click)=\"setRelativeDate(rd.date)\">\n          <div _ngcontent-hga-c166=\"\" class=\"selected-icon me-1\">\n            <svg *ngIf=\"relativeDate === rd.date\" xmlns=\"http://www.w3.org/2000/svg\" width=\"1em\" height=\"1em\" fill=\"currentColor\" class=\"bi bi-check\" viewBox=\"0 0 16 16\">\n              <path d=\"M10.97 4.97a.75.75 0 0 1 1.07 1.05l-3.99 4.99a.75.75 0 0 1-1.08.02L4.324 8.384a.75.75 0 1 1 1.06-1.06l2.094 2.093 3.473-4.425a.267.267 0 0 1 .02-.022z\"/>\n            </svg>\n          </div>\n          {{rd.name}}\n        </button>\n        <div class=\"list-group-item d-flex flex-column align-items-start\" role=\"menuitem\">\n\n          <div class=\"mb-2 d-flex flex-row w-100 justify-content-between small\">\n            <div i18n>After</div>\n            <a *ngIf=\"dateAfter\" class=\"btn btn-link p-0 m-0\" (click)=\"clearAfter()\">\n              <svg width=\"0.8em\" height=\"0.8em\" viewBox=\"0 0 16 16\" class=\"bi bi-x\" fill=\"currentColor\" xmlns=\"http://www.w3.org/2000/svg\">\n                <path fill-rule=\"evenodd\" d=\"M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708z\" />\n              </svg>\n              <small i18n>Clear</small>\n            </a>\n          </div>\n\n          <div class=\"input-group input-group-sm\">\n            <input class=\"form-control\" [placeholder]=\"datePlaceHolder\" (dateSelect)=\"onChangeDebounce()\" (change)=\"onChangeDebounce()\" (keypress)=\"onKeyPress($event)\"\n                    maxlength=\"10\" [(ngModel)]=\"dateAfter\" ngbDatepicker #dateAfterPicker=\"ngbDatepicker\">\n            <button class=\"btn btn-outline-secondary\" (click)=\"dateAfterPicker.toggle()\" type=\"button\">\n              <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"13\" height=\"13\" fill=\"currentColor\" class=\"bi bi-calendar\" viewBox=\"0 0 16 16\">\n                <path d=\"M3.5 0a.5.5 0 0 1 .5.5V1h8V.5a.5.5 0 0 1 1 0V1h1a2 2 0 0 1 2 2v11a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V3a2 2 0 0 1 2-2h1V.5a.5.5 0 0 1 .5-.5zM1 4v10a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1V4H1z\"/>\n              </svg>\n            </button>\n          </div>\n\n        </div>\n        <div class=\"list-group-item d-flex flex-column align-items-start\" role=\"menuitem\">\n\n          <div class=\"mb-2 d-flex flex-row w-100 justify-content-between small\">\n            <div i18n>Before</div>\n            <a *ngIf=\"dateBefore\" class=\"btn btn-link p-0 m-0\" (click)=\"clearBefore()\">\n              <svg width=\"0.8em\" height=\"0.8em\" viewBox=\"0 0 16 16\" class=\"bi bi-x\" fill=\"currentColor\" xmlns=\"http://www.w3.org/2000/svg\">\n                <path fill-rule=\"evenodd\" d=\"M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708z\" />\n              </svg>\n              <small i18n>Clear</small>\n            </a>\n          </div>\n\n          <div class=\"input-group input-group-sm\">\n            <input class=\"form-control\" [placeholder]=\"datePlaceHolder\" (dateSelect)=\"onChangeDebounce()\" (change)=\"onChangeDebounce()\" (keypress)=\"onKeyPress($event)\"\n                    maxlength=\"10\" [(ngModel)]=\"dateBefore\" ngbDatepicker #dateBeforePicker=\"ngbDatepicker\">\n            <button class=\"btn btn-outline-secondary\" (click)=\"dateBeforePicker.toggle()\" type=\"button\">\n              <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"13\" height=\"13\" fill=\"currentColor\" class=\"bi bi-calendar\" viewBox=\"0 0 16 16\">\n                <path d=\"M3.5 0a.5.5 0 0 1 .5.5V1h8V.5a.5.5 0 0 1 1 0V1h1a2 2 0 0 1 2 2v11a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V3a2 2 0 0 1 2-2h1V.5a.5.5 0 0 1 .5-.5zM1 4v10a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1V4H1z\"/>\n              </svg>\n            </button>\n          </div>\n\n        </div>\n    </div>\n  </div>\n</div>\n","import { Component } from '@angular/core'\nimport { FormControl, FormGroup } from '@angular/forms'\nimport { NgbActiveModal } from '@ng-bootstrap/ng-bootstrap'\nimport { EditDialogComponent } from 'src/app/components/common/edit-dialog/edit-dialog.component'\nimport { DEFAULT_MATCHING_ALGORITHM } from 'src/app/data/matching-model'\nimport { PaperlessCorrespondent } from 'src/app/data/paperless-correspondent'\nimport { CorrespondentService } from 'src/app/services/rest/correspondent.service'\n\n@Component({\n  selector: 'app-correspondent-edit-dialog',\n  templateUrl: './correspondent-edit-dialog.component.html',\n  styleUrls: ['./correspondent-edit-dialog.component.scss'],\n})\nexport class CorrespondentEditDialogComponent extends EditDialogComponent<PaperlessCorrespondent> {\n  constructor(service: CorrespondentService, activeModal: NgbActiveModal) {\n    super(service, activeModal)\n  }\n\n  getCreateTitle() {\n    return $localize`Create new correspondent`\n  }\n\n  getEditTitle() {\n    return $localize`Edit correspondent`\n  }\n\n  getForm(): FormGroup {\n    return new FormGroup({\n      name: new FormControl(''),\n      matching_algorithm: new FormControl(DEFAULT_MATCHING_ALGORITHM),\n      match: new FormControl(''),\n      is_insensitive: new FormControl(true),\n    })\n  }\n}\n","<form [formGroup]=\"objectForm\" (ngSubmit)=\"save()\">\n  <div class=\"modal-header\">\n    <h4 class=\"modal-title\" id=\"modal-basic-title\">{{getTitle()}}</h4>\n    <button type=\"button\" [disabled]=\"!closeEnabled\" class=\"btn-close\" aria-label=\"Close\" (click)=\"cancel()\">\n    </button>\n  </div>\n  <div class=\"modal-body\">\n    <app-input-text i18n-title title=\"Name\" formControlName=\"name\" [error]=\"error?.name\"></app-input-text>\n    <app-input-select i18n-title title=\"Matching algorithm\" [items]=\"getMatchingAlgorithms()\" formControlName=\"matching_algorithm\"></app-input-select>\n    <app-input-text *ngIf=\"patternRequired\" i18n-title title=\"Matching pattern\" formControlName=\"match\" [error]=\"error?.match\"></app-input-text>\n    <app-input-check *ngIf=\"patternRequired\" i18n-title title=\"Case insensitive\" formControlName=\"is_insensitive\" novalidate></app-input-check>\n  </div>\n  <div class=\"modal-footer\">\n    <button type=\"button\" class=\"btn btn-outline-secondary\" (click)=\"cancel()\" i18n [disabled]=\"networkActive\">Cancel</button>\n    <button type=\"submit\" class=\"btn btn-primary\" i18n [disabled]=\"networkActive\">Save</button>\n  </div>\n</form>\n","import { Component } from '@angular/core'\nimport { FormControl, FormGroup } from '@angular/forms'\nimport { NgbActiveModal } from '@ng-bootstrap/ng-bootstrap'\nimport { EditDialogComponent } from 'src/app/components/common/edit-dialog/edit-dialog.component'\nimport { DEFAULT_MATCHING_ALGORITHM } from 'src/app/data/matching-model'\nimport { PaperlessDocumentType } from 'src/app/data/paperless-document-type'\nimport { DocumentTypeService } from 'src/app/services/rest/document-type.service'\n\n@Component({\n  selector: 'app-document-type-edit-dialog',\n  templateUrl: './document-type-edit-dialog.component.html',\n  styleUrls: ['./document-type-edit-dialog.component.scss'],\n})\nexport class DocumentTypeEditDialogComponent extends EditDialogComponent<PaperlessDocumentType> {\n  constructor(service: DocumentTypeService, activeModal: NgbActiveModal) {\n    super(service, activeModal)\n  }\n\n  getCreateTitle() {\n    return $localize`Create new document type`\n  }\n\n  getEditTitle() {\n    return $localize`Edit document type`\n  }\n\n  getForm(): FormGroup {\n    return new FormGroup({\n      name: new FormControl(''),\n      matching_algorithm: new FormControl(DEFAULT_MATCHING_ALGORITHM),\n      match: new FormControl(''),\n      is_insensitive: new FormControl(true),\n    })\n  }\n}\n","<form [formGroup]=\"objectForm\" (ngSubmit)=\"save()\">\n    <div class=\"modal-header\">\n      <h4 class=\"modal-title\" id=\"modal-basic-title\">{{getTitle()}}</h4>\n      <button type=\"button\" [disabled]=\"!closeEnabled\" class=\"btn-close\" aria-label=\"Close\" (click)=\"cancel()\">\n      </button>\n    </div>\n    <div class=\"modal-body\">\n\n      <app-input-text i18n-title title=\"Name\" formControlName=\"name\" [error]=\"error?.name\"></app-input-text>\n      <app-input-select i18n-title title=\"Matching algorithm\" [items]=\"getMatchingAlgorithms()\" formControlName=\"matching_algorithm\"></app-input-select>\n      <app-input-text *ngIf=\"patternRequired\" i18n-title title=\"Matching pattern\" formControlName=\"match\" [error]=\"error?.match\"></app-input-text>\n      <app-input-check *ngIf=\"patternRequired\" i18n-title title=\"Case insensitive\" formControlName=\"is_insensitive\"></app-input-check>\n\n    </div>\n    <div class=\"modal-footer\">\n      <button type=\"button\" class=\"btn btn-outline-secondary\" (click)=\"cancel()\" i18n [disabled]=\"networkActive\">Cancel</button>\n      <button type=\"submit\" class=\"btn btn-primary\" i18n [disabled]=\"networkActive\">Save</button>\n    </div>\n  </form>\n","import { Directive, EventEmitter, Input, OnInit, Output } from '@angular/core'\nimport { FormGroup } from '@angular/forms'\nimport { NgbActiveModal } from '@ng-bootstrap/ng-bootstrap'\nimport { Observable } from 'rxjs'\nimport { MATCHING_ALGORITHMS, MATCH_AUTO } from 'src/app/data/matching-model'\nimport { ObjectWithId } from 'src/app/data/object-with-id'\nimport { AbstractPaperlessService } from 'src/app/services/rest/abstract-paperless-service'\n\n@Directive()\nexport abstract class EditDialogComponent<T extends ObjectWithId>\n  implements OnInit\n{\n  constructor(\n    private service: AbstractPaperlessService<T>,\n    private activeModal: NgbActiveModal\n  ) {}\n\n  @Input()\n  dialogMode: string = 'create'\n\n  @Input()\n  object: T\n\n  @Output()\n  succeeded = new EventEmitter()\n\n  networkActive = false\n\n  closeEnabled = false\n\n  error = null\n\n  abstract getForm(): FormGroup\n\n  objectForm: FormGroup = this.getForm()\n\n  ngOnInit(): void {\n    if (this.object != null) {\n      this.objectForm.patchValue(this.object)\n    }\n\n    // wait to enable close button so it doesnt steal focus from input since its the first clickable element in the DOM\n    setTimeout(() => {\n      this.closeEnabled = true\n    })\n  }\n\n  getCreateTitle() {\n    return $localize`Create new item`\n  }\n\n  getEditTitle() {\n    return $localize`Edit item`\n  }\n\n  getSaveErrorMessage(error: string) {\n    return $localize`Could not save element: ${error}`\n  }\n\n  getTitle() {\n    switch (this.dialogMode) {\n      case 'create':\n        return this.getCreateTitle()\n      case 'edit':\n        return this.getEditTitle()\n      default:\n        break\n    }\n  }\n\n  getMatchingAlgorithms() {\n    return MATCHING_ALGORITHMS\n  }\n\n  get patternRequired(): boolean {\n    return this.objectForm?.value.matching_algorithm !== MATCH_AUTO\n  }\n\n  save() {\n    var newObject = Object.assign(\n      Object.assign({}, this.object),\n      this.objectForm.value\n    )\n    var serverResponse: Observable<T>\n    switch (this.dialogMode) {\n      case 'create':\n        serverResponse = this.service.create(newObject)\n        break\n      case 'edit':\n        serverResponse = this.service.update(newObject)\n      default:\n        break\n    }\n    this.networkActive = true\n    serverResponse.subscribe({\n      next: (result) => {\n        this.activeModal.close()\n        this.succeeded.emit(result)\n      },\n      error: (error) => {\n        this.error = error.error\n        this.networkActive = false\n      },\n    })\n  }\n\n  cancel() {\n    this.activeModal.close()\n  }\n}\n","import { Component } from '@angular/core'\nimport { FormControl, FormGroup } from '@angular/forms'\nimport { NgbActiveModal } from '@ng-bootstrap/ng-bootstrap'\nimport { EditDialogComponent } from 'src/app/components/common/edit-dialog/edit-dialog.component'\nimport {\n  IMAPSecurity,\n  PaperlessMailAccount,\n} from 'src/app/data/paperless-mail-account'\nimport { MailAccountService } from 'src/app/services/rest/mail-account.service'\n\nconst IMAP_SECURITY_OPTIONS = [\n  { id: IMAPSecurity.None, name: $localize`No encryption` },\n  { id: IMAPSecurity.SSL, name: $localize`SSL` },\n  { id: IMAPSecurity.STARTTLS, name: $localize`STARTTLS` },\n]\n\n@Component({\n  selector: 'app-mail-account-edit-dialog',\n  templateUrl: './mail-account-edit-dialog.component.html',\n  styleUrls: ['./mail-account-edit-dialog.component.scss'],\n})\nexport class MailAccountEditDialogComponent extends EditDialogComponent<PaperlessMailAccount> {\n  constructor(service: MailAccountService, activeModal: NgbActiveModal) {\n    super(service, activeModal)\n  }\n\n  getCreateTitle() {\n    return $localize`Create new mail account`\n  }\n\n  getEditTitle() {\n    return $localize`Edit mail account`\n  }\n\n  getForm(): FormGroup {\n    return new FormGroup({\n      name: new FormControl(null),\n      imap_server: new FormControl(null),\n      imap_port: new FormControl(null),\n      imap_security: new FormControl(IMAPSecurity.SSL),\n      username: new FormControl(null),\n      password: new FormControl(null),\n      character_set: new FormControl('UTF-8'),\n    })\n  }\n\n  get imapSecurityOptions() {\n    return IMAP_SECURITY_OPTIONS\n  }\n}\n","<form [formGroup]=\"objectForm\" (ngSubmit)=\"save()\">\n  <div class=\"modal-header\">\n    <h4 class=\"modal-title\" id=\"modal-basic-title\">{{getTitle()}}</h4>\n    <button type=\"button\" [disabled]=\"!closeEnabled\" class=\"btn-close\" aria-label=\"Close\" (click)=\"cancel()\">\n    </button>\n  </div>\n  <div class=\"modal-body\">\n    <div class=\"row\">\n      <div class=\"col\">\n        <app-input-text i18n-title title=\"Name\" formControlName=\"name\" [error]=\"error?.name\"></app-input-text>\n        <app-input-text i18n-title title=\"IMAP Server\" formControlName=\"imap_server\" [error]=\"error?.imap_server\"></app-input-text>\n        <app-input-text i18n-title title=\"IMAP Port\" formControlName=\"imap_port\" [error]=\"error?.imap_port\"></app-input-text>\n        <app-input-select i18n-title title=\"IMAP Security\" [items]=\"imapSecurityOptions\" formControlName=\"imap_security\"></app-input-select>\n      </div>\n      <div class=\"col\">\n        <app-input-text i18n-title title=\"Username\" formControlName=\"username\" [error]=\"error?.username\"></app-input-text>\n        <app-input-password i18n-title title=\"Password\" formControlName=\"password\" [error]=\"error?.password\"></app-input-password>\n        <app-input-text i18n-title title=\"Character Set\" formControlName=\"character_set\" [error]=\"error?.character_set\"></app-input-text>\n      </div>\n    </div>\n  </div>\n  <div class=\"modal-footer\">\n    <button type=\"button\" class=\"btn btn-outline-secondary\" (click)=\"cancel()\" i18n [disabled]=\"networkActive\">Cancel</button>\n    <button type=\"submit\" class=\"btn btn-primary\" i18n [disabled]=\"networkActive\">Save</button>\n  </div>\n</form>\n","import { Component } from '@angular/core'\nimport { FormControl, FormGroup } from '@angular/forms'\nimport { NgbActiveModal } from '@ng-bootstrap/ng-bootstrap'\nimport { first } from 'rxjs'\nimport { EditDialogComponent } from 'src/app/components/common/edit-dialog/edit-dialog.component'\nimport { PaperlessCorrespondent } from 'src/app/data/paperless-correspondent'\nimport { PaperlessDocumentType } from 'src/app/data/paperless-document-type'\nimport { PaperlessMailAccount } from 'src/app/data/paperless-mail-account'\nimport {\n  MailAction,\n  MailFilterAttachmentType,\n  MailMetadataCorrespondentOption,\n  MailMetadataTitleOption,\n  PaperlessMailRule,\n  MailRuleConsumptionScope,\n} from 'src/app/data/paperless-mail-rule'\nimport { CorrespondentService } from 'src/app/services/rest/correspondent.service'\nimport { DocumentTypeService } from 'src/app/services/rest/document-type.service'\nimport { MailAccountService } from 'src/app/services/rest/mail-account.service'\nimport { MailRuleService } from 'src/app/services/rest/mail-rule.service'\n\nconst ATTACHMENT_TYPE_OPTIONS = [\n  {\n    id: MailFilterAttachmentType.Attachments,\n    name: $localize`Only process attachments`,\n  },\n  {\n    id: MailFilterAttachmentType.Everything,\n    name: $localize`Process all files, including 'inline' attachments`,\n  },\n]\n\nconst CONSUMPTION_SCOPE_OPTIONS = [\n  {\n    id: MailRuleConsumptionScope.Attachments,\n    name: $localize`Only process attachments`,\n  },\n  {\n    id: MailRuleConsumptionScope.Email_Only,\n    name: $localize`Process message as .eml`,\n  },\n  {\n    id: MailRuleConsumptionScope.Everything,\n    name: $localize`Process message as .eml and attachments separately`,\n  },\n]\n\nconst ACTION_OPTIONS = [\n  {\n    id: MailAction.Delete,\n    name: $localize`Delete`,\n  },\n  {\n    id: MailAction.Move,\n    name: $localize`Move to specified folder`,\n  },\n  {\n    id: MailAction.MarkRead,\n    name: $localize`Mark as read, don't process read mails`,\n  },\n  {\n    id: MailAction.Flag,\n    name: $localize`Flag the mail, don't process flagged mails`,\n  },\n  {\n    id: MailAction.Tag,\n    name: $localize`Tag the mail with specified tag, don't process tagged mails`,\n  },\n]\n\nconst METADATA_TITLE_OPTIONS = [\n  {\n    id: MailMetadataTitleOption.FromSubject,\n    name: $localize`Use subject as title`,\n  },\n  {\n    id: MailMetadataTitleOption.FromFilename,\n    name: $localize`Use attachment filename as title`,\n  },\n]\n\nconst METADATA_CORRESPONDENT_OPTIONS = [\n  {\n    id: MailMetadataCorrespondentOption.FromNothing,\n    name: $localize`Do not assign a correspondent`,\n  },\n  {\n    id: MailMetadataCorrespondentOption.FromEmail,\n    name: $localize`Use mail address`,\n  },\n  {\n    id: MailMetadataCorrespondentOption.FromName,\n    name: $localize`Use name (or mail address if not available)`,\n  },\n  {\n    id: MailMetadataCorrespondentOption.FromCustom,\n    name: $localize`Use correspondent selected below`,\n  },\n]\n\n@Component({\n  selector: 'app-mail-rule-edit-dialog',\n  templateUrl: './mail-rule-edit-dialog.component.html',\n  styleUrls: ['./mail-rule-edit-dialog.component.scss'],\n})\nexport class MailRuleEditDialogComponent extends EditDialogComponent<PaperlessMailRule> {\n  accounts: PaperlessMailAccount[]\n  correspondents: PaperlessCorrespondent[]\n  documentTypes: PaperlessDocumentType[]\n\n  constructor(\n    service: MailRuleService,\n    activeModal: NgbActiveModal,\n    accountService: MailAccountService,\n    correspondentService: CorrespondentService,\n    documentTypeService: DocumentTypeService\n  ) {\n    super(service, activeModal)\n\n    accountService\n      .listAll()\n      .pipe(first())\n      .subscribe((result) => (this.accounts = result.results))\n\n    correspondentService\n      .listAll()\n      .pipe(first())\n      .subscribe((result) => (this.correspondents = result.results))\n\n    documentTypeService\n      .listAll()\n      .pipe(first())\n      .subscribe((result) => (this.documentTypes = result.results))\n  }\n\n  getCreateTitle() {\n    return $localize`Create new mail rule`\n  }\n\n  getEditTitle() {\n    return $localize`Edit mail rule`\n  }\n\n  getForm(): FormGroup {\n    return new FormGroup({\n      name: new FormControl(null),\n      account: new FormControl(null),\n      folder: new FormControl('INBOX'),\n      filter_from: new FormControl(null),\n      filter_subject: new FormControl(null),\n      filter_body: new FormControl(null),\n      filter_attachment_filename: new FormControl(null),\n      maximum_age: new FormControl(null),\n      attachment_type: new FormControl(MailFilterAttachmentType.Attachments),\n      consumption_scope: new FormControl(MailRuleConsumptionScope.Attachments),\n      order: new FormControl(null),\n      action: new FormControl(MailAction.MarkRead),\n      action_parameter: new FormControl(null),\n      assign_title_from: new FormControl(MailMetadataTitleOption.FromSubject),\n      assign_tags: new FormControl([]),\n      assign_document_type: new FormControl(null),\n      assign_correspondent_from: new FormControl(\n        MailMetadataCorrespondentOption.FromNothing\n      ),\n      assign_correspondent: new FormControl(null),\n    })\n  }\n\n  get showCorrespondentField(): boolean {\n    return (\n      this.objectForm?.get('assign_correspondent_from')?.value ==\n      MailMetadataCorrespondentOption.FromCustom\n    )\n  }\n\n  get showActionParamField(): boolean {\n    return (\n      this.objectForm?.get('action')?.value == MailAction.Move ||\n      this.objectForm?.get('action')?.value == MailAction.Tag\n    )\n  }\n\n  get attachmentTypeOptions() {\n    return ATTACHMENT_TYPE_OPTIONS\n  }\n\n  get actionOptions() {\n    return ACTION_OPTIONS\n  }\n\n  get metadataTitleOptions() {\n    return METADATA_TITLE_OPTIONS\n  }\n\n  get metadataCorrespondentOptions() {\n    return METADATA_CORRESPONDENT_OPTIONS\n  }\n\n  get consumptionScopeOptions() {\n    return CONSUMPTION_SCOPE_OPTIONS\n  }\n}\n","<form [formGroup]=\"objectForm\" (ngSubmit)=\"save()\">\n  <div class=\"modal-header\">\n    <h4 class=\"modal-title\" id=\"modal-basic-title\">{{getTitle()}}</h4>\n    <button type=\"button\" [disabled]=\"!closeEnabled\" class=\"btn-close\" aria-label=\"Close\" (click)=\"cancel()\">\n    </button>\n  </div>\n  <div class=\"modal-body\">\n    <div class=\"row\">\n      <div class=\"col\">\n        <app-input-text i18n-title title=\"Name\" formControlName=\"name\" [error]=\"error?.name\"></app-input-text>\n        <app-input-select i18n-title title=\"Account\" [items]=\"accounts\" formControlName=\"account\"></app-input-select>\n        <app-input-text i18n-title title=\"Folder\" formControlName=\"folder\" i18n-hint hint=\"Subfolders must be separated by a delimiter, often a dot ('.') or slash ('/'), but it varies by mail server.\" [error]=\"error?.folder\"></app-input-text>\n        <app-input-number i18n-title title=\"Maximum age (days)\" formControlName=\"maximum_age\" [showAdd]=\"false\" [error]=\"error?.maximum_age\"></app-input-number>\n        <app-input-select i18n-title title=\"Attachment type\" [items]=\"attachmentTypeOptions\" formControlName=\"attachment_type\"></app-input-select>\n        <app-input-select i18n-title title=\"Consumption scope\" [items]=\"consumptionScopeOptions\" formControlName=\"consumption_scope\" i18n-hint hint=\"See docs for .eml processing requirements\"></app-input-select>\n        <app-input-number i18n-title title=\"Rule order\" formControlName=\"order\" [showAdd]=\"false\" [error]=\"error?.order\"></app-input-number>\n      </div>\n      <div class=\"col\">\n        <p class=\"small\" i18n>Paperless will only process mails that match <em>all</em> of the filters specified below.</p>\n        <app-input-text i18n-title title=\"Filter from\" formControlName=\"filter_from\" [error]=\"error?.filter_from\"></app-input-text>\n        <app-input-text i18n-title title=\"Filter subject\" formControlName=\"filter_subject\" [error]=\"error?.filter_subject\"></app-input-text>\n        <app-input-text i18n-title title=\"Filter body\" formControlName=\"filter_body\" [error]=\"error?.filter_body\"></app-input-text>\n        <app-input-text i18n-title title=\"Filter attachment filename\" formControlName=\"filter_attachment_filename\" i18n-hint hint=\"Only consume documents which entirely match this filename if specified. Wildcards such as *.pdf or *invoice* are allowed. Case insensitive.\" [error]=\"error?.filter_attachment_filename\"></app-input-text>\n      </div>\n      <div class=\"col\">\n        <app-input-select i18n-title title=\"Action\" [items]=\"actionOptions\" formControlName=\"action\" i18n-hint hint=\"Action is only performed when documents are consumed from the mail. Mails without attachments remain entirely untouched.\"></app-input-select>\n        <app-input-text i18n-title title=\"Action parameter\" *ngIf=\"showActionParamField\" formControlName=\"action_parameter\" [error]=\"error?.action_parameter\"></app-input-text>\n        <app-input-select i18n-title title=\"Assign title from\" [items]=\"metadataTitleOptions\" formControlName=\"assign_title_from\"></app-input-select>\n        <app-input-tags [allowCreate]=\"false\" formControlName=\"assign_tags\"></app-input-tags>\n        <app-input-select i18n-title title=\"Assign document type\" [items]=\"documentTypes\" [allowNull]=\"true\" formControlName=\"assign_document_type\"></app-input-select>\n        <app-input-select i18n-title title=\"Assign correspondent from\" [items]=\"metadataCorrespondentOptions\" formControlName=\"assign_correspondent_from\"></app-input-select>\n        <app-input-select *ngIf=\"showCorrespondentField\" i18n-title title=\"Assign correspondent\" [items]=\"correspondents\" [allowNull]=\"true\" formControlName=\"assign_correspondent\"></app-input-select>\n      </div>\n    </div>\n  </div>\n  <div class=\"modal-footer\">\n    <span class=\"text-danger\" *ngIf=\"error?.non_field_errors\"><ng-container i18n>Error</ng-container>: {{error.non_field_errors}}</span>\n    <button type=\"button\" class=\"btn btn-outline-secondary\" (click)=\"cancel()\" i18n [disabled]=\"networkActive\">Cancel</button>\n    <button type=\"submit\" class=\"btn btn-primary\" i18n [disabled]=\"networkActive\">Save</button>\n  </div>\n</form>\n","import { Component } from '@angular/core'\nimport { FormControl, FormGroup } from '@angular/forms'\nimport { NgbActiveModal } from '@ng-bootstrap/ng-bootstrap'\nimport { EditDialogComponent } from 'src/app/components/common/edit-dialog/edit-dialog.component'\nimport { DEFAULT_MATCHING_ALGORITHM } from 'src/app/data/matching-model'\nimport { PaperlessStoragePath } from 'src/app/data/paperless-storage-path'\nimport { StoragePathService } from 'src/app/services/rest/storage-path.service'\n\n@Component({\n  selector: 'app-storage-path-edit-dialog',\n  templateUrl: './storage-path-edit-dialog.component.html',\n  styleUrls: ['./storage-path-edit-dialog.component.scss'],\n})\nexport class StoragePathEditDialogComponent extends EditDialogComponent<PaperlessStoragePath> {\n  constructor(service: StoragePathService, activeModal: NgbActiveModal) {\n    super(service, activeModal)\n  }\n\n  get pathHint() {\n    return (\n      $localize`e.g.` +\n      ' <code>{created_year}-{title}</code> ' +\n      $localize`or use slashes to add directories e.g.` +\n      ' <code>{created_year}/{correspondent}/{title}</code>. ' +\n      $localize`See <a target=\"_blank\" href=\"https://docs.paperless-ngx.com/advanced_usage/#file-name-handling\">documentation</a> for full list.`\n    )\n  }\n\n  getCreateTitle() {\n    return $localize`Create new storage path`\n  }\n\n  getEditTitle() {\n    return $localize`Edit storage path`\n  }\n\n  getForm(): FormGroup {\n    return new FormGroup({\n      name: new FormControl(''),\n      path: new FormControl(''),\n      matching_algorithm: new FormControl(DEFAULT_MATCHING_ALGORITHM),\n      match: new FormControl(''),\n      is_insensitive: new FormControl(true),\n    })\n  }\n}\n","<form [formGroup]=\"objectForm\" (ngSubmit)=\"save()\">\n  <div class=\"modal-header\">\n    <h4 class=\"modal-title\" id=\"modal-basic-title\">{{getTitle()}}</h4>\n    <button type=\"button\" [disabled]=\"!closeEnabled\" class=\"btn-close\" aria-label=\"Close\" (click)=\"cancel()\">\n    </button>\n  </div>\n  <div class=\"modal-body\">\n\n    <p *ngIf=\"this.dialogMode === 'edit'\" i18n>\n      <em>Note that editing a path does not apply changes to stored files until you have run the 'document_renamer' utility. See the <a target=\"_blank\" href=\"https://docs.paperless-ngx.com/administration/#renamer\">documentation</a>.</em>\n    </p>\n\n    <app-input-text i18n-title title=\"Name\" formControlName=\"name\" [error]=\"error?.name\"></app-input-text>\n    <app-input-text i18n-title title=\"Path\" formControlName=\"path\" [error]=\"error?.path\" [hint]=\"pathHint\"></app-input-text>\n    <app-input-select i18n-title title=\"Matching algorithm\" [items]=\"getMatchingAlgorithms()\" formControlName=\"matching_algorithm\"></app-input-select>\n    <app-input-text *ngIf=\"patternRequired\" i18n-title title=\"Matching pattern\" formControlName=\"match\" [error]=\"error?.match\"></app-input-text>\n    <app-input-check *ngIf=\"patternRequired\" i18n-title title=\"Case insensitive\" formControlName=\"is_insensitive\"></app-input-check>\n\n  </div>\n  <div class=\"modal-footer\">\n    <button type=\"button\" class=\"btn btn-outline-secondary\" (click)=\"cancel()\" i18n [disabled]=\"networkActive\">Cancel</button>\n    <button type=\"submit\" class=\"btn btn-primary\" i18n [disabled]=\"networkActive\">Save</button>\n  </div>\n</form>\n","import { Component } from '@angular/core'\nimport { FormControl, FormGroup } from '@angular/forms'\nimport { NgbActiveModal } from '@ng-bootstrap/ng-bootstrap'\nimport { EditDialogComponent } from 'src/app/components/common/edit-dialog/edit-dialog.component'\nimport { PaperlessTag } from 'src/app/data/paperless-tag'\nimport { TagService } from 'src/app/services/rest/tag.service'\nimport { randomColor } from 'src/app/utils/color'\nimport { DEFAULT_MATCHING_ALGORITHM } from 'src/app/data/matching-model'\n\n@Component({\n  selector: 'app-tag-edit-dialog',\n  templateUrl: './tag-edit-dialog.component.html',\n  styleUrls: ['./tag-edit-dialog.component.scss'],\n})\nexport class TagEditDialogComponent extends EditDialogComponent<PaperlessTag> {\n  constructor(service: TagService, activeModal: NgbActiveModal) {\n    super(service, activeModal)\n  }\n\n  getCreateTitle() {\n    return $localize`Create new tag`\n  }\n\n  getEditTitle() {\n    return $localize`Edit tag`\n  }\n\n  getForm(): FormGroup {\n    return new FormGroup({\n      name: new FormControl(''),\n      color: new FormControl(randomColor()),\n      is_inbox_tag: new FormControl(false),\n      matching_algorithm: new FormControl(DEFAULT_MATCHING_ALGORITHM),\n      match: new FormControl(''),\n      is_insensitive: new FormControl(true),\n    })\n  }\n}\n","  <form [formGroup]=\"objectForm\" (ngSubmit)=\"save()\">\n    <div class=\"modal-header\">\n      <h4 class=\"modal-title\" id=\"modal-basic-title\">{{getTitle()}}</h4>\n      <button type=\"button\" [disabled]=\"!closeEnabled\" class=\"btn-close\" aria-label=\"Close\" (click)=\"cancel()\">\n      </button>\n    </div>\n    <div class=\"modal-body\">\n      <app-input-text i18n-title title=\"Name\" formControlName=\"name\" [error]=\"error?.name\"></app-input-text>\n\n      <app-input-color i18n-title title=\"Color\" formControlName=\"color\" [error]=\"error?.color\"></app-input-color>\n\n      <app-input-check i18n-title title=\"Inbox tag\" formControlName=\"is_inbox_tag\" i18n-hint hint=\"Inbox tags are automatically assigned to all consumed documents.\"></app-input-check>\n      <app-input-select i18n-title title=\"Matching algorithm\" [items]=\"getMatchingAlgorithms()\" formControlName=\"matching_algorithm\"></app-input-select>\n      <app-input-text *ngIf=\"patternRequired\" i18n-title title=\"Matching pattern\" formControlName=\"match\" [error]=\"error?.match\"></app-input-text>\n      <app-input-check *ngIf=\"patternRequired\" i18n-title title=\"Case insensitive\" formControlName=\"is_insensitive\"></app-input-check>\n    </div>\n    <div class=\"modal-footer\">\n      <button type=\"button\" class=\"btn btn-outline-secondary\" (click)=\"cancel()\" i18n [disabled]=\"networkActive\">Cancel</button>\n      <button type=\"submit\" class=\"btn btn-primary\" i18n [disabled]=\"networkActive\">Save</button>\n    </div>\n  </form>\n","import {\n  Component,\n  EventEmitter,\n  Input,\n  Output,\n  ElementRef,\n  ViewChild,\n} from '@angular/core'\nimport { FilterPipe } from 'src/app/pipes/filter.pipe'\nimport { NgbDropdown } from '@ng-bootstrap/ng-bootstrap'\nimport { ToggleableItemState } from './toggleable-dropdown-button/toggleable-dropdown-button.component'\nimport { MatchingModel } from 'src/app/data/matching-model'\nimport { Subject } from 'rxjs'\n\nexport interface ChangedItems {\n  itemsToAdd: MatchingModel[]\n  itemsToRemove: MatchingModel[]\n}\n\nexport class FilterableDropdownSelectionModel {\n  changed = new Subject<FilterableDropdownSelectionModel>()\n\n  multiple = false\n  private _logicalOperator = 'and'\n  temporaryLogicalOperator = this._logicalOperator\n\n  items: MatchingModel[] = []\n\n  get itemsSorted(): MatchingModel[] {\n    // TODO: this is getting called very often\n    return this.items.sort((a, b) => {\n      if (a.id == null && b.id != null) {\n        return -1\n      } else if (a.id != null && b.id == null) {\n        return 1\n      } else if (\n        this.getNonTemporary(a.id) == ToggleableItemState.NotSelected &&\n        this.getNonTemporary(b.id) != ToggleableItemState.NotSelected\n      ) {\n        return 1\n      } else if (\n        this.getNonTemporary(a.id) != ToggleableItemState.NotSelected &&\n        this.getNonTemporary(b.id) == ToggleableItemState.NotSelected\n      ) {\n        return -1\n      } else {\n        return a.name.localeCompare(b.name)\n      }\n    })\n  }\n\n  private selectionStates = new Map<number, ToggleableItemState>()\n\n  private temporarySelectionStates = new Map<number, ToggleableItemState>()\n\n  getSelectedItems() {\n    return this.items.filter(\n      (i) =>\n        this.temporarySelectionStates.get(i.id) == ToggleableItemState.Selected\n    )\n  }\n\n  getExcludedItems() {\n    return this.items.filter(\n      (i) =>\n        this.temporarySelectionStates.get(i.id) == ToggleableItemState.Excluded\n    )\n  }\n\n  set(id: number, state: ToggleableItemState, fireEvent = true) {\n    if (state == ToggleableItemState.NotSelected) {\n      this.temporarySelectionStates.delete(id)\n    } else {\n      this.temporarySelectionStates.set(id, state)\n    }\n    if (fireEvent) {\n      this.changed.next(this)\n    }\n  }\n\n  toggle(id: number, fireEvent = true) {\n    let state = this.temporarySelectionStates.get(id)\n    if (\n      state == null ||\n      (state != ToggleableItemState.Selected &&\n        state != ToggleableItemState.Excluded)\n    ) {\n      this.temporarySelectionStates.set(id, ToggleableItemState.Selected)\n    } else if (\n      state == ToggleableItemState.Selected ||\n      state == ToggleableItemState.Excluded\n    ) {\n      this.temporarySelectionStates.delete(id)\n    }\n\n    if (!this.multiple) {\n      for (let key of this.temporarySelectionStates.keys()) {\n        if (key != id) {\n          this.temporarySelectionStates.delete(key)\n        }\n      }\n    }\n\n    if (!id) {\n      for (let key of this.temporarySelectionStates.keys()) {\n        if (key) {\n          this.temporarySelectionStates.delete(key)\n        }\n      }\n    } else {\n      this.temporarySelectionStates.delete(null)\n    }\n\n    if (fireEvent) {\n      this.changed.next(this)\n    }\n  }\n\n  exclude(id: number, fireEvent: boolean = true) {\n    let state = this.temporarySelectionStates.get(id)\n    if (state == null || state != ToggleableItemState.Excluded) {\n      this.temporarySelectionStates.set(id, ToggleableItemState.Excluded)\n      this.temporaryLogicalOperator = this._logicalOperator = 'and'\n    } else if (state == ToggleableItemState.Excluded) {\n      this.temporarySelectionStates.delete(id)\n    }\n\n    if (!this.multiple) {\n      for (let key of this.temporarySelectionStates.keys()) {\n        if (key != id) {\n          this.temporarySelectionStates.delete(key)\n        }\n      }\n    }\n\n    if (fireEvent) {\n      this.changed.next(this)\n    }\n  }\n\n  private getNonTemporary(id: number) {\n    return this.selectionStates.get(id) || ToggleableItemState.NotSelected\n  }\n\n  get logicalOperator(): string {\n    return this.temporaryLogicalOperator\n  }\n\n  set logicalOperator(operator: string) {\n    this.temporaryLogicalOperator = operator\n  }\n\n  toggleOperator() {\n    this.changed.next(this)\n  }\n\n  get(id: number) {\n    return (\n      this.temporarySelectionStates.get(id) || ToggleableItemState.NotSelected\n    )\n  }\n\n  selectionSize() {\n    return this.getSelectedItems().length\n  }\n\n  get totalCount() {\n    return this.getSelectedItems().length + this.getExcludedItems().length\n  }\n\n  clear(fireEvent = true) {\n    this.temporarySelectionStates.clear()\n    this.temporaryLogicalOperator = this._logicalOperator = 'and'\n    if (fireEvent) {\n      this.changed.next(this)\n    }\n  }\n\n  isDirty() {\n    if (\n      !Array.from(this.temporarySelectionStates.keys()).every(\n        (id) =>\n          this.temporarySelectionStates.get(id) == this.selectionStates.get(id)\n      )\n    ) {\n      return true\n    } else if (\n      !Array.from(this.selectionStates.keys()).every(\n        (id) =>\n          this.selectionStates.get(id) == this.temporarySelectionStates.get(id)\n      )\n    ) {\n      return true\n    } else if (this.temporaryLogicalOperator !== this._logicalOperator) {\n      return true\n    } else {\n      return false\n    }\n  }\n\n  isNoneSelected() {\n    return (\n      this.selectionSize() == 1 &&\n      this.get(null) == ToggleableItemState.Selected\n    )\n  }\n\n  init(map) {\n    this.temporarySelectionStates = map\n    this.apply()\n  }\n\n  apply() {\n    this.selectionStates.clear()\n    this.temporarySelectionStates.forEach((value, key) => {\n      this.selectionStates.set(key, value)\n    })\n    this._logicalOperator = this.temporaryLogicalOperator\n  }\n\n  reset() {\n    this.temporarySelectionStates.clear()\n    this.selectionStates.forEach((value, key) => {\n      this.temporarySelectionStates.set(key, value)\n    })\n  }\n\n  diff(): ChangedItems {\n    return {\n      itemsToAdd: this.items.filter(\n        (item) =>\n          this.temporarySelectionStates.get(item.id) ==\n            ToggleableItemState.Selected &&\n          this.selectionStates.get(item.id) != ToggleableItemState.Selected\n      ),\n      itemsToRemove: this.items.filter(\n        (item) =>\n          !this.temporarySelectionStates.has(item.id) &&\n          this.selectionStates.has(item.id)\n      ),\n    }\n  }\n}\n\n@Component({\n  selector: 'app-filterable-dropdown',\n  templateUrl: './filterable-dropdown.component.html',\n  styleUrls: ['./filterable-dropdown.component.scss'],\n})\nexport class FilterableDropdownComponent {\n  @ViewChild('listFilterTextInput') listFilterTextInput: ElementRef\n  @ViewChild('dropdown') dropdown: NgbDropdown\n\n  filterText: string\n\n  @Input()\n  set items(items: MatchingModel[]) {\n    if (items) {\n      this._selectionModel.items = Array.from(items)\n      this._selectionModel.items.unshift({\n        name: $localize`:Filter drop down element to filter for documents with no correspondent/type/tag assigned:Not assigned`,\n        id: null,\n      })\n    }\n  }\n\n  get items(): MatchingModel[] {\n    return this._selectionModel.items\n  }\n\n  _selectionModel = new FilterableDropdownSelectionModel()\n\n  @Input()\n  set selectionModel(model: FilterableDropdownSelectionModel) {\n    if (this.selectionModel) {\n      this.selectionModel.changed.complete()\n      model.items = this.selectionModel.items\n      model.multiple = this.selectionModel.multiple\n    }\n    model.changed.subscribe((updatedModel) => {\n      this.selectionModelChange.next(updatedModel)\n    })\n    this._selectionModel = model\n  }\n\n  get selectionModel(): FilterableDropdownSelectionModel {\n    return this._selectionModel\n  }\n\n  @Output()\n  selectionModelChange = new EventEmitter<FilterableDropdownSelectionModel>()\n\n  @Input()\n  set multiple(value: boolean) {\n    this.selectionModel.multiple = value\n  }\n\n  get multiple() {\n    return this.selectionModel.multiple\n  }\n\n  @Input()\n  title: string\n\n  @Input()\n  filterPlaceholder: string = ''\n\n  @Input()\n  icon: string\n\n  @Input()\n  allowSelectNone: boolean = false\n\n  @Input()\n  editing = false\n\n  @Input()\n  applyOnClose = false\n\n  @Output()\n  apply = new EventEmitter<ChangedItems>()\n\n  @Output()\n  opened = new EventEmitter()\n\n  get operatorToggleEnabled(): boolean {\n    return (\n      this.selectionModel.selectionSize() > 1 &&\n      this.selectionModel.getExcludedItems().length == 0\n    )\n  }\n\n  modelIsDirty: boolean = false\n\n  constructor(private filterPipe: FilterPipe) {\n    this.selectionModel = new FilterableDropdownSelectionModel()\n    this.selectionModelChange.subscribe((updatedModel) => {\n      this.modelIsDirty = updatedModel.isDirty()\n    })\n  }\n\n  applyClicked() {\n    if (this.selectionModel.isDirty()) {\n      this.dropdown.close()\n      if (!this.applyOnClose) {\n        this.apply.emit(this.selectionModel.diff())\n      }\n    }\n  }\n\n  dropdownOpenChange(open: boolean): void {\n    if (open) {\n      setTimeout(() => {\n        this.listFilterTextInput.nativeElement.focus()\n      }, 0)\n      if (this.editing) {\n        this.selectionModel.reset()\n      }\n      this.opened.next(this)\n    } else {\n      this.filterText = ''\n      if (this.applyOnClose && this.selectionModel.isDirty()) {\n        this.apply.emit(this.selectionModel.diff())\n      }\n    }\n  }\n\n  listFilterEnter(): void {\n    let filtered = this.filterPipe.transform(this.items, this.filterText)\n    if (filtered.length == 1) {\n      this.selectionModel.toggle(filtered[0].id)\n      if (this.editing) {\n        this.applyClicked()\n      } else {\n        this.dropdown.close()\n      }\n    }\n  }\n\n  excludeClicked(itemID: number) {\n    if (this.editing) {\n      this.selectionModel.toggle(itemID)\n    } else {\n      this.selectionModel.exclude(itemID)\n    }\n  }\n\n  reset() {\n    this.selectionModel.reset()\n    this.selectionModelChange.emit(this.selectionModel)\n  }\n}\n","<div class=\"btn-group w-100\" ngbDropdown role=\"group\" (openChange)=\"dropdownOpenChange($event)\" #dropdown=\"ngbDropdown\">\n  <button class=\"btn btn-sm\" id=\"dropdown{{title}}\" ngbDropdownToggle [ngClass]=\"!editing && selectionModel.selectionSize() > 0 ? 'btn-primary' : 'btn-outline-primary'\">\n    <svg class=\"toolbaricon\" fill=\"currentColor\">\n      <use attr.xlink:href=\"assets/bootstrap-icons.svg#{{icon}}\" />\n    </svg>\n    <div class=\"d-none d-sm-inline\">&nbsp;{{title}}</div>\n    <ng-container *ngIf=\"!editing && selectionModel.totalCount > 0\">\n      <app-clearable-badge [number]=\"multiple ? selectionModel.totalCount : undefined\" [selected]=\"!multiple && selectionModel.selectionSize() > 0\" (cleared)=\"reset()\"></app-clearable-badge>\n    </ng-container>\n  </button>\n  <div class=\"dropdown-menu py-0 shadow\" ngbDropdownMenu attr.aria-labelledby=\"dropdown{{title}}\">\n    <div class=\"list-group list-group-flush\">\n      <div *ngIf=\"!editing && multiple\" class=\"list-group-item d-flex\">\n        <div class=\"btn-group btn-group-xs flex-fill\">\n          <input [(ngModel)]=\"selectionModel.logicalOperator\" [disabled]=\"!operatorToggleEnabled\" (ngModelChange)=\"selectionModel.toggleOperator()\" type=\"radio\" class=\"btn-check\" id=\"logicalOperatorAnd\" value=\"and\">\n          <label class=\"btn btn-outline-primary\" for=\"logicalOperatorAnd\" i18n>All</label>\n          <input [(ngModel)]=\"selectionModel.logicalOperator\" [disabled]=\"!operatorToggleEnabled\" (ngModelChange)=\"selectionModel.toggleOperator()\" type=\"radio\" class=\"btn-check\" id=\"logicalOperatorOr\" value=\"or\">\n          <label class=\"btn btn-outline-primary\" for=\"logicalOperatorOr\" i18n>Any</label>\n        </div>\n      </div>\n      <div class=\"list-group-item\">\n        <div class=\"input-group input-group-sm\">\n          <input class=\"form-control\" type=\"text\" [(ngModel)]=\"filterText\" [placeholder]=\"filterPlaceholder\" (keyup.enter)=\"listFilterEnter()\" #listFilterTextInput>\n        </div>\n      </div>\n      <div *ngIf=\"selectionModel.items\" class=\"items\">\n        <ng-container *ngFor=\"let item of selectionModel.itemsSorted | filter: filterText\">\n          <app-toggleable-dropdown-button *ngIf=\"allowSelectNone || item.id\" [item]=\"item\" [state]=\"selectionModel.get(item.id)\" (toggle)=\"selectionModel.toggle(item.id)\" (exclude)=\"excludeClicked(item.id)\"></app-toggleable-dropdown-button>\n        </ng-container>\n      </div>\n      <button *ngIf=\"editing\" class=\"list-group-item list-group-item-action bg-light\" (click)=\"applyClicked()\" [disabled]=\"!modelIsDirty\">\n        <small class=\"ms-2\" [ngClass]=\"{'fw-bold': modelIsDirty}\" i18n>Apply</small>\n        <svg width=\"1.5em\" height=\"1em\" viewBox=\"0 0 16 16\" fill=\"currentColor\">\n          <use xlink:href=\"assets/bootstrap-icons.svg#arrow-right\" />\n        </svg>\n      </button>\n      <div *ngIf=\"!editing && multiple\" class=\"list-group-item list-group-item-note pt-1 pb-2\">\n        <small i18n>Click again to exclude items.</small>\n      </div>\n    </div>\n  </div>\n</div>\n","import { Component, EventEmitter, Input, Output, OnInit } from '@angular/core'\nimport { MatchingModel } from 'src/app/data/matching-model'\n\nexport enum ToggleableItemState {\n  NotSelected = 0,\n  Selected = 1,\n  PartiallySelected = 2,\n  Excluded = 3,\n}\n\n@Component({\n  selector: 'app-toggleable-dropdown-button',\n  templateUrl: './toggleable-dropdown-button.component.html',\n  styleUrls: ['./toggleable-dropdown-button.component.scss'],\n})\nexport class ToggleableDropdownButtonComponent {\n  @Input()\n  item: MatchingModel\n\n  @Input()\n  state: ToggleableItemState\n\n  @Input()\n  count: number\n\n  @Output()\n  toggle = new EventEmitter()\n\n  @Output()\n  exclude = new EventEmitter()\n\n  get isTag(): boolean {\n    return 'is_inbox_tag' in this.item\n  }\n\n  toggleItem(event: MouseEvent): void {\n    if (this.state == ToggleableItemState.Selected) {\n      this.exclude.emit()\n    } else {\n      this.toggle.emit()\n    }\n  }\n\n  isChecked() {\n    return this.state == ToggleableItemState.Selected\n  }\n\n  isPartiallyChecked() {\n    return this.state == ToggleableItemState.PartiallySelected\n  }\n\n  isExcluded() {\n    return this.state == ToggleableItemState.Excluded\n  }\n}\n","<button class=\"list-group-item list-group-item-action d-flex align-items-center p-2 border-top-0 border-start-0 border-end-0 border-bottom\" role=\"menuitem\" (click)=\"toggleItem($event)\">\n  <div class=\"selected-icon me-1\">\n    <ng-container *ngIf=\"isChecked()\">\n      <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"1em\" height=\"1em\" fill=\"currentColor\" class=\"bi bi-check\" viewBox=\"0 0 16 16\">\n        <path d=\"M10.97 4.97a.75.75 0 0 1 1.07 1.05l-3.99 4.99a.75.75 0 0 1-1.08.02L4.324 8.384a.75.75 0 1 1 1.06-1.06l2.094 2.093 3.473-4.425a.267.267 0 0 1 .02-.022z\"/>\n      </svg>\n    </ng-container>\n    <ng-container *ngIf=\"isPartiallyChecked()\">\n      <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"1em\" height=\"1em\" fill=\"currentColor\" class=\"bi bi-dash\" viewBox=\"0 0 16 16\">\n        <path d=\"M4 8a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7A.5.5 0 0 1 4 8z\"/>\n      </svg>\n    </ng-container>\n    <ng-container *ngIf=\"isExcluded()\">\n      <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"1em\" height=\"1em\" fill=\"currentColor\" class=\"bi bi-x\" viewBox=\"0 0 16 16\">\n        <path d=\"M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708z\"/>\n      </svg>\n    </ng-container>\n  </div>\n  <div class=\"me-1\">\n    <app-tag *ngIf=\"isTag; else displayName\" [tag]=\"item\" [clickable]=\"false\"></app-tag>\n    <ng-template #displayName><small>{{item.name}}</small></ng-template>\n  </div>\n  <div class=\"badge badge-light rounded-pill ms-auto me-1\">{{item.document_count}}</div>\n</button>\n","import { Directive, ElementRef, Input, OnInit, ViewChild } from '@angular/core'\nimport { ControlValueAccessor } from '@angular/forms'\nimport { v4 as uuidv4 } from 'uuid'\n\n@Directive()\nexport class AbstractInputComponent<T> implements OnInit, ControlValueAccessor {\n  @ViewChild('inputField')\n  inputField: ElementRef\n\n  constructor() {}\n\n  onChange = (newValue: T) => {}\n\n  onTouched = () => {}\n\n  writeValue(newValue: any): void {\n    this.value = newValue\n  }\n  registerOnChange(fn: any): void {\n    this.onChange = fn\n  }\n  registerOnTouched(fn: any): void {\n    this.onTouched = fn\n  }\n  setDisabledState?(isDisabled: boolean): void {\n    this.disabled = isDisabled\n  }\n\n  focus() {\n    if (this.inputField && this.inputField.nativeElement) {\n      this.inputField.nativeElement.focus()\n    }\n  }\n\n  @Input()\n  title: string\n\n  @Input()\n  disabled = false\n\n  @Input()\n  error: string\n\n  value: T\n\n  ngOnInit(): void {\n    this.inputId = uuidv4()\n  }\n\n  inputId: string\n\n  @Input()\n  hint: string\n}\n","import { Component, forwardRef, Input, OnInit } from '@angular/core'\nimport { ControlValueAccessor, NG_VALUE_ACCESSOR } from '@angular/forms'\nimport { v4 as uuidv4 } from 'uuid'\nimport { AbstractInputComponent } from '../abstract-input'\n\n@Component({\n  providers: [\n    {\n      provide: NG_VALUE_ACCESSOR,\n      useExisting: forwardRef(() => CheckComponent),\n      multi: true,\n    },\n  ],\n  selector: 'app-input-check',\n  templateUrl: './check.component.html',\n  styleUrls: ['./check.component.scss'],\n})\nexport class CheckComponent extends AbstractInputComponent<boolean> {\n  constructor() {\n    super()\n  }\n}\n","<div class=\"mb-3 form-check\">\n  <input type=\"checkbox\" class=\"form-check-input\" [id]=\"inputId\" [(ngModel)]=\"value\" (change)=\"onChange(value)\" (blur)=\"onTouched()\" [disabled]=\"disabled\">\n  <label class=\"form-check-label\" [for]=\"inputId\">{{title}}</label>\n  <div *ngIf=\"hint\" class=\"form-text text-muted\">{{hint}}</div>\n</div>\n","import { Component, forwardRef } from '@angular/core'\nimport { NG_VALUE_ACCESSOR } from '@angular/forms'\nimport { randomColor } from 'src/app/utils/color'\nimport { AbstractInputComponent } from '../abstract-input'\n\n@Component({\n  providers: [\n    {\n      provide: NG_VALUE_ACCESSOR,\n      useExisting: forwardRef(() => ColorComponent),\n      multi: true,\n    },\n  ],\n  selector: 'app-input-color',\n  templateUrl: './color.component.html',\n  styleUrls: ['./color.component.scss'],\n})\nexport class ColorComponent extends AbstractInputComponent<string> {\n  constructor() {\n    super()\n  }\n\n  randomize() {\n    this.colorChanged(randomColor())\n  }\n\n  colorChanged(value) {\n    this.value = value\n    this.onChange(value)\n  }\n}\n","<div class=\"mb-3\">\n  <label *ngIf=\"title\" [for]=\"inputId\">{{title}}</label>\n\n  <div class=\"input-group\" [class.is-invalid]=\"error\">\n    <span class=\"input-group-text\" [style.background-color]=\"value\">&nbsp;&nbsp;&nbsp;</span>\n\n      <ng-template #popContent>\n        <div style=\"min-width: 200px;\" class=\"pb-3\">\n          <color-slider [color]=\"value\" (onChangeComplete)=\"colorChanged($event.color.hex)\"></color-slider>\n        </div>\n\n      </ng-template>\n\n      <input class=\"form-control\" [class.is-invalid]=\"error\" [id]=\"inputId\" [(ngModel)]=\"value\" (change)=\"onChange(value)\" [autoClose]=\"'outside'\" [ngbPopover]=\"popContent\" placement=\"bottom\" popoverClass=\"shadow\">\n\n      <button class=\"btn btn-outline-secondary\" type=\"button\" (click)=\"randomize()\">\n        <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"currentColor\" class=\"bi bi-dice-5\" viewBox=\"0 0 16 16\">\n          <path d=\"M13 1a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V3a2 2 0 0 1 2-2h10zM3 0a3 3 0 0 0-3 3v10a3 3 0 0 0 3 3h10a3 3 0 0 0 3-3V3a3 3 0 0 0-3-3H3z\"/>\n          <path d=\"M5.5 4a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0zm8 0a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0zm0 8a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0zm-8 0a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0zm4-4a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z\"/>\n        </svg>\n      </button>\n\n    </div>\n    <small *ngIf=\"hint\" class=\"form-text text-muted\">{{hint}}</small>\n    <div class=\"invalid-feedback\">\n      {{error}}\n    </div>\n</div>\n","import { Component, forwardRef, Input, OnInit } from '@angular/core'\nimport { NG_VALUE_ACCESSOR } from '@angular/forms'\nimport {\n  NgbDateAdapter,\n  NgbDateParserFormatter,\n} from '@ng-bootstrap/ng-bootstrap'\nimport { SettingsService } from 'src/app/services/settings.service'\nimport { AbstractInputComponent } from '../abstract-input'\n\n@Component({\n  providers: [\n    {\n      provide: NG_VALUE_ACCESSOR,\n      useExisting: forwardRef(() => DateComponent),\n      multi: true,\n    },\n  ],\n  selector: 'app-input-date',\n  templateUrl: './date.component.html',\n  styleUrls: ['./date.component.scss'],\n})\nexport class DateComponent\n  extends AbstractInputComponent<string>\n  implements OnInit\n{\n  constructor(\n    private settings: SettingsService,\n    private ngbDateParserFormatter: NgbDateParserFormatter,\n    private isoDateAdapter: NgbDateAdapter<string>\n  ) {\n    super()\n  }\n\n  @Input()\n  suggestions: string[]\n\n  getSuggestions() {\n    return this.suggestions == null\n      ? []\n      : this.suggestions\n          .map((s) => this.ngbDateParserFormatter.parse(s))\n          .filter(\n            (d) =>\n              this.value === null || // if value is not set, take all suggestions\n              this.value != this.isoDateAdapter.toModel(d) // otherwise filter out current date\n          )\n          .map((s) => this.ngbDateParserFormatter.format(s))\n  }\n\n  onSuggestionClick(dateString: string) {\n    const parsedDate = this.ngbDateParserFormatter.parse(dateString)\n    this.writeValue(this.isoDateAdapter.toModel(parsedDate))\n    this.onChange(this.value)\n  }\n\n  ngOnInit(): void {\n    super.ngOnInit()\n    this.placeholder = this.settings.getLocalizedDateInputFormat()\n  }\n\n  placeholder: string\n\n  onPaste(event: ClipboardEvent) {\n    const clipboardData: DataTransfer =\n      event.clipboardData || window['clipboardData']\n    if (clipboardData) {\n      event.preventDefault()\n      let pastedText = clipboardData.getData('text')\n      pastedText = pastedText.replace(/[\\sa-z#!$%\\^&\\*;:{}=\\-_`~()]+/g, '')\n      const parsedDate = this.ngbDateParserFormatter.parse(pastedText)\n      if (parsedDate) {\n        this.writeValue(this.isoDateAdapter.toModel(parsedDate))\n        this.onChange(this.value)\n      }\n    }\n  }\n\n  onKeyPress(event: KeyboardEvent) {\n    if ('Enter' !== event.key && !/[0-9,\\.\\/-]+/.test(event.key)) {\n      event.preventDefault()\n    }\n  }\n}\n","<div class=\"mb-3\">\n  <label class=\"form-label\" [for]=\"inputId\">{{title}}</label>\n  <div class=\"input-group\" [class.is-invalid]=\"error\">\n    <input class=\"form-control\" [class.is-invalid]=\"error\" [placeholder]=\"placeholder\" [id]=\"inputId\" maxlength=\"10\"\n          (dateSelect)=\"onChange(value)\" (change)=\"onChange(value)\" (keypress)=\"onKeyPress($event)\" (paste)=\"onPaste($event)\"\n          name=\"dp\" [(ngModel)]=\"value\" ngbDatepicker #datePicker=\"ngbDatepicker\" #datePickerContent=\"ngModel\">\n    <button class=\"btn btn-outline-secondary calendar\" (click)=\"datePicker.toggle()\" type=\"button\">\n      <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"currentColor\" class=\"bi bi-calendar\" viewBox=\"0 0 16 16\">\n        <path d=\"M3.5 0a.5.5 0 0 1 .5.5V1h8V.5a.5.5 0 0 1 1 0V1h1a2 2 0 0 1 2 2v11a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V3a2 2 0 0 1 2-2h1V.5a.5.5 0 0 1 .5-.5zM1 4v10a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1V4H1z\"/>\n      </svg>\n    </button>\n  </div>\n  <div class=\"invalid-feedback\" i18n>Invalid date.</div>\n  <small *ngIf=\"hint\" class=\"form-text text-muted\">{{hint}}</small>\n  <small *ngIf=\"getSuggestions().length > 0\">\n    <span i18n>Suggestions:</span>&nbsp;\n    <ng-container *ngFor=\"let s of getSuggestions()\">\n      <a (click)=\"onSuggestionClick(s)\" [routerLink]=\"[]\">{{s}}</a>&nbsp;\n    </ng-container>\n  </small>\n</div>\n","import { Component, forwardRef, Input } from '@angular/core'\nimport { NG_VALUE_ACCESSOR } from '@angular/forms'\nimport { FILTER_ASN_ISNULL } from 'src/app/data/filter-rule-type'\nimport { DocumentService } from 'src/app/services/rest/document.service'\nimport { AbstractInputComponent } from '../abstract-input'\n\n@Component({\n  providers: [\n    {\n      provide: NG_VALUE_ACCESSOR,\n      useExisting: forwardRef(() => NumberComponent),\n      multi: true,\n    },\n  ],\n  selector: 'app-input-number',\n  templateUrl: './number.component.html',\n  styleUrls: ['./number.component.scss'],\n})\nexport class NumberComponent extends AbstractInputComponent<number> {\n  @Input()\n  showAdd: boolean = true\n\n  constructor(private documentService: DocumentService) {\n    super()\n  }\n\n  nextAsn() {\n    if (this.value) {\n      return\n    }\n    this.documentService\n      .listFiltered(1, 1, 'archive_serial_number', true, [\n        { rule_type: FILTER_ASN_ISNULL, value: 'false' },\n      ])\n      .subscribe((results) => {\n        if (results.count > 0) {\n          this.value = results.results[0].archive_serial_number + 1\n        } else {\n          this.value = 1\n        }\n        this.onChange(this.value)\n      })\n  }\n}\n","<div class=\"mb-3\">\n  <label class=\"form-label\" [for]=\"inputId\">{{title}}</label>\n  <div class=\"input-group\" [class.is-invalid]=\"error\">\n    <input type=\"number\" class=\"form-control\" [id]=\"inputId\" [(ngModel)]=\"value\" (change)=\"onChange(value)\" [class.is-invalid]=\"error\">\n    <button *ngIf=\"showAdd\" class=\"btn btn-outline-secondary\" type=\"button\" id=\"button-addon1\" (click)=\"nextAsn()\" [disabled]=\"value\">+1</button>\n  </div>\n  <div class=\"invalid-feedback\">\n    {{error}}\n  </div>\n  <small *ngIf=\"hint\" class=\"form-text text-muted\">{{hint}}</small>\n\n</div>\n","import { Component, forwardRef } from '@angular/core'\nimport { NG_VALUE_ACCESSOR } from '@angular/forms'\nimport { AbstractInputComponent } from '../abstract-input'\n\n@Component({\n  providers: [\n    {\n      provide: NG_VALUE_ACCESSOR,\n      useExisting: forwardRef(() => PasswordComponent),\n      multi: true,\n    },\n  ],\n  selector: 'app-input-password',\n  templateUrl: './password.component.html',\n  styleUrls: ['./password.component.scss'],\n})\nexport class PasswordComponent extends AbstractInputComponent<string> {\n  constructor() {\n    super()\n  }\n}\n","<div class=\"mb-3\">\n  <label class=\"form-label\" [for]=\"inputId\">{{title}}</label>\n  <input #inputField type=\"password\" class=\"form-control\" [class.is-invalid]=\"error\" [id]=\"inputId\" [(ngModel)]=\"value\" (change)=\"onChange(value)\">\n  <small *ngIf=\"hint\" class=\"form-text text-muted\" [innerHTML]=\"hint | safeHtml\"></small>\n  <div class=\"invalid-feedback\">\n    {{error}}\n  </div>\n</div>\n","import {\n  Component,\n  EventEmitter,\n  forwardRef,\n  Input,\n  Output,\n} from '@angular/core'\nimport { NG_VALUE_ACCESSOR } from '@angular/forms'\nimport { AbstractInputComponent } from '../abstract-input'\n\n@Component({\n  providers: [\n    {\n      provide: NG_VALUE_ACCESSOR,\n      useExisting: forwardRef(() => SelectComponent),\n      multi: true,\n    },\n  ],\n  selector: 'app-input-select',\n  templateUrl: './select.component.html',\n  styleUrls: ['./select.component.scss'],\n})\nexport class SelectComponent extends AbstractInputComponent<number> {\n  constructor() {\n    super()\n    this.addItemRef = this.addItem.bind(this)\n  }\n\n  @Input()\n  items: any[]\n\n  @Input()\n  textColor: any\n\n  @Input()\n  backgroundColor: any\n\n  @Input()\n  allowNull: boolean = false\n\n  @Input()\n  suggestions: number[]\n\n  @Input()\n  placeholder: string\n\n  @Output()\n  createNew = new EventEmitter<string>()\n\n  public addItemRef: (name) => void\n\n  private _lastSearchTerm: string\n\n  get allowCreateNew(): boolean {\n    return this.createNew.observers.length > 0\n  }\n\n  getSuggestions() {\n    if (this.suggestions && this.items) {\n      return this.suggestions\n        .filter((id) => id != this.value)\n        .map((id) => this.items.find((item) => item.id == id))\n    } else {\n      return []\n    }\n  }\n\n  addItem(name: string) {\n    if (name) this.createNew.next(name)\n    else this.createNew.next(this._lastSearchTerm)\n    this.clearLastSearchTerm()\n  }\n\n  clickNew() {\n    this.createNew.next(this._lastSearchTerm)\n    this.clearLastSearchTerm()\n  }\n\n  clearLastSearchTerm() {\n    this._lastSearchTerm = null\n  }\n\n  onSearch($event) {\n    this._lastSearchTerm = $event.term\n  }\n\n  onBlur() {\n    setTimeout(() => {\n      this.clearLastSearchTerm()\n    }, 3000)\n  }\n}\n","<div class=\"mb-3 paperless-input-select\">\n  <label class=\"form-label\" [for]=\"inputId\">{{title}}</label>\n    <div [class.input-group]=\"allowCreateNew\">\n      <ng-select name=\"inputId\" [(ngModel)]=\"value\"\n        [disabled]=\"disabled\"\n        [style.color]=\"textColor\"\n        [style.background]=\"backgroundColor\"\n        [clearable]=\"allowNull\"\n        [items]=\"items\"\n        [addTag]=\"allowCreateNew && addItemRef\"\n        addTagText=\"Add item\"\n        i18n-addTagText=\"Used for both types, correspondents, storage paths\"\n        [placeholder]=\"placeholder\"\n        bindLabel=\"name\"\n        bindValue=\"id\"\n        (change)=\"onChange(value)\"\n        (search)=\"onSearch($event)\"\n        (focus)=\"clearLastSearchTerm()\"\n        (clear)=\"clearLastSearchTerm()\"\n        (blur)=\"onBlur()\">\n      </ng-select>\n      <button *ngIf=\"allowCreateNew\" class=\"btn btn-outline-secondary\" type=\"button\" (click)=\"addItem()\">\n        <svg class=\"buttonicon\" fill=\"currentColor\">\n          <use xlink:href=\"assets/bootstrap-icons.svg#plus\" />\n        </svg>\n      </button>\n    </div>\n  <small *ngIf=\"hint\" class=\"form-text text-muted\">{{hint}}</small>\n  <small *ngIf=\"getSuggestions().length > 0\">\n    <span i18n>Suggestions:</span>&nbsp;\n    <ng-container *ngFor=\"let s of getSuggestions()\">\n      <a (click)=\"value = s.id; onChange(value)\" [routerLink]=\"[]\">{{s.name}}</a>&nbsp;\n    </ng-container>\n\n\n  </small>\n</div>\n","import { Component, forwardRef, Input, OnInit } from '@angular/core'\nimport { ControlValueAccessor, NG_VALUE_ACCESSOR } from '@angular/forms'\nimport { NgbModal } from '@ng-bootstrap/ng-bootstrap'\nimport { PaperlessTag } from 'src/app/data/paperless-tag'\nimport { TagEditDialogComponent } from '../../edit-dialog/tag-edit-dialog/tag-edit-dialog.component'\nimport { TagService } from 'src/app/services/rest/tag.service'\n\n@Component({\n  providers: [\n    {\n      provide: NG_VALUE_ACCESSOR,\n      useExisting: forwardRef(() => TagsComponent),\n      multi: true,\n    },\n  ],\n  selector: 'app-input-tags',\n  templateUrl: './tags.component.html',\n  styleUrls: ['./tags.component.scss'],\n})\nexport class TagsComponent implements OnInit, ControlValueAccessor {\n  constructor(private tagService: TagService, private modalService: NgbModal) {\n    this.createTagRef = this.createTag.bind(this)\n  }\n\n  onChange = (newValue: number[]) => {}\n\n  onTouched = () => {}\n\n  writeValue(newValue: number[]): void {\n    this.value = newValue\n  }\n  registerOnChange(fn: any): void {\n    this.onChange = fn\n  }\n  registerOnTouched(fn: any): void {\n    this.onTouched = fn\n  }\n  setDisabledState?(isDisabled: boolean): void {\n    this.disabled = isDisabled\n  }\n\n  ngOnInit(): void {\n    this.tagService.listAll().subscribe((result) => {\n      this.tags = result.results\n    })\n  }\n\n  @Input()\n  disabled = false\n\n  @Input()\n  hint\n\n  @Input()\n  suggestions: number[]\n\n  @Input()\n  allowCreate: boolean = true\n\n  value: number[]\n\n  tags: PaperlessTag[]\n\n  public createTagRef: (name) => void\n\n  private _lastSearchTerm: string\n\n  getTag(id: number) {\n    if (this.tags) {\n      return this.tags.find((tag) => tag.id == id)\n    } else {\n      return null\n    }\n  }\n\n  removeTag(event: PointerEvent, id: number) {\n    // prevent opening dropdown\n    event.stopImmediatePropagation()\n\n    let index = this.value.indexOf(id)\n    if (index > -1) {\n      let oldValue = this.value\n      oldValue.splice(index, 1)\n      this.value = [...oldValue]\n      this.onChange(this.value)\n    }\n  }\n\n  createTag(name: string = null) {\n    var modal = this.modalService.open(TagEditDialogComponent, {\n      backdrop: 'static',\n    })\n    modal.componentInstance.dialogMode = 'create'\n    if (name) modal.componentInstance.object = { name: name }\n    else if (this._lastSearchTerm)\n      modal.componentInstance.object = { name: this._lastSearchTerm }\n    modal.componentInstance.succeeded.subscribe((newTag) => {\n      this.tagService.listAll().subscribe((tags) => {\n        this.tags = tags.results\n        this.value = [...this.value, newTag.id]\n        this.onChange(this.value)\n      })\n    })\n  }\n\n  getSuggestions() {\n    if (this.suggestions && this.tags) {\n      return this.suggestions\n        .filter((id) => !this.value.includes(id))\n        .map((id) => this.tags.find((tag) => tag.id == id))\n    } else {\n      return []\n    }\n  }\n\n  addTag(id) {\n    this.value = [...this.value, id]\n    this.onChange(this.value)\n  }\n\n  clearLastSearchTerm() {\n    this._lastSearchTerm = null\n  }\n\n  onSearch($event) {\n    this._lastSearchTerm = $event.term\n  }\n\n  onBlur() {\n    setTimeout(() => {\n      this.clearLastSearchTerm()\n    }, 3000)\n  }\n}\n","<div class=\"mb-3 paperless-input-select paperless-input-tags\">\n  <label class=\"form-label\" for=\"tags\" i18n>Tags</label>\n\n  <div class=\"input-group flex-nowrap\">\n    <ng-select name=\"tags\" [items]=\"tags\" bindLabel=\"name\" bindValue=\"id\" [(ngModel)]=\"value\"\n      [multiple]=\"true\"\n      [closeOnSelect]=\"false\"\n      [clearSearchOnAdd]=\"true\"\n      [hideSelected]=\"true\"\n      [addTag]=\"allowCreate ? createTagRef : false\"\n      addTagText=\"Add tag\"\n      i18n-addTagText\n      (change)=\"onChange(value)\"\n      (search)=\"onSearch($event)\"\n      (focus)=\"clearLastSearchTerm()\"\n      (clear)=\"clearLastSearchTerm()\"\n      (blur)=\"onBlur()\">\n\n      <ng-template ng-label-tmp let-item=\"item\">\n        <span class=\"tag-wrap tag-wrap-delete\" (mousedown)=\"removeTag($event, item.id)\">\n          <svg width=\"1.2em\" height=\"1em\" viewBox=\"0 0 16 16\" fill=\"currentColor\" xmlns=\"http://www.w3.org/2000/svg\">\n            <use xlink:href=\"assets/bootstrap-icons.svg#x\"/>\n          </svg>\n          <app-tag *ngIf=\"item.id && tags\" style=\"background-color: none;\" [tag]=\"getTag(item.id)\"></app-tag>\n        </span>\n      </ng-template>\n      <ng-template ng-option-tmp let-item=\"item\" let-index=\"index\" let-search=\"searchTerm\">\n        <div class=\"tag-wrap\">\n          <app-tag *ngIf=\"item.id && tags\" class=\"me-2\" [tag]=\"getTag(item.id)\"></app-tag>\n        </div>\n      </ng-template>\n    </ng-select>\n\n    <button *ngIf=\"allowCreate\" class=\"btn btn-outline-secondary\" type=\"button\" (click)=\"createTag()\">\n      <svg class=\"buttonicon\" fill=\"currentColor\">\n        <use xlink:href=\"assets/bootstrap-icons.svg#plus\" />\n      </svg>\n    </button>\n  </div>\n  <small class=\"form-text text-muted\" *ngIf=\"hint\">{{hint}}</small>\n  <small *ngIf=\"getSuggestions().length > 0\">\n    <span i18n>Suggestions:</span>&nbsp;\n    <ng-container *ngFor=\"let tag of getSuggestions()\">\n      <a (click)=\"addTag(tag.id)\" [routerLink]=\"[]\">{{tag.name}}</a>&nbsp;\n    </ng-container>\n\n\n  </small>\n\n</div>\n","import { Component, forwardRef } from '@angular/core'\nimport { NG_VALUE_ACCESSOR } from '@angular/forms'\nimport { AbstractInputComponent } from '../abstract-input'\n\n@Component({\n  providers: [\n    {\n      provide: NG_VALUE_ACCESSOR,\n      useExisting: forwardRef(() => TextComponent),\n      multi: true,\n    },\n  ],\n  selector: 'app-input-text',\n  templateUrl: './text.component.html',\n  styleUrls: ['./text.component.scss'],\n})\nexport class TextComponent extends AbstractInputComponent<string> {\n  constructor() {\n    super()\n  }\n}\n","<div class=\"mb-3\">\n  <label class=\"form-label\" [for]=\"inputId\">{{title}}</label>\n  <input #inputField type=\"text\" class=\"form-control\" [class.is-invalid]=\"error\" [id]=\"inputId\" [(ngModel)]=\"value\" (change)=\"onChange(value)\">\n  <small *ngIf=\"hint\" class=\"form-text text-muted\" [innerHTML]=\"hint | safeHtml\"></small>\n  <div class=\"invalid-feedback\">\n    {{error}}\n  </div>\n</div>\n","import { Component, Input } from '@angular/core'\nimport { Title } from '@angular/platform-browser'\nimport { environment } from 'src/environments/environment'\n\n@Component({\n  selector: 'app-page-header',\n  templateUrl: './page-header.component.html',\n  styleUrls: ['./page-header.component.scss'],\n})\nexport class PageHeaderComponent {\n  constructor(private titleService: Title) {}\n\n  _title = ''\n\n  @Input()\n  set title(title: string) {\n    this._title = title\n    this.titleService.setTitle(`${this.title} - ${environment.appTitle}`)\n  }\n\n  get title() {\n    return this._title\n  }\n\n  @Input()\n  subTitle: string = ''\n}\n","<div class=\"row pt-3 pb-3 pb-md-1 mb-3 border-bottom align-items-center\">\n  <div class=\"col-md text-truncate\">\n    <p class=\"h2 text-truncate\" style=\"line-height: 1.4\">{{title}}</p>\n    <p *ngIf=\"subTitle\" class=\"h5 text-truncate\" style=\"line-height: 1.4\">{{subTitle}}</p>\n  </div>\n  <div class=\"btn-toolbar col col-md-auto\">\n    <ng-content></ng-content>\n  </div>\n</div>\n","import { Component, EventEmitter, Input, Output } from '@angular/core'\nimport { NgbActiveModal } from '@ng-bootstrap/ng-bootstrap'\nimport { ObjectWithId } from 'src/app/data/object-with-id'\n\n@Component({\n  selector: 'app-select-dialog',\n  templateUrl: './select-dialog.component.html',\n  styleUrls: ['./select-dialog.component.scss'],\n})\nexport class SelectDialogComponent {\n  constructor(public activeModal: NgbActiveModal) {}\n\n  @Output()\n  public selectClicked = new EventEmitter()\n\n  @Input()\n  title = $localize`Select`\n\n  @Input()\n  message = $localize`Please select an object`\n\n  @Input()\n  objects: ObjectWithId[] = []\n\n  selected: number\n\n  cancelClicked() {\n    this.activeModal.close()\n  }\n}\n","<div class=\"modal-header\">\n  <h4 class=\"modal-title\" id=\"modal-basic-title\">{{title}}</h4>\n  <button type=\"button\" class=\"btn-close\" aria-label=\"Close\" (click)=\"cancelClicked()\">\n  </button>\n</div>\n<div class=\"modal-body\">\n\n  <app-input-select [items]=\"objects\" [title]=\"message\" [(ngModel)]=\"selected\"></app-input-select>\n\n</div>\n<div class=\"modal-footer\">\n  <button type=\"button\" class=\"btn btn-outline-dark\" (click)=\"cancelClicked()\" i18n>Cancel</button>\n  <button type=\"button\" class=\"btn btn-primary\" (click)=\"selectClicked.emit(selected)\" i18n>Select</button>\n</div>\n","<span *ngIf=\"!clickable\" class=\"badge\" [style.background]=\"tag.color\" [style.color]=\"tag.text_color\">{{tag.name}}</span>\n<a [title]=\"linkTitle\" *ngIf=\"clickable\" class=\"badge\" [style.background]=\"tag.color\" [style.color]=\"tag.text_color\">{{tag.name}}</a>\n","import { Component, Input } from '@angular/core'\nimport { PaperlessTag } from 'src/app/data/paperless-tag'\n\n@Component({\n  selector: 'app-tag',\n  templateUrl: './tag.component.html',\n  styleUrls: ['./tag.component.scss'],\n})\nexport class TagComponent {\n  constructor() {}\n\n  @Input()\n  tag: PaperlessTag\n\n  @Input()\n  linkTitle: string = ''\n\n  @Input()\n  clickable: boolean = false\n}\n","<ngb-toast\n  *ngFor=\"let toast of toasts\"\n  [header]=\"toast.title\" [autohide]=\"true\" [delay]=\"toast.delay\"\n  [class]=\"toast.classname\"\n  (hidden)=\"toastService.closeToast(toast)\">\n  <p>{{toast.content}}</p>\n  <p class=\"mb-0\" *ngIf=\"toast.action\"><button class=\"btn btn-sm btn-outline-secondary\" (click)=\"toastService.closeToast(toast); toast.action()\">{{toast.actionName}}</button></p>\n</ngb-toast>\n","import { Component, OnDestroy, OnInit } from '@angular/core'\nimport { Subscription } from 'rxjs'\nimport { Toast, ToastService } from 'src/app/services/toast.service'\n\n@Component({\n  selector: 'app-toasts',\n  templateUrl: './toasts.component.html',\n  styleUrls: ['./toasts.component.scss'],\n})\nexport class ToastsComponent implements OnInit, OnDestroy {\n  constructor(private toastService: ToastService) {}\n\n  subscription: Subscription\n\n  toasts: Toast[] = []\n\n  ngOnDestroy(): void {\n    this.subscription.unsubscribe()\n  }\n\n  ngOnInit(): void {\n    this.subscription = this.toastService\n      .getToasts()\n      .subscribe((toasts) => (this.toasts = toasts))\n  }\n}\n","<app-page-header title=\"Dashboard\" [subTitle]=\"subtitle\" i18n-title>\n  <svg class=\"logo d-none d-md-block\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 2897.4 896.6\" height=\"6em\">\n    <path class=\"leaf\" d=\"M140,713.7c-3.4-16.4-10.3-49.1-11.2-49.1c-145.7-87.1-128.4-238-80.2-324.2C59,449,251.2,524,139.1,656.8 c-0.9,1.7,5.2,22.4,10.3,41.4c22.4-37.9,56-83.6,54.3-87.9C65.9,273.9,496.9,248.1,586.6,39.4c40.5,201.8-20.7,513.9-367.2,593.2 c-1.7,0.9-62.9,108.6-65.5,109.5c0-1.7-25.9-0.9-22.4-9.5C133.1,727.4,136.6,720.6,140,713.7L140,713.7z M135.7,632.6 c44-50.9-7.8-137.9-38.8-166.4C149.5,556.7,146,609.3,135.7,632.6L135.7,632.6z\" transform=\"translate(0)\" style=\"fill:#17541f\"/>\n    <g class=\"text\" style=\"fill:#000\">\n      <path d=\"M1022.3,428.7c-17.8-19.9-42.7-29.8-74.7-29.8c-22.3,0-42.4,5.7-60.5,17.3c-18.1,11.6-32.3,27.5-42.5,47.8 s-15.3,42.9-15.3,67.8c0,24.9,5.1,47.5,15.3,67.8c10.3,20.3,24.4,36.2,42.5,47.8c18.1,11.5,38.3,17.3,60.5,17.3 c32,0,56.9-9.9,74.7-29.8v20.4v0.2h84.5V408.3h-84.5V428.7z M1010.5,575c-10.2,11.7-23.6,17.6-40.2,17.6s-29.9-5.9-40-17.6 s-15.1-26.1-15.1-43.3c0-17.1,5-31.6,15.1-43.3s23.4-17.6,40-17.6c16.6,0,30,5.9,40.2,17.6s15.3,26.1,15.3,43.3 S1020.7,563.3,1010.5,575z\" transform=\"translate(0)\"/>\n      <path d=\"M1381,416.1c-18.1-11.5-38.3-17.3-60.5-17.4c-32,0-56.9,9.9-74.7,29.8v-20.4h-84.5v390.7h84.5v-164 c17.8,19.9,42.7,29.8,74.7,29.8c22.3,0,42.4-5.7,60.5-17.3s32.3-27.5,42.5-47.8c10.2-20.3,15.3-42.9,15.3-67.8s-5.1-47.5-15.3-67.8 C1413.2,443.6,1399.1,427.7,1381,416.1z M1337.9,575c-10.1,11.7-23.4,17.6-40,17.6s-29.9-5.9-40-17.6s-15.1-26.1-15.1-43.3 c0-17.1,5-31.6,15.1-43.3s23.4-17.6,40-17.6s29.9,5.9,40,17.6s15.1,26.1,15.1,43.3S1347.9,563.3,1337.9,575z\" transform=\"translate(0)\"/>\n      <path d=\"M1672.2,416.8c-20.5-12-43-18-67.6-18c-24.9,0-47.6,5.9-68,17.6c-20.4,11.7-36.5,27.7-48.2,48s-17.6,42.7-17.6,67.3 c0.3,25.2,6.2,47.8,17.8,68c11.5,20.2,28,36,49.3,47.6c21.3,11.5,45.9,17.3,73.8,17.3c48.6,0,86.8-14.7,114.7-44l-52.5-48.9 c-8.6,8.3-17.6,14.6-26.7,19c-9.3,4.3-21.1,6.4-35.3,6.4c-11.6,0-22.5-3.6-32.7-10.9c-10.3-7.3-17.1-16.5-20.7-27.8h180l0.4-11.6 c0-29.6-6-55.7-18-78.2S1692.6,428.8,1672.2,416.8z M1558.3,503.2c2.1-12.1,7.5-21.8,16.2-29.1s18.7-10.9,30-10.9 s21.2,3.6,29.8,10.9c8.6,7.2,13.9,16.9,16,29.1H1558.3z\" transform=\"translate(0)\"/>\n      <path d=\"M1895.3,411.7c-11,5.6-20.3,13.7-28,24.4h-0.1v-28h-84.5v247.3h84.5V536.3c0-22.6,4.7-38.1,14.2-46.5 c9.5-8.5,22.7-12.7,39.6-12.7c6.2,0,13.5,1,21.8,3.1l10.7-72c-5.9-3.3-14.5-4.9-25.8-4.9C1917.1,403.3,1906.3,406.1,1895.3,411.7z\"  transform=\"translate(0)\"/>\n      <rect x=\"1985\" y=\"277.4\" width=\"84.5\" height=\"377.8\" transform=\"translate(0)\"/>\n      <path d=\"M2313.2,416.8c-20.5-12-43-18-67.6-18c-24.9,0-47.6,5.9-68,17.6s-36.5,27.7-48.2,48c-11.7,20.3-17.6,42.7-17.6,67.3 c0.3,25.2,6.2,47.8,17.8,68c11.5,20.2,28,36,49.3,47.6c21.3,11.5,45.9,17.3,73.8,17.3c48.6,0,86.8-14.7,114.7-44l-52.5-48.9 c-8.6,8.3-17.6,14.6-26.7,19c-9.3,4.3-21.1,6.4-35.3,6.4c-11.6,0-22.5-3.6-32.7-10.9c-10.3-7.3-17.1-16.5-20.7-27.8h180l0.4-11.6 c0-29.6-6-55.7-18-78.2S2333.6,428.8,2313.2,416.8z M2199.3,503.2c2.1-12.1,7.5-21.8,16.2-29.1s18.7-10.9,30-10.9 s21.2,3.6,29.8,10.9c8.6,7.2,13.9,16.9,16,29.1H2199.3z\" transform=\"translate(0)\"/>\n      <path d=\"M2583.6,507.7c-13.8-4.4-30.6-8.1-50.5-11.1c-15.1-2.7-26.1-5.2-32.9-7.6c-6.8-2.4-10.2-6.1-10.2-11.1s2.3-8.7,6.7-10.9 c4.4-2.2,11.5-3.3,21.3-3.3c11.6,0,24.3,2.4,38.1,7.2c13.9,4.8,26.2,11,36.9,18.4l32.4-58.2c-11.3-7.4-26.2-14.7-44.9-21.8 c-18.7-7.1-39.6-10.7-62.7-10.7c-33.7,0-60.2,7.6-79.3,22.7c-19.1,15.1-28.7,36.1-28.7,63.1c0,19,4.8,33.9,14.4,44.7 c9.6,10.8,21,18.5,34,22.9c13.1,4.5,28.9,8.3,47.6,11.6c14.6,2.7,25.1,5.3,31.6,7.8s9.8,6.5,9.8,11.8c0,10.4-9.7,15.6-29.3,15.6 c-13.7,0-28.5-2.3-44.7-6.9c-16.1-4.6-29.2-11.3-39.3-20.2l-33.3,60c9.2,7.4,24.6,14.7,46.2,22c21.7,7.3,45.2,10.9,70.7,10.9 c34.7,0,62.9-7.4,84.5-22.4c21.7-15,32.5-37.3,32.5-66.9c0-19.3-5-34.2-15.1-44.9S2597.4,512.1,2583.6,507.7z\" transform=\"translate(0)\"/>\n      <path d=\"M2883.4,575.3c0-19.3-5-34.2-15.1-44.9s-22-18.3-35.8-22.7c-13.8-4.4-30.6-8.1-50.5-11.1c-15.1-2.7-26.1-5.2-32.9-7.6 c-6.8-2.4-10.2-6.1-10.2-11.1s2.3-8.7,6.7-10.9c4.4-2.2,11.5-3.3,21.3-3.3c11.6,0,24.3,2.4,38.1,7.2c13.9,4.8,26.2,11,36.9,18.4 l32.4-58.2c-11.3-7.4-26.2-14.7-44.9-21.8c-18.7-7.1-39.6-10.7-62.7-10.7c-33.7,0-60.2,7.6-79.3,22.7 c-19.1,15.1-28.7,36.1-28.7,63.1c0,19,4.8,33.9,14.4,44.7c9.6,10.8,21,18.5,34,22.9c13.1,4.5,28.9,8.3,47.6,11.6 c14.6,2.7,25.1,5.3,31.6,7.8s9.8,6.5,9.8,11.8c0,10.4-9.7,15.6-29.3,15.6c-13.7,0-28.5-2.3-44.7-6.9c-16.1-4.6-29.2-11.3-39.3-20.2 l-33.3,60c9.2,7.4,24.6,14.7,46.2,22c21.7,7.3,45.2,10.9,70.7,10.9c34.7,0,62.9-7.4,84.5-22.4 C2872.6,627.2,2883.4,604.9,2883.4,575.3z\" transform=\"translate(0)\"/>\n      <rect x=\"2460.7\" y=\"738.7\" width=\"59.6\" height=\"17.2\" transform=\"translate(0)\"/>\n      <path d=\"M2596.5,706.4c-5.7,0-11,1-15.8,3s-9,5-12.5,8.9v-9.4h-19.4v93.6h19.4v-52c0-8.6,2.1-15.3,6.3-20c4.2-4.7,9.5-7.1,15.9-7.1 c7.8,0,13.4,2.3,16.8,6.7c3.4,4.5,5.1,11.3,5.1,20.5v52h19.4v-56.8c0-12.8-3.2-22.6-9.5-29.3 C2615.8,709.8,2607.3,706.4,2596.5,706.4z\" transform=\"translate(0)\"/>\n      <path d=\"M2733.8,717.7c-3.6-3.4-7.9-6.1-13.1-8.2s-10.6-3.1-16.2-3.1c-8.7,0-16.5,2.1-23.5,6.3s-12.5,10-16.5,17.3 c-4,7.3-6,15.4-6,24.4c0,8.9,2,17.1,6,24.3c4,7.3,9.5,13,16.5,17.2s14.9,6.3,23.5,6.3c5.6,0,11-1,16.2-3.1 c5.1-2.1,9.5-4.8,13.1-8.2v24.4c0,8.5-2.5,14.8-7.6,18.7c-5,3.9-11,5.9-18,5.9c-6.7,0-12.4-1.6-17.3-4.7c-4.8-3.1-7.6-7.7-8.3-13.8 h-19.4c0.6,7.7,2.9,14.2,7.1,19.5s9.6,9.3,16.2,12c6.6,2.7,13.8,4,21.7,4c12.8,0,23.5-3.4,32-10.1c8.6-6.7,12.8-17.1,12.8-31.1 V708.9h-19.2V717.7z M2732.2,770.1c-2.5,4.7-6,8.3-10.4,11.2c-4.4,2.7-9.4,4-14.9,4c-5.7,0-10.8-1.4-15.2-4.3s-7.8-6.7-10.2-11.4 c-2.3-4.8-3.5-9.8-3.5-15.2c0-5.5,1.1-10.6,3.5-15.3s5.8-8.5,10.2-11.3s9.5-4.2,15.2-4.2c5.5,0,10.5,1.4,14.9,4s7.9,6.3,10.4,11 s3.8,10,3.8,15.8S2734.7,765.4,2732.2,770.1z\" transform=\"translate(0)\"/>\n      <polygon points=\"2867.9,708.9 2846.5,708.9 2820.9,741.9 2795.5,708.9 2773.1,708.9 2809.1,755 2771.5,802.5 2792.9,802.5  2820.1,767.9 2847.2,802.6 2869.6,802.6 2832,754.4 \t\" transform=\"translate(0)\"/>\n      <path d=\"M757.6,293.7c-20-10.8-42.6-16.2-67.8-16.2H600c-8.5,39.2-21.1,76.4-37.6,111.3c-9.9,20.8-21.1,40.6-33.6,59.4v207.2h88.9 V521.5h72c25.2,0,47.8-5.4,67.8-16.2s35.7-25.6,47.1-44.2c11.4-18.7,17.1-39.1,17.1-61.3c0.1-22.7-5.6-43.3-17-61.9 C793.3,319.2,777.6,304.5,757.6,293.7z M716.6,434.3c-9.3,8.9-21.6,13.3-36.7,13.3l-62.2,0.4v-92.5l62.2-0.4 c15.1,0,27.3,4.4,36.7,13.3c9.4,8.9,14,19.9,14,32.9C730.6,414.5,726,425.4,716.6,434.3z\" transform=\"translate(0)\"/>\n    </g>\n  </svg>\n</app-page-header>\n\n<div class=\"row\">\n  <div class=\"col-lg-8\">\n    <ng-container *ngIf=\"savedViewService.loading\">\n      <div class=\"spinner-border spinner-border-sm me-2\" role=\"status\"></div>\n      <ng-container i18n>Loading...</ng-container>\n    </ng-container>\n\n    <app-welcome-widget *ngIf=\"settingsService.offerTour()\" tourAnchor=\"tour.dashboard\"></app-welcome-widget>\n\n    <ng-container *ngFor=\"let v of savedViewService.dashboardViews; first as isFirst\">\n      <app-saved-view-widget *ngIf=\"isFirst; else noTour\" [savedView]=\"v\" tourAnchor=\"tour.dashboard\"></app-saved-view-widget>\n      <ng-template #noTour>\n        <app-saved-view-widget [savedView]=\"v\"></app-saved-view-widget>\n      </ng-template>\n    </ng-container>\n\n  </div>\n  <div class=\"col-lg-4\">\n\n    <app-statistics-widget></app-statistics-widget>\n\n    <app-upload-file-widget></app-upload-file-widget>\n\n  </div>\n</div>\n","import { Component } from '@angular/core'\nimport { SavedViewService } from 'src/app/services/rest/saved-view.service'\nimport { SettingsService } from 'src/app/services/settings.service'\n\n@Component({\n  selector: 'app-dashboard',\n  templateUrl: './dashboard.component.html',\n  styleUrls: ['./dashboard.component.scss'],\n})\nexport class DashboardComponent {\n  constructor(\n    public savedViewService: SavedViewService,\n    public settingsService: SettingsService\n  ) {}\n\n  get subtitle() {\n    if (this.settingsService.displayName) {\n      return $localize`Hello ${this.settingsService.displayName}, welcome to Paperless-ngx`\n    } else {\n      return $localize`Welcome to Paperless-ngx`\n    }\n  }\n}\n","import { Component, Input, OnDestroy, OnInit } from '@angular/core'\nimport { Router } from '@angular/router'\nimport { Subscription } from 'rxjs'\nimport { PaperlessDocument } from 'src/app/data/paperless-document'\nimport { PaperlessSavedView } from 'src/app/data/paperless-saved-view'\nimport { ConsumerStatusService } from 'src/app/services/consumer-status.service'\nimport { DocumentService } from 'src/app/services/rest/document.service'\nimport { PaperlessTag } from 'src/app/data/paperless-tag'\nimport { FILTER_HAS_TAGS_ALL } from 'src/app/data/filter-rule-type'\nimport { OpenDocumentsService } from 'src/app/services/open-documents.service'\nimport { DocumentListViewService } from 'src/app/services/document-list-view.service'\n\n@Component({\n  selector: 'app-saved-view-widget',\n  templateUrl: './saved-view-widget.component.html',\n  styleUrls: ['./saved-view-widget.component.scss'],\n})\nexport class SavedViewWidgetComponent implements OnInit, OnDestroy {\n  loading: boolean = true\n\n  constructor(\n    private documentService: DocumentService,\n    private router: Router,\n    private list: DocumentListViewService,\n    private consumerStatusService: ConsumerStatusService,\n    public openDocumentsService: OpenDocumentsService\n  ) {}\n\n  @Input()\n  savedView: PaperlessSavedView\n\n  documents: PaperlessDocument[] = []\n\n  subscription: Subscription\n\n  ngOnInit(): void {\n    this.reload()\n    this.subscription = this.consumerStatusService\n      .onDocumentConsumptionFinished()\n      .subscribe((status) => {\n        this.reload()\n      })\n  }\n\n  ngOnDestroy(): void {\n    this.subscription.unsubscribe()\n  }\n\n  reload() {\n    this.loading = this.documents.length == 0\n    this.documentService\n      .listFiltered(\n        1,\n        10,\n        this.savedView.sort_field,\n        this.savedView.sort_reverse,\n        this.savedView.filter_rules\n      )\n      .subscribe((result) => {\n        this.loading = false\n        this.documents = result.results\n      })\n  }\n\n  showAll() {\n    if (this.savedView.show_in_sidebar) {\n      this.router.navigate(['view', this.savedView.id])\n    } else {\n      this.router.navigate(['documents'], {\n        queryParams: { view: this.savedView.id },\n      })\n    }\n  }\n\n  clickTag(tag: PaperlessTag, event: MouseEvent) {\n    event.preventDefault()\n\n    this.list.quickFilter([\n      { rule_type: FILTER_HAS_TAGS_ALL, value: tag.id.toString() },\n    ])\n  }\n}\n","<app-widget-frame [title]=\"savedView.name\" [loading]=\"loading\">\n\n  <a class=\"btn-link\" header-buttons [routerLink]=\"[]\" (click)=\"showAll()\" i18n>Show all</a>\n\n\n  <table content class=\"table table-sm table-hover table-borderless mb-0\">\n    <thead>\n      <tr>\n        <th i18n>Created</th>\n        <th scope=\"col\" i18n>Title</th>\n      </tr>\n    </thead>\n    <tbody>\n      <tr *ngFor=\"let doc of documents\">\n        <td><a routerLink=\"/documents/{{doc.id}}\" class=\"d-block text-dark text-decoration-none\">{{doc.created_date | customDate}}</a></td>\n        <td><a routerLink=\"/documents/{{doc.id}}\" class=\"d-block text-dark text-decoration-none\">{{doc.title | documentTitle}}<app-tag [tag]=\"t\" *ngFor=\"let t of doc.tags$ | async\" class=\"ms-1\" (click)=\"clickTag(t, $event)\"></app-tag></a></td>\n      </tr>\n    </tbody>\n  </table>\n\n</app-widget-frame>\n","import { HttpClient } from '@angular/common/http'\nimport { Component, OnDestroy, OnInit } from '@angular/core'\nimport { Observable, Subscription } from 'rxjs'\nimport { ConsumerStatusService } from 'src/app/services/consumer-status.service'\nimport { environment } from 'src/environments/environment'\n\nexport interface Statistics {\n  documents_total?: number\n  documents_inbox?: number\n}\n\n@Component({\n  selector: 'app-statistics-widget',\n  templateUrl: './statistics-widget.component.html',\n  styleUrls: ['./statistics-widget.component.scss'],\n})\nexport class StatisticsWidgetComponent implements OnInit, OnDestroy {\n  loading: boolean = true\n\n  constructor(\n    private http: HttpClient,\n    private consumerStatusService: ConsumerStatusService\n  ) {}\n\n  statistics: Statistics = {}\n\n  subscription: Subscription\n\n  private getStatistics(): Observable<Statistics> {\n    return this.http.get(`${environment.apiBaseUrl}statistics/`)\n  }\n\n  reload() {\n    this.loading = true\n    this.getStatistics().subscribe((statistics) => {\n      this.loading = false\n      this.statistics = statistics\n    })\n  }\n\n  ngOnInit(): void {\n    this.reload()\n    this.subscription = this.consumerStatusService\n      .onDocumentConsumptionFinished()\n      .subscribe((status) => {\n        this.reload()\n      })\n  }\n\n  ngOnDestroy(): void {\n    this.subscription.unsubscribe()\n  }\n}\n","<app-widget-frame title=\"Statistics\" [loading]=\"loading\" i18n-title>\n  <ng-container content>\n    <p class=\"card-text\" i18n *ngIf=\"statistics?.documents_inbox !== null\">Documents in inbox: {{statistics?.documents_inbox}}</p>\n    <p class=\"card-text\" i18n>Total documents: {{statistics?.documents_total}}</p>\n  </ng-container>\n</app-widget-frame>\n","import { Component } from '@angular/core'\nimport { NgxFileDropEntry } from 'ngx-file-drop'\nimport {\n  ConsumerStatusService,\n  FileStatus,\n  FileStatusPhase,\n} from 'src/app/services/consumer-status.service'\nimport { UploadDocumentsService } from 'src/app/services/upload-documents.service'\n\nconst MAX_ALERTS = 5\n\n@Component({\n  selector: 'app-upload-file-widget',\n  templateUrl: './upload-file-widget.component.html',\n  styleUrls: ['./upload-file-widget.component.scss'],\n})\nexport class UploadFileWidgetComponent {\n  alertsExpanded = false\n\n  constructor(\n    private consumerStatusService: ConsumerStatusService,\n    private uploadDocumentsService: UploadDocumentsService\n  ) {}\n\n  getStatus() {\n    return this.consumerStatusService.getConsumerStatus().slice(0, MAX_ALERTS)\n  }\n\n  getStatusSummary() {\n    let strings = []\n    let countUploadingAndProcessing =\n      this.consumerStatusService.getConsumerStatusNotCompleted().length\n    let countFailed = this.getStatusFailed().length\n    let countSuccess = this.getStatusSuccess().length\n    if (countUploadingAndProcessing > 0) {\n      strings.push($localize`Processing: ${countUploadingAndProcessing}`)\n    }\n    if (countFailed > 0) {\n      strings.push($localize`Failed: ${countFailed}`)\n    }\n    if (countSuccess > 0) {\n      strings.push($localize`Added: ${countSuccess}`)\n    }\n    return strings.join(\n      $localize`:this string is used to separate processing, failed and added on the file upload widget:, `\n    )\n  }\n\n  getStatusHidden() {\n    if (this.consumerStatusService.getConsumerStatus().length < MAX_ALERTS)\n      return []\n    else return this.consumerStatusService.getConsumerStatus().slice(MAX_ALERTS)\n  }\n\n  getStatusUploading() {\n    return this.consumerStatusService.getConsumerStatus(\n      FileStatusPhase.UPLOADING\n    )\n  }\n\n  getStatusFailed() {\n    return this.consumerStatusService.getConsumerStatus(FileStatusPhase.FAILED)\n  }\n\n  getStatusSuccess() {\n    return this.consumerStatusService.getConsumerStatus(FileStatusPhase.SUCCESS)\n  }\n\n  getStatusCompleted() {\n    return this.consumerStatusService.getConsumerStatusCompleted()\n  }\n  getTotalUploadProgress() {\n    let current = 0\n    let max = 0\n\n    this.getStatusUploading().forEach((status) => {\n      current += status.currentPhaseProgress\n      max += status.currentPhaseMaxProgress\n    })\n\n    return current / Math.max(max, 1)\n  }\n\n  isFinished(status: FileStatus) {\n    return (\n      status.phase == FileStatusPhase.FAILED ||\n      status.phase == FileStatusPhase.SUCCESS\n    )\n  }\n\n  getStatusColor(status: FileStatus) {\n    switch (status.phase) {\n      case FileStatusPhase.PROCESSING:\n      case FileStatusPhase.UPLOADING:\n        return 'primary'\n      case FileStatusPhase.FAILED:\n        return 'danger'\n      case FileStatusPhase.SUCCESS:\n        return 'success'\n    }\n  }\n\n  dismiss(status: FileStatus) {\n    this.consumerStatusService.dismiss(status)\n  }\n\n  dismissCompleted() {\n    this.consumerStatusService.dismissCompleted()\n  }\n\n  public fileOver(event) {}\n\n  public fileLeave(event) {}\n\n  public dropped(files: NgxFileDropEntry[]) {\n    this.uploadDocumentsService.uploadFiles(files)\n  }\n}\n","<app-widget-frame title=\"Upload new documents\" i18n-title>\n  <div header-buttons>\n    <a *ngIf=\"getStatusSuccess().length > 0\" (click)=\"dismissCompleted()\" [routerLink]=\"[]\" >\n      <span class=\"me-1\" i18n=\"This button dismisses all status messages about processed documents on the dashboard (failed and successful)\">Dismiss completed</span>\n      <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"1rem\" height=\"1rem\" fill=\"currentColor\" class=\"bi bi-check2-all\" viewBox=\"0 0 16 16\">\n        <path d=\"M12.354 4.354a.5.5 0 0 0-.708-.708L5 10.293 1.854 7.146a.5.5 0 1 0-.708.708l3.5 3.5a.5.5 0 0 0 .708 0l7-7zm-4.208 7l-.896-.897.707-.707.543.543 6.646-6.647a.5.5 0 0 1 .708.708l-7 7a.5.5 0 0 1-.708 0z\"/>\n        <path d=\"M5.354 7.146l.896.897-.707.707-.897-.896a.5.5 0 1 1 .708-.708z\"/>\n      </svg>\n    </a>\n  </div>\n  <div content tourAnchor=\"tour.upload-widget\">\n    <form>\n      <ngx-file-drop dropZoneLabel=\"Drop documents here or\" browseBtnLabel=\"Browse files\" (onFileDrop)=\"dropped($event)\"\n        (onFileOver)=\"fileOver($event)\" (onFileLeave)=\"fileLeave($event)\" dropZoneClassName=\"bg-light card\"\n        multiple=\"true\" contentClassName=\"justify-content-center d-flex align-items-center py-5 px-2\" [showBrowseBtn]=true\n        browseBtnClassName=\"btn btn-sm btn-outline-primary ms-2\" i18n-dropZoneLabel i18n-browseBtnLabel>\n      </ngx-file-drop>\n    </form>\n    <p class=\"mt-3\" *ngIf=\"getStatus().length > 0\">{{getStatusSummary()}}</p>\n    <div *ngFor=\"let status of getStatus()\">\n      <ng-container [ngTemplateOutlet]=\"consumerAlert\" [ngTemplateOutletContext]=\"{ $implicit: status }\"></ng-container>\n    </div>\n    <div *ngIf=\"getStatusHidden().length\" class=\"alerts-hidden\">\n      <p *ngIf=\"!alertsExpanded\" class=\"mt-3 mb-0 text-center\">\n        <span i18n=\"This is shown as a summary line when there are more than 5 document in the processing pipeline.\">{getStatusHidden().length, plural, =1 {One more document} other {{{getStatusHidden().length}} more documents}}</span>\n        &nbsp;&bull;&nbsp;\n        <a [routerLink]=\"[]\" (click)=\"alertsExpanded = !alertsExpanded\" aria-controls=\"hiddenAlerts\" [attr.aria-expanded]=\"alertsExpanded\" i18n>Show all</a>\n      </p>\n      <div #hiddenAlerts=\"ngbCollapse\" [(ngbCollapse)]=\"!alertsExpanded\">\n        <div *ngFor=\"let status of getStatusHidden()\">\n          <ng-container [ngTemplateOutlet]=\"consumerAlert\" [ngTemplateOutletContext]=\"{ $implicit: status }\"></ng-container>\n        </div>\n      </div>\n    </div>\n  </div>\n</app-widget-frame>\n\n<ng-template #consumerAlert let-status>\n  <ngb-alert type=\"secondary\" class=\"mt-2 mb-0\" [dismissible]=\"isFinished(status)\" (closed)=\"dismiss(status)\">\n    <h6 class=\"alert-heading\">{{status.filename}}</h6>\n    <p class=\"mb-0 pb-1\" *ngIf=\"!isFinished(status) || (isFinished(status) && !status.documentId)\">{{status.message}}</p>\n    <ngb-progressbar [value]=\"status.getProgress()\" [max]=\"1\" [type]=\"getStatusColor(status)\"></ngb-progressbar>\n    <div *ngIf=\"isFinished(status)\">\n      <button *ngIf=\"status.documentId\" class=\"btn btn-sm btn-outline-primary btn-open\" routerLink=\"/documents/{{status.documentId}}\" (click)=\"dismiss(status)\">\n        <small i18n>Open document</small>\n        <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"1rem\" height=\"1rem\" fill=\"currentColor\" class=\"bi bi-arrow-right-short\" viewBox=\"0 0 16 16\">\n          <path fill-rule=\"evenodd\" d=\"M4 8a.5.5 0 0 1 .5-.5h5.793L8.146 5.354a.5.5 0 1 1 .708-.708l3 3a.5.5 0 0 1 0 .708l-3 3a.5.5 0 0 1-.708-.708L10.293 8.5H4.5A.5.5 0 0 1 4 8z\"/>\n        </svg>\n      </button>\n    </div>\n  </ngb-alert>\n</ng-template>\n","import { Component } from '@angular/core'\nimport { TourService } from 'ngx-ui-tour-ng-bootstrap'\n\n@Component({\n  selector: 'app-welcome-widget',\n  templateUrl: './welcome-widget.component.html',\n  styleUrls: ['./welcome-widget.component.scss'],\n})\nexport class WelcomeWidgetComponent {\n  constructor(public readonly tourService: TourService) {}\n}\n","<ngb-alert type=\"primary\" [dismissible]=\"false\">\n  <!-- [dismissible]=\"isFinished(status)\" (closed)=\"dismiss(status)\" -->\n  <h4 class=\"alert-heading\"><ng-container i18n>Paperless-ngx is running!</ng-container> </h4>\n  <p i18n>You're ready to start uploading documents! Explore the various features of this web app on your own, or start a quick tour using the button below.</p>\n  <p i18n>More detail on how to use and configure Paperless-ngx is always available in the <a href=\"https://docs.paperless-ngx.com\" target=\"_blank\">documentation</a>.</p>\n  <hr>\n  <div class=\"d-flex align-items-end\">\n    <p class=\"lead fs-6 m-0\"><em i18n>Thanks for being a part of the Paperless-ngx community!</em></p>\n    <button class=\"btn btn-primary ms-auto flex-shrink-0\" (click)=\"tourService.start()\"><ng-container i18n>Start the tour</ng-container> &rarr;</button>\n  </div>\n</ngb-alert>\n","<div class=\"card mb-3 shadow-sm\">\n  <div class=\"card-header\">\n    <div class=\"d-flex justify-content-between align-items-center\">\n      <h5 class=\"card-title mb-0\">{{title}}</h5>\n      <ng-container *ngIf=\"loading\">\n        <div class=\"spinner-border spinner-border-sm fw-normal ms-2 me-auto\" role=\"status\"></div>\n        <div class=\"visually-hidden\" i18n>Loading...</div>\n      </ng-container>\n      <ng-content select =\"[header-buttons]\"></ng-content>\n    </div>\n\n  </div>\n  <div class=\"card-body text-dark bg-light\">\n    <ng-content select =\"[content]\"></ng-content>\n  </div>\n</div>\n","import { Component, Input } from '@angular/core'\n\n@Component({\n  selector: 'app-widget-frame',\n  templateUrl: './widget-frame.component.html',\n  styleUrls: ['./widget-frame.component.scss'],\n})\nexport class WidgetFrameComponent {\n  constructor() {}\n\n  @Input()\n  title: string\n\n  @Input()\n  loading: boolean = false\n}\n","import { Component, OnInit } from '@angular/core'\nimport { DocumentService } from '../../services/rest/document.service'\nimport { ActivatedRoute, Router } from '@angular/router'\nimport { FILTER_ASN } from '../../data/filter-rule-type'\n\n@Component({\n  selector: 'app-document-asncomponent',\n  templateUrl: './document-asn.component.html',\n  styleUrls: ['./document-asn.component.scss'],\n})\nexport class DocumentAsnComponent implements OnInit {\n  asn: string\n  constructor(\n    private documentsService: DocumentService,\n    private route: ActivatedRoute,\n    private router: Router\n  ) {}\n\n  ngOnInit(): void {\n    this.route.paramMap.subscribe((paramMap) => {\n      this.asn = paramMap.get('id')\n      this.documentsService\n        .listAllFilteredIds([{ rule_type: FILTER_ASN, value: this.asn }])\n        .subscribe((documentId) => {\n          if (documentId.length == 1) {\n            this.router.navigate(['documents', documentId[0]])\n          } else {\n            this.router.navigate(['404'])\n          }\n        })\n    })\n  }\n}\n","<p i18n>Searching document with asn {{asn}}</p>\n","import { Component, Input } from '@angular/core'\nimport { DocumentCommentsService } from 'src/app/services/rest/document-comments.service'\nimport { PaperlessDocumentComment } from 'src/app/data/paperless-document-comment'\nimport { FormControl, FormGroup } from '@angular/forms'\nimport { first } from 'rxjs/operators'\nimport { ToastService } from 'src/app/services/toast.service'\n\n@Component({\n  selector: 'app-document-comments',\n  templateUrl: './document-comments.component.html',\n  styleUrls: ['./document-comments.component.scss'],\n})\nexport class DocumentCommentsComponent {\n  commentForm: FormGroup = new FormGroup({\n    newComment: new FormControl(''),\n  })\n\n  networkActive = false\n  comments: PaperlessDocumentComment[] = []\n  newCommentError: boolean = false\n\n  private _documentId: number\n\n  @Input()\n  set documentId(id: number) {\n    if (id != this._documentId) {\n      this._documentId = id\n      this.update()\n    }\n  }\n\n  constructor(\n    private commentsService: DocumentCommentsService,\n    private toastService: ToastService\n  ) {}\n\n  update(): void {\n    this.networkActive = true\n    this.commentsService\n      .getComments(this._documentId)\n      .pipe(first())\n      .subscribe((comments) => {\n        this.comments = comments\n        this.networkActive = false\n      })\n  }\n\n  addComment() {\n    const comment: string = this.commentForm\n      .get('newComment')\n      .value.toString()\n      .trim()\n    if (comment.length == 0) {\n      this.newCommentError = true\n      return\n    }\n    this.newCommentError = false\n    this.networkActive = true\n    this.commentsService.addComment(this._documentId, comment).subscribe({\n      next: (result) => {\n        this.comments = result\n        this.commentForm.get('newComment').reset()\n        this.networkActive = false\n      },\n      error: (e) => {\n        this.networkActive = false\n        this.toastService.showError(\n          $localize`Error saving comment: ${e.toString()}`\n        )\n      },\n    })\n  }\n\n  deleteComment(commentId: number) {\n    this.commentsService.deleteComment(this._documentId, commentId).subscribe({\n      next: (result) => {\n        this.comments = result\n        this.networkActive = false\n      },\n      error: (e) => {\n        this.networkActive = false\n        this.toastService.showError(\n          $localize`Error deleting comment: ${e.toString()}`\n        )\n      },\n    })\n  }\n\n  displayName(comment: PaperlessDocumentComment): string {\n    if (!comment.user) return ''\n    let nameComponents = []\n    if (comment.user.firstname) nameComponents.unshift(comment.user.firstname)\n    if (comment.user.lastname) nameComponents.unshift(comment.user.lastname)\n    if (comment.user.username) {\n      if (nameComponents.length > 0)\n        nameComponents.push(`(${comment.user.username})`)\n      else nameComponents.push(comment.user.username)\n    }\n    return nameComponents.join(' ')\n  }\n}\n","<div *ngIf=\"comments\">\n    <form [formGroup]=\"commentForm\" class=\"needs-validation mt-3\" novalidate>\n        <div class=\"form-group\">\n            <textarea class=\"form-control form-control-sm\" [class.is-invalid]=\"newCommentError\" rows=\"3\" formControlName=\"newComment\" placeholder=\"Enter comment\" i18n-placeholder required></textarea>\n            <div class=\"invalid-feedback\" i18n>\n                Please enter a comment.\n            </div>\n        </div>\n        <div class=\"form-group mt-2 d-flex justify-content-end align-items-center\">\n            <div *ngIf=\"networkActive\" class=\"spinner-border spinner-border-sm fw-normal me-auto\" role=\"status\"></div>\n            <button type=\"button\" class=\"btn btn-primary btn-sm\" [disabled]=\"networkActive\" (click)=\"addComment()\" i18n>Add comment</button>\n        </div>\n    </form>\n    <hr>\n    <div *ngFor=\"let comment of comments\" class=\"card border mb-3\">\n        <div class=\"card-body text-dark\">\n            <p class=\"card-text\">{{comment.comment}}</p>\n        </div>\n        <div class=\"d-flex card-footer small bg-light text-primary justify-content-between align-items-center\">\n            <span>{{displayName(comment)}} - {{ comment.created | customDate}}</span>\n            <button type=\"button\" class=\"btn btn-link btn-sm p-0 fade\" (click)=\"deleteComment(comment.id)\">\n                <svg width=\"13\" height=\"13\" fill=\"currentColor\">\n                    <use xlink:href=\"assets/bootstrap-icons.svg#trash\" />\n                </svg>\n            </button>\n        </div>\n    </div>\n</div>\n","import { Component, OnInit, OnDestroy, ViewChild } from '@angular/core'\nimport { FormControl, FormGroup } from '@angular/forms'\nimport { ActivatedRoute, Router } from '@angular/router'\nimport { NgbModal, NgbNav } from '@ng-bootstrap/ng-bootstrap'\nimport { PaperlessCorrespondent } from 'src/app/data/paperless-correspondent'\nimport { PaperlessDocument } from 'src/app/data/paperless-document'\nimport { PaperlessDocumentMetadata } from 'src/app/data/paperless-document-metadata'\nimport { PaperlessDocumentType } from 'src/app/data/paperless-document-type'\nimport { DocumentTitlePipe } from 'src/app/pipes/document-title.pipe'\nimport { DocumentListViewService } from 'src/app/services/document-list-view.service'\nimport { OpenDocumentsService } from 'src/app/services/open-documents.service'\nimport { CorrespondentService } from 'src/app/services/rest/correspondent.service'\nimport { DocumentTypeService } from 'src/app/services/rest/document-type.service'\nimport { DocumentService } from 'src/app/services/rest/document.service'\nimport { ConfirmDialogComponent } from '../common/confirm-dialog/confirm-dialog.component'\nimport { CorrespondentEditDialogComponent } from '../common/edit-dialog/correspondent-edit-dialog/correspondent-edit-dialog.component'\nimport { DocumentTypeEditDialogComponent } from '../common/edit-dialog/document-type-edit-dialog/document-type-edit-dialog.component'\nimport { PDFDocumentProxy } from 'ng2-pdf-viewer'\nimport { ToastService } from 'src/app/services/toast.service'\nimport { TextComponent } from '../common/input/text/text.component'\nimport { SettingsService } from 'src/app/services/settings.service'\nimport { dirtyCheck, DirtyComponent } from '@ngneat/dirty-check-forms'\nimport { Observable, Subject, BehaviorSubject } from 'rxjs'\nimport {\n  first,\n  takeUntil,\n  switchMap,\n  map,\n  debounceTime,\n  distinctUntilChanged,\n} from 'rxjs/operators'\nimport { PaperlessDocumentSuggestions } from 'src/app/data/paperless-document-suggestions'\nimport { FILTER_FULLTEXT_MORELIKE } from 'src/app/data/filter-rule-type'\nimport { StoragePathService } from 'src/app/services/rest/storage-path.service'\nimport { PaperlessStoragePath } from 'src/app/data/paperless-storage-path'\nimport { StoragePathEditDialogComponent } from '../common/edit-dialog/storage-path-edit-dialog/storage-path-edit-dialog.component'\nimport { SETTINGS_KEYS } from 'src/app/data/paperless-uisettings'\n\n@Component({\n  selector: 'app-document-detail',\n  templateUrl: './document-detail.component.html',\n  styleUrls: ['./document-detail.component.scss'],\n})\nexport class DocumentDetailComponent\n  implements OnInit, OnDestroy, DirtyComponent\n{\n  @ViewChild('inputTitle')\n  titleInput: TextComponent\n\n  expandOriginalMetadata = false\n  expandArchivedMetadata = false\n\n  error: any\n\n  networkActive = false\n\n  documentId: number\n  document: PaperlessDocument\n  metadata: PaperlessDocumentMetadata\n  suggestions: PaperlessDocumentSuggestions\n\n  title: string\n  titleSubject: Subject<string> = new Subject()\n  previewUrl: string\n  downloadUrl: string\n  downloadOriginalUrl: string\n\n  correspondents: PaperlessCorrespondent[]\n  documentTypes: PaperlessDocumentType[]\n  storagePaths: PaperlessStoragePath[]\n\n  documentForm: FormGroup = new FormGroup({\n    title: new FormControl(''),\n    content: new FormControl(''),\n    created_date: new FormControl(),\n    correspondent: new FormControl(),\n    document_type: new FormControl(),\n    storage_path: new FormControl(),\n    archive_serial_number: new FormControl(),\n    tags: new FormControl([]),\n  })\n\n  previewCurrentPage: number = 1\n  previewNumPages: number = 1\n\n  store: BehaviorSubject<any>\n  isDirty$: Observable<boolean>\n  unsubscribeNotifier: Subject<any> = new Subject()\n  docChangeNotifier: Subject<any> = new Subject()\n\n  requiresPassword: boolean = false\n  password: string\n\n  ogDate: Date\n\n  @ViewChild('nav') nav: NgbNav\n  @ViewChild('pdfPreview') set pdfPreview(element) {\n    // this gets called when compontent added or removed from DOM\n    if (\n      element &&\n      element.nativeElement.offsetParent !== null &&\n      this.nav?.activeId == 4\n    ) {\n      // its visible\n      setTimeout(() => this.nav?.select(1))\n    }\n  }\n\n  constructor(\n    private documentsService: DocumentService,\n    private route: ActivatedRoute,\n    private correspondentService: CorrespondentService,\n    private documentTypeService: DocumentTypeService,\n    private router: Router,\n    private modalService: NgbModal,\n    private openDocumentService: OpenDocumentsService,\n    private documentListViewService: DocumentListViewService,\n    private documentTitlePipe: DocumentTitlePipe,\n    private toastService: ToastService,\n    private settings: SettingsService,\n    private storagePathService: StoragePathService\n  ) {}\n\n  titleKeyUp(event) {\n    this.titleSubject.next(event.target?.value)\n  }\n\n  get useNativePdfViewer(): boolean {\n    return this.settings.get(SETTINGS_KEYS.USE_NATIVE_PDF_VIEWER)\n  }\n\n  getContentType() {\n    return this.metadata?.has_archive_version\n      ? 'application/pdf'\n      : this.metadata?.original_mime_type\n  }\n\n  get isRTL() {\n    if (!this.metadata || !this.metadata.lang) return false\n    else {\n      return ['ar', 'he', 'fe'].includes(this.metadata.lang)\n    }\n  }\n\n  ngOnInit(): void {\n    this.documentForm.valueChanges\n      .pipe(takeUntil(this.unsubscribeNotifier))\n      .subscribe(() => {\n        this.error = null\n        Object.assign(this.document, this.documentForm.value)\n      })\n\n    this.correspondentService\n      .listAll()\n      .pipe(first())\n      .subscribe((result) => (this.correspondents = result.results))\n\n    this.documentTypeService\n      .listAll()\n      .pipe(first())\n      .subscribe((result) => (this.documentTypes = result.results))\n\n    this.storagePathService\n      .listAll()\n      .pipe(first())\n      .subscribe((result) => (this.storagePaths = result.results))\n\n    this.route.paramMap\n      .pipe(\n        takeUntil(this.unsubscribeNotifier),\n        switchMap((paramMap) => {\n          const documentId = +paramMap.get('id')\n          this.docChangeNotifier.next(documentId)\n          return this.documentsService.get(documentId)\n        })\n      )\n      .pipe(\n        switchMap((doc) => {\n          this.documentId = doc.id\n          this.previewUrl = this.documentsService.getPreviewUrl(this.documentId)\n          this.downloadUrl = this.documentsService.getDownloadUrl(\n            this.documentId\n          )\n          this.downloadOriginalUrl = this.documentsService.getDownloadUrl(\n            this.documentId,\n            true\n          )\n          this.suggestions = null\n          if (this.openDocumentService.getOpenDocument(this.documentId)) {\n            this.updateComponent(\n              this.openDocumentService.getOpenDocument(this.documentId)\n            )\n          } else {\n            this.openDocumentService.openDocument(doc)\n            this.updateComponent(doc)\n          }\n\n          this.titleSubject\n            .pipe(\n              debounceTime(1000),\n              distinctUntilChanged(),\n              takeUntil(this.docChangeNotifier),\n              takeUntil(this.unsubscribeNotifier)\n            )\n            .subscribe({\n              next: (titleValue) => {\n                // In the rare case when the field changed just after debounced event was fired.\n                // We dont want to overwrite whats actually in the text field, so just return\n                if (titleValue !== this.titleInput.value) return\n\n                this.title = titleValue\n                this.documentForm.patchValue({ title: titleValue })\n              },\n              complete: () => {\n                // doc changed so we manually check dirty in case title was changed\n                if (\n                  this.store.getValue().title !==\n                  this.documentForm.get('title').value\n                ) {\n                  this.openDocumentService.setDirty(doc, true)\n                }\n              },\n            })\n\n          // Initialize dirtyCheck\n          this.store = new BehaviorSubject({\n            title: doc.title,\n            content: doc.content,\n            created_date: doc.created_date,\n            correspondent: doc.correspondent,\n            document_type: doc.document_type,\n            storage_path: doc.storage_path,\n            archive_serial_number: doc.archive_serial_number,\n            tags: [...doc.tags],\n          })\n\n          this.isDirty$ = dirtyCheck(\n            this.documentForm,\n            this.store.asObservable()\n          )\n\n          return this.isDirty$.pipe(\n            takeUntil(this.unsubscribeNotifier),\n            map((dirty) => ({ doc, dirty }))\n          )\n        })\n      )\n      .subscribe({\n        next: ({ doc, dirty }) => {\n          this.openDocumentService.setDirty(doc, dirty)\n        },\n        error: (error) => {\n          this.router.navigate(['404'])\n        },\n      })\n  }\n\n  ngOnDestroy(): void {\n    this.unsubscribeNotifier.next(this)\n    this.unsubscribeNotifier.complete()\n  }\n\n  updateComponent(doc: PaperlessDocument) {\n    this.document = doc\n    this.requiresPassword = false\n    this.documentsService\n      .getMetadata(doc.id)\n      .pipe(first())\n      .subscribe({\n        next: (result) => {\n          this.metadata = result\n        },\n        error: (error) => {\n          this.metadata = null\n        },\n      })\n    this.documentsService\n      .getSuggestions(doc.id)\n      .pipe(first())\n      .subscribe({\n        next: (result) => {\n          this.suggestions = result\n        },\n        error: (error) => {\n          this.suggestions = null\n        },\n      })\n    this.title = this.documentTitlePipe.transform(doc.title)\n    this.documentForm.patchValue(doc)\n  }\n\n  createDocumentType(newName: string) {\n    var modal = this.modalService.open(DocumentTypeEditDialogComponent, {\n      backdrop: 'static',\n    })\n    modal.componentInstance.dialogMode = 'create'\n    if (newName) modal.componentInstance.object = { name: newName }\n    modal.componentInstance.succeeded\n      .pipe(\n        switchMap((newDocumentType) => {\n          return this.documentTypeService\n            .listAll()\n            .pipe(map((documentTypes) => ({ newDocumentType, documentTypes })))\n        })\n      )\n      .pipe(takeUntil(this.unsubscribeNotifier))\n      .subscribe(({ newDocumentType, documentTypes }) => {\n        this.documentTypes = documentTypes.results\n        this.documentForm.get('document_type').setValue(newDocumentType.id)\n      })\n  }\n\n  createCorrespondent(newName: string) {\n    var modal = this.modalService.open(CorrespondentEditDialogComponent, {\n      backdrop: 'static',\n    })\n    modal.componentInstance.dialogMode = 'create'\n    if (newName) modal.componentInstance.object = { name: newName }\n    modal.componentInstance.succeeded\n      .pipe(\n        switchMap((newCorrespondent) => {\n          return this.correspondentService\n            .listAll()\n            .pipe(\n              map((correspondents) => ({ newCorrespondent, correspondents }))\n            )\n        })\n      )\n      .pipe(takeUntil(this.unsubscribeNotifier))\n      .subscribe(({ newCorrespondent, correspondents }) => {\n        this.correspondents = correspondents.results\n        this.documentForm.get('correspondent').setValue(newCorrespondent.id)\n      })\n  }\n\n  createStoragePath(newName: string) {\n    var modal = this.modalService.open(StoragePathEditDialogComponent, {\n      backdrop: 'static',\n    })\n    modal.componentInstance.dialogMode = 'create'\n    if (newName) modal.componentInstance.object = { name: newName }\n    modal.componentInstance.succeeded\n      .pipe(\n        switchMap((newStoragePath) => {\n          return this.storagePathService\n            .listAll()\n            .pipe(map((storagePaths) => ({ newStoragePath, storagePaths })))\n        })\n      )\n      .pipe(takeUntil(this.unsubscribeNotifier))\n      .subscribe(({ newStoragePath, storagePaths }) => {\n        this.storagePaths = storagePaths.results\n        this.documentForm.get('storage_path').setValue(newStoragePath.id)\n      })\n  }\n\n  discard() {\n    this.documentsService\n      .get(this.documentId)\n      .pipe(first())\n      .subscribe({\n        next: (doc) => {\n          Object.assign(this.document, doc)\n          this.title = doc.title\n          this.documentForm.patchValue(doc)\n          this.openDocumentService.setDirty(doc, false)\n        },\n        error: () => {\n          this.router.navigate(['404'])\n        },\n      })\n  }\n\n  save() {\n    this.networkActive = true\n    this.store.next(this.documentForm.value)\n    this.documentsService\n      .update(this.document)\n      .pipe(first())\n      .subscribe({\n        next: (result) => {\n          this.close()\n          this.networkActive = false\n          this.error = null\n        },\n        error: (error) => {\n          this.networkActive = false\n          this.error = error.error\n        },\n      })\n  }\n\n  saveEditNext() {\n    this.networkActive = true\n    this.store.next(this.documentForm.value)\n    this.documentsService\n      .update(this.document)\n      .pipe(\n        switchMap((updateResult) => {\n          return this.documentListViewService\n            .getNext(this.documentId)\n            .pipe(map((nextDocId) => ({ nextDocId, updateResult })))\n        })\n      )\n      .pipe(\n        switchMap(({ nextDocId, updateResult }) => {\n          if (nextDocId && updateResult)\n            return this.openDocumentService\n              .closeDocument(this.document)\n              .pipe(\n                map((closeResult) => ({ updateResult, nextDocId, closeResult }))\n              )\n        })\n      )\n      .pipe(first())\n      .subscribe({\n        next: ({ updateResult, nextDocId, closeResult }) => {\n          this.error = null\n          this.networkActive = false\n          if (closeResult && updateResult && nextDocId) {\n            this.router.navigate(['documents', nextDocId])\n            this.titleInput?.focus()\n          }\n        },\n        error: (error) => {\n          this.networkActive = false\n          this.error = error.error\n        },\n      })\n  }\n\n  close() {\n    this.openDocumentService\n      .closeDocument(this.document)\n      .pipe(first())\n      .subscribe((closed) => {\n        if (!closed) return\n        if (this.documentListViewService.activeSavedViewId) {\n          this.router.navigate([\n            'view',\n            this.documentListViewService.activeSavedViewId,\n          ])\n        } else {\n          this.router.navigate(['documents'])\n        }\n      })\n  }\n\n  delete() {\n    let modal = this.modalService.open(ConfirmDialogComponent, {\n      backdrop: 'static',\n    })\n    modal.componentInstance.title = $localize`Confirm delete`\n    modal.componentInstance.messageBold = $localize`Do you really want to delete document \"${this.document.title}\"?`\n    modal.componentInstance.message = $localize`The files for this document will be deleted permanently. This operation cannot be undone.`\n    modal.componentInstance.btnClass = 'btn-danger'\n    modal.componentInstance.btnCaption = $localize`Delete document`\n    modal.componentInstance.confirmClicked\n      .pipe(\n        switchMap(() => {\n          modal.componentInstance.buttonsEnabled = false\n          return this.documentsService.delete(this.document)\n        })\n      )\n      .pipe(takeUntil(this.unsubscribeNotifier))\n      .subscribe(\n        () => {\n          modal.close()\n          this.close()\n        },\n        (error) => {\n          this.toastService.showError(\n            $localize`Error deleting document: ${JSON.stringify(error)}`\n          )\n          modal.componentInstance.buttonsEnabled = true\n        }\n      )\n  }\n\n  moreLike() {\n    this.documentListViewService.quickFilter([\n      {\n        rule_type: FILTER_FULLTEXT_MORELIKE,\n        value: this.documentId.toString(),\n      },\n    ])\n  }\n\n  redoOcr() {\n    let modal = this.modalService.open(ConfirmDialogComponent, {\n      backdrop: 'static',\n    })\n    modal.componentInstance.title = $localize`Redo OCR confirm`\n    modal.componentInstance.messageBold = $localize`This operation will permanently redo OCR for this document.`\n    modal.componentInstance.message = $localize`This operation cannot be undone.`\n    modal.componentInstance.btnClass = 'btn-danger'\n    modal.componentInstance.btnCaption = $localize`Proceed`\n    modal.componentInstance.confirmClicked.subscribe(() => {\n      modal.componentInstance.buttonsEnabled = false\n      this.documentsService\n        .bulkEdit([this.document.id], 'redo_ocr', {})\n        .subscribe({\n          next: () => {\n            this.toastService.showInfo(\n              $localize`Redo OCR operation will begin in the background. Close and re-open or reload this document after the operation has completed to see new content.`\n            )\n            if (modal) {\n              modal.close()\n            }\n          },\n          error: (error) => {\n            if (modal) {\n              modal.componentInstance.buttonsEnabled = true\n            }\n            this.toastService.showError(\n              $localize`Error executing operation: ${JSON.stringify(\n                error.error\n              )}`\n            )\n          },\n        })\n    })\n  }\n\n  hasNext() {\n    return this.documentListViewService.hasNext(this.documentId)\n  }\n\n  hasPrevious() {\n    return this.documentListViewService.hasPrevious(this.documentId)\n  }\n\n  nextDoc() {\n    this.documentListViewService\n      .getNext(this.document.id)\n      .subscribe((nextDocId: number) => {\n        this.router.navigate(['documents', nextDocId])\n      })\n  }\n\n  previousDoc() {\n    this.documentListViewService\n      .getPrevious(this.document.id)\n      .subscribe((prevDocId: number) => {\n        this.router.navigate(['documents', prevDocId])\n      })\n  }\n\n  pdfPreviewLoaded(pdf: PDFDocumentProxy) {\n    this.previewNumPages = pdf.numPages\n    if (this.password) this.requiresPassword = false\n  }\n\n  onError(event) {\n    if (event.name == 'PasswordException') {\n      this.requiresPassword = true\n    }\n  }\n\n  onPasswordKeyUp(event: KeyboardEvent) {\n    if ('Enter' == event.key) {\n      this.password = (event.target as HTMLInputElement).value\n    }\n  }\n\n  get commentsEnabled(): boolean {\n    return this.settings.get(SETTINGS_KEYS.COMMENTS_ENABLED)\n  }\n}\n","<app-page-header [(title)]=\"title\">\n    <div class=\"input-group input-group-sm me-5 d-none d-md-flex\" *ngIf=\"getContentType() === 'application/pdf' && !useNativePdfViewer\">\n      <div class=\"input-group-text\" i18n>Page</div>\n      <input class=\"form-control flex-grow-0 w-auto\" type=\"number\" min=\"1\" [max]=\"previewNumPages\" [(ngModel)]=\"previewCurrentPage\" />\n      <div class=\"input-group-text\" i18n>of {{previewNumPages}}</div>\n    </div>\n\n    <button type=\"button\" class=\"btn btn-sm btn-outline-danger me-2 ms-auto\" (click)=\"delete()\">\n        <svg class=\"buttonicon\" fill=\"currentColor\">\n            <use xlink:href=\"assets/bootstrap-icons.svg#trash\" />\n        </svg><span class=\"d-none d-lg-inline ps-1\" i18n>Delete</span>\n    </button>\n\n    <div class=\"btn-group me-2\">\n\n        <a [href]=\"downloadUrl\" class=\"btn btn-sm btn-outline-primary\">\n            <svg class=\"buttonicon\" fill=\"currentColor\">\n                <use xlink:href=\"assets/bootstrap-icons.svg#download\" />\n            </svg><span class=\"d-none d-lg-inline ps-1\" i18n>Download</span>\n        </a>\n\n        <div class=\"btn-group\" ngbDropdown role=\"group\" *ngIf=\"metadata?.has_archive_version\">\n            <button class=\"btn btn-sm btn-outline-primary dropdown-toggle-split\" ngbDropdownToggle></button>\n            <div class=\"dropdown-menu shadow\" ngbDropdownMenu>\n                <a ngbDropdownItem [href]=\"downloadOriginalUrl\" i18n>Download original</a>\n            </div>\n        </div>\n\n    </div>\n\n    <button type=\"button\" class=\"btn btn-sm btn-outline-primary me-2\" (click)=\"redoOcr()\">\n        <svg class=\"buttonicon\" fill=\"currentColor\">\n            <use xlink:href=\"assets/bootstrap-icons.svg#arrow-counterclockwise\" />\n        </svg><span class=\"d-none d-lg-inline ps-1\" i18n>Redo OCR</span>\n    </button>\n\n    <button type=\"button\" class=\"btn btn-sm btn-outline-primary me-2\" (click)=\"moreLike()\">\n        <svg class=\"buttonicon\" fill=\"currentColor\">\n            <use xlink:href=\"assets/bootstrap-icons.svg#diagram-3\" />\n        </svg><span class=\"d-none d-lg-inline ps-1\" i18n>More like this</span>\n    </button>\n\n    <button type=\"button\" class=\"btn btn-sm btn-outline-primary me-2\" i18n-title title=\"Close\" (click)=\"close()\">\n        <svg class=\"buttonicon\" fill=\"currentColor\">\n            <use xlink:href=\"assets/bootstrap-icons.svg#x\" />\n        </svg>\n    </button>\n\n    <div class=\"button-group\">\n        <button type=\"button\" class=\"btn btn-sm btn-outline-primary me-2\" i18n-title title=\"Previous\" (click)=\"previousDoc()\" [disabled]=\"!hasPrevious()\">\n            <svg class=\"buttonicon\" fill=\"currentColor\">\n                <use xlink:href=\"assets/bootstrap-icons.svg#arrow-left\" />\n            </svg>\n        </button>\n        <button type=\"button\" class=\"btn btn-sm btn-outline-primary\"  i18n-title title=\"Next\" (click)=\"nextDoc()\" [disabled]=\"!hasNext()\">\n            <svg class=\"buttonicon\" fill=\"currentColor\">\n                <use xlink:href=\"assets/bootstrap-icons.svg#arrow-right\" />\n            </svg>\n        </button>\n    </div>\n\n</app-page-header>\n\n\n<div class=\"row\">\n    <div class=\"col-md-6 col-xl-4 mb-4\">\n\n        <form [formGroup]='documentForm' (ngSubmit)=\"save()\">\n\n            <ul ngbNav #nav=\"ngbNav\" class=\"nav-tabs\">\n                <li [ngbNavItem]=\"1\">\n                    <a ngbNavLink i18n>Details</a>\n                    <ng-template ngbNavContent>\n\n                        <app-input-text #inputTitle i18n-title title=\"Title\" formControlName=\"title\" (keyup)=\"titleKeyUp($event)\" [error]=\"error?.title\"></app-input-text>\n                        <app-input-number i18n-title title=\"Archive serial number\" [error]=\"error?.archive_serial_number\" formControlName='archive_serial_number'></app-input-number>\n                        <app-input-date i18n-title title=\"Date created\" formControlName=\"created_date\" [suggestions]=\"suggestions?.dates\"\n                            [error]=\"error?.created_date\"></app-input-date>\n                        <app-input-select [items]=\"correspondents\" i18n-title title=\"Correspondent\" formControlName=\"correspondent\" [allowNull]=\"true\"\n                            (createNew)=\"createCorrespondent($event)\" [suggestions]=\"suggestions?.correspondents\"></app-input-select>\n                        <app-input-select [items]=\"documentTypes\" i18n-title title=\"Document type\" formControlName=\"document_type\" [allowNull]=\"true\"\n                            (createNew)=\"createDocumentType($event)\" [suggestions]=\"suggestions?.document_types\"></app-input-select>\n                        <app-input-select [items]=\"storagePaths\" i18n-title title=\"Storage path\" formControlName=\"storage_path\" [allowNull]=\"true\"\n                            (createNew)=\"createStoragePath($event)\" [suggestions]=\"suggestions?.storage_paths\" i18n-placeholder placeholder=\"Default\"></app-input-select>\n                        <app-input-tags formControlName=\"tags\" [suggestions]=\"suggestions?.tags\"></app-input-tags>\n\n                    </ng-template>\n                </li>\n\n                <li [ngbNavItem]=\"2\">\n                    <a ngbNavLink i18n>Content</a>\n                    <ng-template ngbNavContent>\n                        <div class=\"mb-3\">\n                            <textarea class=\"form-control\" id=\"content\" rows=\"20\" formControlName='content' [class.rtl]=\"isRTL\"></textarea>\n                        </div>\n                    </ng-template>\n                </li>\n\n                <li [ngbNavItem]=\"3\">\n                    <a ngbNavLink i18n>Metadata</a>\n                    <ng-template ngbNavContent>\n\n                        <table class=\"table table-borderless\">\n                            <tbody>\n                                <tr>\n                                    <td i18n>Date modified</td>\n                                    <td>{{document.modified | customDate}}</td>\n                                </tr>\n                                <tr>\n                                    <td i18n>Date added</td>\n                                    <td>{{document.added | customDate}}</td>\n                                </tr>\n                                <tr>\n                                    <td i18n>Media filename</td>\n                                    <td>{{metadata?.media_filename}}</td>\n                                </tr>\n                                <tr>\n                                    <td i18n>Original filename</td>\n                                    <td>{{metadata?.original_filename}}</td>\n                                </tr>\n                                <tr>\n                                    <td i18n>Original MD5 checksum</td>\n                                    <td>{{metadata?.original_checksum}}</td>\n                                </tr>\n                                <tr>\n                                    <td i18n>Original file size</td>\n                                    <td>{{metadata?.original_size | fileSize}}</td>\n                                </tr>\n                                <tr>\n                                    <td i18n>Original mime type</td>\n                                    <td>{{metadata?.original_mime_type}}</td>\n                                </tr>\n                                <tr *ngIf=\"metadata?.has_archive_version\">\n                                    <td i18n>Archive MD5 checksum</td>\n                                    <td>{{metadata?.archive_checksum}}</td>\n                                </tr>\n                                <tr *ngIf=\"metadata?.has_archive_version\">\n                                    <td i18n>Archive file size</td>\n                                    <td>{{metadata?.archive_size | fileSize}}</td>\n                                </tr>\n                            </tbody>\n                        </table>\n\n                        <app-metadata-collapse i18n-title title=\"Original document metadata\" [metadata]=\"metadata.original_metadata\" *ngIf=\"metadata?.original_metadata?.length > 0\"></app-metadata-collapse>\n                        <app-metadata-collapse i18n-title title=\"Archived document metadata\" [metadata]=\"metadata.archive_metadata\" *ngIf=\"metadata?.archive_metadata?.length > 0\"></app-metadata-collapse>\n\n                    </ng-template>\n                </li>\n\n                <li [ngbNavItem]=\"4\" class=\"d-md-none\">\n                    <a ngbNavLink>Preview</a>\n                    <ng-template ngbNavContent *ngIf=\"!pdfPreview.offsetParent\">\n                        <div class=\"position-relative\">\n                            <ng-container *ngIf=\"getContentType() === 'application/pdf'\">\n                                <div class=\"preview-sticky pdf-viewer-container\" *ngIf=\"!useNativePdfViewer ; else nativePdfViewer\">\n                                    <pdf-viewer [src]=\"{ url: previewUrl, password: password }\" [original-size]=\"false\" [show-borders]=\"true\" [show-all]=\"true\" [(page)]=\"previewCurrentPage\" [render-text-mode]=\"2\" (error)=\"onError($event)\" (after-load-complete)=\"pdfPreviewLoaded($event)\"></pdf-viewer>\n                                </div>\n                                <ng-template #nativePdfViewer>\n                                    <object [data]=\"previewUrl | safeUrl\" class=\"preview-sticky\" width=\"100%\"></object>\n                                </ng-template>\n                            </ng-container>\n                            <ng-container *ngIf=\"getContentType() === 'text/plain'\">\n                                <object [data]=\"previewUrl | safeUrl\" type=\"text/plain\" class=\"preview-sticky bg-white\" width=\"100%\"></object>\n                            </ng-container>\n                            <div *ngIf=\"requiresPassword\" class=\"password-prompt\">\n                                <form>\n                                    <input autocomplete=\"\" class=\"form-control\" i18n-placeholder placeholder=\"Enter Password\" type=\"password\" (keyup)=\"onPasswordKeyUp($event)\" />\n                                </form>\n                            </div>\n                        </div>\n                    </ng-template>\n                </li>\n                <li [ngbNavItem]=\"5\" *ngIf=\"commentsEnabled\">\n                    <a ngbNavLink i18n>Comments</a>\n                    <ng-template ngbNavContent>\n                        <app-document-comments [documentId]=\"documentId\"></app-document-comments>\n                    </ng-template>\n                </li>\n            </ul>\n\n            <div [ngbNavOutlet]=\"nav\" class=\"mt-2\"></div>\n\n            <button type=\"button\" class=\"btn btn-outline-secondary\" (click)=\"discard()\" i18n [disabled]=\"networkActive || (isDirty$ | async) !== true\">Discard</button>&nbsp;\n            <button type=\"button\" class=\"btn btn-outline-primary\" (click)=\"saveEditNext()\" *ngIf=\"hasNext()\" i18n [disabled]=\"networkActive || (isDirty$ | async) !== true || error\">Save & next</button>&nbsp;\n            <button type=\"submit\" class=\"btn btn-primary\" i18n [disabled]=\"networkActive || (isDirty$ | async) !== true || error\">Save</button>&nbsp;\n        </form>\n    </div>\n\n    <div class=\"col-md-6 col-xl-8 mb-3 d-none d-md-block position-relative\" #pdfPreview>\n        <ng-container *ngIf=\"getContentType() === 'application/pdf'\">\n            <div class=\"preview-sticky pdf-viewer-container\" *ngIf=\"!useNativePdfViewer ; else nativePdfViewer\">\n                <pdf-viewer [src]=\"{ url: previewUrl, password: password }\" [original-size]=\"false\" [show-borders]=\"true\" [show-all]=\"true\" [(page)]=\"previewCurrentPage\" [render-text-mode]=\"2\" (error)=\"onError($event)\" (after-load-complete)=\"pdfPreviewLoaded($event)\"></pdf-viewer>\n            </div>\n            <ng-template #nativePdfViewer>\n                <object [data]=\"previewUrl | safeUrl\" class=\"preview-sticky\" width=\"100%\"></object>\n            </ng-template>\n        </ng-container>\n        <ng-container *ngIf=\"getContentType() === 'text/plain'\">\n            <object [data]=\"previewUrl | safeUrl\" type=\"text/plain\" class=\"preview-sticky bg-white\" width=\"100%\"></object>\n        </ng-container>\n        <div *ngIf=\"requiresPassword\" class=\"password-prompt\">\n            <form>\n                <input autocomplete=\"\" class=\"form-control\" i18n-placeholder placeholder=\"Enter Password\" type=\"password\" (keyup)=\"onPasswordKeyUp($event)\" />\n            </form>\n        </div>\n    </div>\n\n</div>\n","<h6>\n  <button type=\"button\" class=\"btn btn-outline-secondary btn-sm me-2\"\n      (click)=\"expand = !expand\">\n      <svg class=\"buttonicon\" fill=\"currentColor\" *ngIf=\"!expand\">\n          <use xlink:href=\"assets/bootstrap-icons.svg#caret-down\" />\n      </svg>\n      <svg class=\"buttonicon\" fill=\"currentColor\" *ngIf=\"expand\">\n          <use xlink:href=\"assets/bootstrap-icons.svg#caret-up\" />\n      </svg>\n  </button>\n  {{title}}\n</h6>\n\n<div #collapse=\"ngbCollapse\" [(ngbCollapse)]=\"!expand\">\n  <table class=\"table table-borderless\">\n      <tbody>\n          <tr *ngFor=\"let m of metadata\">\n              <td>{{m.prefix}}:{{m.key}}</td>\n              <td class=\"metadata-column\">{{m.value}}</td>\n          </tr>\n      </tbody>\n  </table>\n</div>\n","import { Component, Input } from '@angular/core'\n\n@Component({\n  selector: 'app-metadata-collapse',\n  templateUrl: './metadata-collapse.component.html',\n  styleUrls: ['./metadata-collapse.component.scss'],\n})\nexport class MetadataCollapseComponent {\n  constructor() {}\n\n  expand = false\n\n  @Input()\n  metadata\n\n  @Input()\n  title = $localize`Metadata`\n}\n","import { Component, OnDestroy, OnInit } from '@angular/core'\nimport { PaperlessTag } from 'src/app/data/paperless-tag'\nimport { PaperlessCorrespondent } from 'src/app/data/paperless-correspondent'\nimport { PaperlessDocumentType } from 'src/app/data/paperless-document-type'\nimport { TagService } from 'src/app/services/rest/tag.service'\nimport { CorrespondentService } from 'src/app/services/rest/correspondent.service'\nimport { DocumentTypeService } from 'src/app/services/rest/document-type.service'\nimport { DocumentListViewService } from 'src/app/services/document-list-view.service'\nimport { NgbModal } from '@ng-bootstrap/ng-bootstrap'\nimport {\n  DocumentService,\n  SelectionDataItem,\n} from 'src/app/services/rest/document.service'\nimport { OpenDocumentsService } from 'src/app/services/open-documents.service'\nimport { ConfirmDialogComponent } from 'src/app/components/common/confirm-dialog/confirm-dialog.component'\nimport {\n  ChangedItems,\n  FilterableDropdownSelectionModel,\n} from '../../common/filterable-dropdown/filterable-dropdown.component'\nimport { ToggleableItemState } from '../../common/filterable-dropdown/toggleable-dropdown-button/toggleable-dropdown-button.component'\nimport { MatchingModel } from 'src/app/data/matching-model'\nimport { SettingsService } from 'src/app/services/settings.service'\nimport { ToastService } from 'src/app/services/toast.service'\nimport { saveAs } from 'file-saver'\nimport { StoragePathService } from 'src/app/services/rest/storage-path.service'\nimport { PaperlessStoragePath } from 'src/app/data/paperless-storage-path'\nimport { SETTINGS_KEYS } from 'src/app/data/paperless-uisettings'\nimport { FormControl, FormGroup } from '@angular/forms'\nimport { first, Subject, takeUntil } from 'rxjs'\n\n@Component({\n  selector: 'app-bulk-editor',\n  templateUrl: './bulk-editor.component.html',\n  styleUrls: ['./bulk-editor.component.scss'],\n})\nexport class BulkEditorComponent implements OnInit, OnDestroy {\n  tags: PaperlessTag[]\n  correspondents: PaperlessCorrespondent[]\n  documentTypes: PaperlessDocumentType[]\n  storagePaths: PaperlessStoragePath[]\n\n  tagSelectionModel = new FilterableDropdownSelectionModel()\n  correspondentSelectionModel = new FilterableDropdownSelectionModel()\n  documentTypeSelectionModel = new FilterableDropdownSelectionModel()\n  storagePathsSelectionModel = new FilterableDropdownSelectionModel()\n  awaitingDownload: boolean\n\n  unsubscribeNotifier: Subject<any> = new Subject()\n\n  downloadForm = new FormGroup({\n    downloadFileTypeArchive: new FormControl(true),\n    downloadFileTypeOriginals: new FormControl(false),\n    downloadUseFormatting: new FormControl(false),\n  })\n\n  constructor(\n    private documentTypeService: DocumentTypeService,\n    private tagService: TagService,\n    private correspondentService: CorrespondentService,\n    public list: DocumentListViewService,\n    private documentService: DocumentService,\n    private modalService: NgbModal,\n    private openDocumentService: OpenDocumentsService,\n    private settings: SettingsService,\n    private toastService: ToastService,\n    private storagePathService: StoragePathService\n  ) {}\n\n  applyOnClose: boolean = this.settings.get(\n    SETTINGS_KEYS.BULK_EDIT_APPLY_ON_CLOSE\n  )\n  showConfirmationDialogs: boolean = this.settings.get(\n    SETTINGS_KEYS.BULK_EDIT_CONFIRMATION_DIALOGS\n  )\n\n  ngOnInit() {\n    this.tagService\n      .listAll()\n      .pipe(first())\n      .subscribe((result) => (this.tags = result.results))\n    this.correspondentService\n      .listAll()\n      .pipe(first())\n      .subscribe((result) => (this.correspondents = result.results))\n    this.documentTypeService\n      .listAll()\n      .pipe(first())\n      .subscribe((result) => (this.documentTypes = result.results))\n    this.storagePathService\n      .listAll()\n      .pipe(first())\n      .subscribe((result) => (this.storagePaths = result.results))\n\n    this.downloadForm\n      .get('downloadFileTypeArchive')\n      .valueChanges.pipe(takeUntil(this.unsubscribeNotifier))\n      .subscribe((newValue) => {\n        if (!newValue) {\n          this.downloadForm\n            .get('downloadFileTypeOriginals')\n            .patchValue(true, { emitEvent: false })\n        }\n      })\n    this.downloadForm\n      .get('downloadFileTypeOriginals')\n      .valueChanges.pipe(takeUntil(this.unsubscribeNotifier))\n      .subscribe((newValue) => {\n        if (!newValue) {\n          this.downloadForm\n            .get('downloadFileTypeArchive')\n            .patchValue(true, { emitEvent: false })\n        }\n      })\n  }\n\n  ngOnDestroy(): void {\n    this.unsubscribeNotifier.next(this)\n    this.unsubscribeNotifier.complete()\n  }\n\n  private executeBulkOperation(modal, method: string, args) {\n    if (modal) {\n      modal.componentInstance.buttonsEnabled = false\n    }\n    this.documentService\n      .bulkEdit(Array.from(this.list.selected), method, args)\n      .pipe(first())\n      .subscribe({\n        next: () => {\n          this.list.reload()\n          this.list.reduceSelectionToFilter()\n          this.list.selected.forEach((id) => {\n            this.openDocumentService.refreshDocument(id)\n          })\n          if (modal) {\n            modal.close()\n          }\n        },\n        error: (error) => {\n          if (modal) {\n            modal.componentInstance.buttonsEnabled = true\n          }\n          this.toastService.showError(\n            $localize`Error executing bulk operation: ${JSON.stringify(\n              error.error\n            )}`\n          )\n        },\n      })\n  }\n\n  private applySelectionData(\n    items: SelectionDataItem[],\n    selectionModel: FilterableDropdownSelectionModel\n  ) {\n    let selectionData = new Map<number, ToggleableItemState>()\n    items.forEach((i) => {\n      if (i.document_count == this.list.selected.size) {\n        selectionData.set(i.id, ToggleableItemState.Selected)\n      } else if (i.document_count > 0) {\n        selectionData.set(i.id, ToggleableItemState.PartiallySelected)\n      }\n    })\n    selectionModel.init(selectionData)\n  }\n\n  openTagsDropdown() {\n    this.documentService\n      .getSelectionData(Array.from(this.list.selected))\n      .pipe(first())\n      .subscribe((s) => {\n        this.applySelectionData(s.selected_tags, this.tagSelectionModel)\n      })\n  }\n\n  openDocumentTypeDropdown() {\n    this.documentService\n      .getSelectionData(Array.from(this.list.selected))\n      .pipe(first())\n      .subscribe((s) => {\n        this.applySelectionData(\n          s.selected_document_types,\n          this.documentTypeSelectionModel\n        )\n      })\n  }\n\n  openCorrespondentDropdown() {\n    this.documentService\n      .getSelectionData(Array.from(this.list.selected))\n      .pipe(first())\n      .subscribe((s) => {\n        this.applySelectionData(\n          s.selected_correspondents,\n          this.correspondentSelectionModel\n        )\n      })\n  }\n\n  openStoragePathDropdown() {\n    this.documentService\n      .getSelectionData(Array.from(this.list.selected))\n      .pipe(first())\n      .subscribe((s) => {\n        this.applySelectionData(\n          s.selected_storage_paths,\n          this.storagePathsSelectionModel\n        )\n      })\n  }\n\n  private _localizeList(items: MatchingModel[]) {\n    if (items.length == 0) {\n      return ''\n    } else if (items.length == 1) {\n      return $localize`\"${items[0].name}\"`\n    } else if (items.length == 2) {\n      return $localize`:This is for messages like 'modify \"tag1\" and \"tag2\"':\"${items[0].name}\" and \"${items[1].name}\"`\n    } else {\n      let list = items\n        .slice(0, items.length - 1)\n        .map((i) => $localize`\"${i.name}\"`)\n        .join(\n          $localize`:this is used to separate enumerations and should probably be a comma and a whitespace in most languages:, `\n        )\n      return $localize`:this is for messages like 'modify \"tag1\", \"tag2\" and \"tag3\"':${list} and \"${\n        items[items.length - 1].name\n      }\"`\n    }\n  }\n\n  setTags(changedTags: ChangedItems) {\n    if (\n      changedTags.itemsToAdd.length == 0 &&\n      changedTags.itemsToRemove.length == 0\n    )\n      return\n\n    if (this.showConfirmationDialogs) {\n      let modal = this.modalService.open(ConfirmDialogComponent, {\n        backdrop: 'static',\n      })\n      modal.componentInstance.title = $localize`Confirm tags assignment`\n      if (\n        changedTags.itemsToAdd.length == 1 &&\n        changedTags.itemsToRemove.length == 0\n      ) {\n        let tag = changedTags.itemsToAdd[0]\n        modal.componentInstance.message = $localize`This operation will add the tag \"${tag.name}\" to ${this.list.selected.size} selected document(s).`\n      } else if (\n        changedTags.itemsToAdd.length > 1 &&\n        changedTags.itemsToRemove.length == 0\n      ) {\n        modal.componentInstance.message = $localize`This operation will add the tags ${this._localizeList(\n          changedTags.itemsToAdd\n        )} to ${this.list.selected.size} selected document(s).`\n      } else if (\n        changedTags.itemsToAdd.length == 0 &&\n        changedTags.itemsToRemove.length == 1\n      ) {\n        let tag = changedTags.itemsToRemove[0]\n        modal.componentInstance.message = $localize`This operation will remove the tag \"${tag.name}\" from ${this.list.selected.size} selected document(s).`\n      } else if (\n        changedTags.itemsToAdd.length == 0 &&\n        changedTags.itemsToRemove.length > 1\n      ) {\n        modal.componentInstance.message = $localize`This operation will remove the tags ${this._localizeList(\n          changedTags.itemsToRemove\n        )} from ${this.list.selected.size} selected document(s).`\n      } else {\n        modal.componentInstance.message = $localize`This operation will add the tags ${this._localizeList(\n          changedTags.itemsToAdd\n        )} and remove the tags ${this._localizeList(\n          changedTags.itemsToRemove\n        )} on ${this.list.selected.size} selected document(s).`\n      }\n\n      modal.componentInstance.btnClass = 'btn-warning'\n      modal.componentInstance.btnCaption = $localize`Confirm`\n      modal.componentInstance.confirmClicked\n        .pipe(takeUntil(this.unsubscribeNotifier))\n        .subscribe(() => {\n          this.executeBulkOperation(modal, 'modify_tags', {\n            add_tags: changedTags.itemsToAdd.map((t) => t.id),\n            remove_tags: changedTags.itemsToRemove.map((t) => t.id),\n          })\n        })\n    } else {\n      this.executeBulkOperation(null, 'modify_tags', {\n        add_tags: changedTags.itemsToAdd.map((t) => t.id),\n        remove_tags: changedTags.itemsToRemove.map((t) => t.id),\n      })\n    }\n  }\n\n  setCorrespondents(changedCorrespondents: ChangedItems) {\n    if (\n      changedCorrespondents.itemsToAdd.length == 0 &&\n      changedCorrespondents.itemsToRemove.length == 0\n    )\n      return\n\n    let correspondent =\n      changedCorrespondents.itemsToAdd.length > 0\n        ? changedCorrespondents.itemsToAdd[0]\n        : null\n\n    if (this.showConfirmationDialogs) {\n      let modal = this.modalService.open(ConfirmDialogComponent, {\n        backdrop: 'static',\n      })\n      modal.componentInstance.title = $localize`Confirm correspondent assignment`\n      if (correspondent) {\n        modal.componentInstance.message = $localize`This operation will assign the correspondent \"${correspondent.name}\" to ${this.list.selected.size} selected document(s).`\n      } else {\n        modal.componentInstance.message = $localize`This operation will remove the correspondent from ${this.list.selected.size} selected document(s).`\n      }\n      modal.componentInstance.btnClass = 'btn-warning'\n      modal.componentInstance.btnCaption = $localize`Confirm`\n      modal.componentInstance.confirmClicked\n        .pipe(takeUntil(this.unsubscribeNotifier))\n        .subscribe(() => {\n          this.executeBulkOperation(modal, 'set_correspondent', {\n            correspondent: correspondent ? correspondent.id : null,\n          })\n        })\n    } else {\n      this.executeBulkOperation(null, 'set_correspondent', {\n        correspondent: correspondent ? correspondent.id : null,\n      })\n    }\n  }\n\n  setDocumentTypes(changedDocumentTypes: ChangedItems) {\n    if (\n      changedDocumentTypes.itemsToAdd.length == 0 &&\n      changedDocumentTypes.itemsToRemove.length == 0\n    )\n      return\n\n    let documentType =\n      changedDocumentTypes.itemsToAdd.length > 0\n        ? changedDocumentTypes.itemsToAdd[0]\n        : null\n\n    if (this.showConfirmationDialogs) {\n      let modal = this.modalService.open(ConfirmDialogComponent, {\n        backdrop: 'static',\n      })\n      modal.componentInstance.title = $localize`Confirm document type assignment`\n      if (documentType) {\n        modal.componentInstance.message = $localize`This operation will assign the document type \"${documentType.name}\" to ${this.list.selected.size} selected document(s).`\n      } else {\n        modal.componentInstance.message = $localize`This operation will remove the document type from ${this.list.selected.size} selected document(s).`\n      }\n      modal.componentInstance.btnClass = 'btn-warning'\n      modal.componentInstance.btnCaption = $localize`Confirm`\n      modal.componentInstance.confirmClicked\n        .pipe(takeUntil(this.unsubscribeNotifier))\n        .subscribe(() => {\n          this.executeBulkOperation(modal, 'set_document_type', {\n            document_type: documentType ? documentType.id : null,\n          })\n        })\n    } else {\n      this.executeBulkOperation(null, 'set_document_type', {\n        document_type: documentType ? documentType.id : null,\n      })\n    }\n  }\n\n  setStoragePaths(changedDocumentPaths: ChangedItems) {\n    if (\n      changedDocumentPaths.itemsToAdd.length == 0 &&\n      changedDocumentPaths.itemsToRemove.length == 0\n    )\n      return\n\n    let storagePath =\n      changedDocumentPaths.itemsToAdd.length > 0\n        ? changedDocumentPaths.itemsToAdd[0]\n        : null\n\n    if (this.showConfirmationDialogs) {\n      let modal = this.modalService.open(ConfirmDialogComponent, {\n        backdrop: 'static',\n      })\n      modal.componentInstance.title = $localize`Confirm storage path assignment`\n      if (storagePath) {\n        modal.componentInstance.message = $localize`This operation will assign the storage path \"${storagePath.name}\" to ${this.list.selected.size} selected document(s).`\n      } else {\n        modal.componentInstance.message = $localize`This operation will remove the storage path from ${this.list.selected.size} selected document(s).`\n      }\n      modal.componentInstance.btnClass = 'btn-warning'\n      modal.componentInstance.btnCaption = $localize`Confirm`\n      modal.componentInstance.confirmClicked\n        .pipe(takeUntil(this.unsubscribeNotifier))\n        .subscribe(() => {\n          this.executeBulkOperation(modal, 'set_storage_path', {\n            storage_path: storagePath ? storagePath.id : null,\n          })\n        })\n    } else {\n      this.executeBulkOperation(null, 'set_storage_path', {\n        storage_path: storagePath ? storagePath.id : null,\n      })\n    }\n  }\n\n  applyDelete() {\n    let modal = this.modalService.open(ConfirmDialogComponent, {\n      backdrop: 'static',\n    })\n    modal.componentInstance.delayConfirm(5)\n    modal.componentInstance.title = $localize`Delete confirm`\n    modal.componentInstance.messageBold = $localize`This operation will permanently delete ${this.list.selected.size} selected document(s).`\n    modal.componentInstance.message = $localize`This operation cannot be undone.`\n    modal.componentInstance.btnClass = 'btn-danger'\n    modal.componentInstance.btnCaption = $localize`Delete document(s)`\n    modal.componentInstance.confirmClicked\n      .pipe(takeUntil(this.unsubscribeNotifier))\n      .subscribe(() => {\n        modal.componentInstance.buttonsEnabled = false\n        this.executeBulkOperation(modal, 'delete', {})\n      })\n  }\n\n  downloadSelected() {\n    this.awaitingDownload = true\n    let downloadFileType: string =\n      this.downloadForm.get('downloadFileTypeArchive').value &&\n      this.downloadForm.get('downloadFileTypeOriginals').value\n        ? 'both'\n        : this.downloadForm.get('downloadFileTypeArchive').value\n        ? 'archive'\n        : 'originals'\n    this.documentService\n      .bulkDownload(\n        Array.from(this.list.selected),\n        downloadFileType,\n        this.downloadForm.get('downloadUseFormatting').value\n      )\n      .pipe(first())\n      .subscribe((result: any) => {\n        saveAs(result, 'documents.zip')\n        this.awaitingDownload = false\n      })\n  }\n\n  redoOcrSelected() {\n    let modal = this.modalService.open(ConfirmDialogComponent, {\n      backdrop: 'static',\n    })\n    modal.componentInstance.title = $localize`Redo OCR confirm`\n    modal.componentInstance.messageBold = $localize`This operation will permanently redo OCR for ${this.list.selected.size} selected document(s).`\n    modal.componentInstance.message = $localize`This operation cannot be undone.`\n    modal.componentInstance.btnClass = 'btn-danger'\n    modal.componentInstance.btnCaption = $localize`Proceed`\n    modal.componentInstance.confirmClicked\n      .pipe(takeUntil(this.unsubscribeNotifier))\n      .subscribe(() => {\n        modal.componentInstance.buttonsEnabled = false\n        this.executeBulkOperation(modal, 'redo_ocr', {})\n      })\n  }\n}\n","<div class=\"row\">\n  <div class=\"col-auto mb-2 mb-xl-0\" role=\"group\" aria-label=\"Select\">\n    <button class=\"btn btn-sm btn-outline-danger\" (click)=\"list.selectNone()\">\n      <svg width=\"1em\" height=\"1em\" viewBox=\"0 0 16 16\" fill=\"currentColor\">\n        <use xlink:href=\"assets/bootstrap-icons.svg#slash-circle\" />\n      </svg>&nbsp;<ng-container i18n>Cancel</ng-container>\n    </button>\n  </div>\n  <div class=\"col-auto mb-2 mb-xl-0 ms-auto ms-md-0\" role=\"group\" aria-label=\"Select\">\n    <label class=\"me-2 mb-0\" i18n>Select:</label>\n    <div class=\"btn-group\">\n      <button class=\"btn btn-sm btn-outline-primary\" (click)=\"list.selectPage()\">\n        <svg width=\"1em\" height=\"1em\" viewBox=\"0 0 16 16\" fill=\"currentColor\">\n          <use xlink:href=\"assets/bootstrap-icons.svg#file-earmark-check\" />\n        </svg>&nbsp;<ng-container i18n>Page</ng-container>\n      </button>\n      <button class=\"btn btn-sm btn-outline-primary\" (click)=\"list.selectAll()\">\n        <svg width=\"1em\" height=\"1em\" viewBox=\"0 0 16 16\" fill=\"currentColor\">\n          <use xlink:href=\"assets/bootstrap-icons.svg#check-all\" />\n        </svg>&nbsp;<ng-container i18n>All</ng-container>\n      </button>\n    </div>\n  </div>\n  <div class=\"w-100 d-xl-none\"></div>\n  <div class=\"col-auto mb-2 mb-xl-0\">\n    <div class=\"d-flex\">\n      <label class=\"ms-auto mt-1 mb-0 me-2\" i18n>Edit:</label>\n      <app-filterable-dropdown class=\"me-2 me-md-3\" title=\"Tags\" icon=\"tag-fill\" i18n-title\n        filterPlaceholder=\"Filter tags\" i18n-filterPlaceholder\n        [items]=\"tags\"\n        [editing]=\"true\"\n        [multiple]=\"true\"\n        [applyOnClose]=\"applyOnClose\"\n        (opened)=\"openTagsDropdown()\"\n        [(selectionModel)]=\"tagSelectionModel\"\n        (apply)=\"setTags($event)\">\n      </app-filterable-dropdown>\n      <app-filterable-dropdown class=\"me-2 me-md-3\" title=\"Correspondent\" icon=\"person-fill\" i18n-title\n        filterPlaceholder=\"Filter correspondents\" i18n-filterPlaceholder\n        [items]=\"correspondents\"\n        [editing]=\"true\"\n        [applyOnClose]=\"applyOnClose\"\n        (opened)=\"openCorrespondentDropdown()\"\n        [(selectionModel)]=\"correspondentSelectionModel\"\n        (apply)=\"setCorrespondents($event)\">\n      </app-filterable-dropdown>\n      <app-filterable-dropdown class=\"me-2 me-md-3\" title=\"Document type\" icon=\"file-earmark-fill\" i18n-title\n        filterPlaceholder=\"Filter document types\" i18n-filterPlaceholder\n        [items]=\"documentTypes\"\n        [editing]=\"true\"\n        [applyOnClose]=\"applyOnClose\"\n        (opened)=\"openDocumentTypeDropdown()\"\n        [(selectionModel)]=\"documentTypeSelectionModel\"\n        (apply)=\"setDocumentTypes($event)\">\n      </app-filterable-dropdown>\n      <app-filterable-dropdown class=\"me-2 me-md-3\" title=\"Storage path\" icon=\"folder-fill\" i18n-title\n        filterPlaceholder=\"Filter storage paths\" i18n-filterPlaceholder\n        [items]=\"storagePaths\"\n        [editing]=\"true\"\n        [applyOnClose]=\"applyOnClose\"\n        (opened)=\"openStoragePathDropdown()\"\n        [(selectionModel)]=\"storagePathsSelectionModel\"\n        (apply)=\"setStoragePaths($event)\">\n      </app-filterable-dropdown>\n    </div>\n  </div>\n  <div class=\"col-auto ms-auto mb-2 mb-xl-0 d-flex\">\n    <div class=\"btn-group btn-group-sm me-2\">\n      <div ngbDropdown class=\"me-2 d-flex\">\n        <button class=\"btn btn-sm btn-outline-primary\" id=\"dropdownSelect\" ngbDropdownToggle>\n          <svg class=\"toolbaricon\" fill=\"currentColor\">\n            <use xlink:href=\"assets/bootstrap-icons.svg#three-dots\" />\n          </svg>\n          <div class=\"d-none d-sm-inline\">&nbsp;<ng-container i18n>Actions</ng-container></div>\n        </button>\n        <div ngbDropdownMenu aria-labelledby=\"dropdownSelect\" class=\"shadow\">\n          <button ngbDropdownItem (click)=\"redoOcrSelected()\" i18n>Redo OCR</button>\n        </div>\n      </div>\n    </div>\n\n    <div class=\"btn-group btn-group-sm me-2\">\n      <button class=\"btn btn-sm btn-outline-primary\" [disabled]=\"awaitingDownload\" (click)=\"downloadSelected()\">\n        <svg *ngIf=\"!awaitingDownload\" class=\"toolbaricon\" fill=\"currentColor\">\n          <use xlink:href=\"assets/bootstrap-icons.svg#arrow-down\" />\n        </svg>\n        <div *ngIf=\"awaitingDownload\" class=\"spinner-border spinner-border-sm\" role=\"status\">\n          <span class=\"visually-hidden\">Preparing download...</span>\n        </div>\n        <div class=\"d-none d-sm-inline\">&nbsp;<ng-container i18n>Download</ng-container></div>\n      </button>\n      <div ngbDropdown class=\"me-2 d-flex btn-group\" role=\"group\">\n        <button type=\"button\" class=\"btn btn-sm btn-outline-primary dropdown-toggle-split rounded-end\" ngbDropdownToggle></button>\n        <div ngbDropdownMenu aria-labelledby=\"dropdownSelect\" class=\"shadow\">\n\t\t\t\t\t<form [formGroup]=\"downloadForm\" class=\"px-3 py-1\">\n            <p class=\"mb-1\" i18n>Include:</p>\n            <div class=\"form-group ps-3 mb-2\">\n              <div class=\"form-check\">\n                <input type=\"checkbox\" class=\"form-check-input\" id=\"downloadFileType_archive\" formControlName=\"downloadFileTypeArchive\" />\n                <label class=\"form-check-label\" for=\"downloadFileType_archive\" i18n>\n                  Archived files\n                </label>\n              </div>\n              <div class=\"form-check\">\n                <input type=\"checkbox\" class=\"form-check-input\" id=\"downloadFileType_originals\" formControlName=\"downloadFileTypeOriginals\" />\n                <label class=\"form-check-label\" for=\"downloadFileType_originals\" i18n>\n                  Original files\n                </label>\n              </div>\n            </div>\n            <div class=\"form-check\">\n              <input type=\"checkbox\" class=\"form-check-input\" id=\"downloadUseFormatting\" formControlName=\"downloadUseFormatting\" />\n              <label class=\"form-check-label\" for=\"downloadUseFormatting\" i18n>\n                Use formatted filename\n              </label>\n            </div>\n          </form>\n        </div>\n      </div>\n    </div>\n\n    <div class=\"btn-group btn-group-sm me-2\">\n      <button type=\"button\" class=\"btn btn-sm btn-outline-danger\" (click)=\"applyDelete()\">\n        <svg width=\"1em\" height=\"1em\" viewBox=\"0 0 16 16\" fill=\"currentColor\">\n          <use xlink:href=\"assets/bootstrap-icons.svg#trash\" />\n        </svg>&nbsp;<ng-container i18n>Delete</ng-container>\n      </button>\n    </div>\n  </div>\n</div>\n","import {\n  Component,\n  EventEmitter,\n  Input,\n  Output,\n  ViewChild,\n} from '@angular/core'\nimport { PaperlessDocument } from 'src/app/data/paperless-document'\nimport { DocumentService } from 'src/app/services/rest/document.service'\nimport { SettingsService } from 'src/app/services/settings.service'\nimport { NgbPopover } from '@ng-bootstrap/ng-bootstrap'\nimport { SETTINGS_KEYS } from 'src/app/data/paperless-uisettings'\n\n@Component({\n  selector: 'app-document-card-large',\n  templateUrl: './document-card-large.component.html',\n  styleUrls: [\n    './document-card-large.component.scss',\n    '../popover-preview/popover-preview.scss',\n  ],\n})\nexport class DocumentCardLargeComponent {\n  constructor(\n    private documentService: DocumentService,\n    private settingsService: SettingsService\n  ) {}\n\n  @Input()\n  selected = false\n\n  @Output()\n  toggleSelected = new EventEmitter()\n\n  get selectable() {\n    return this.toggleSelected.observers.length > 0\n  }\n\n  @Input()\n  document: PaperlessDocument\n\n  @Output()\n  clickTag = new EventEmitter<number>()\n\n  @Output()\n  clickCorrespondent = new EventEmitter<number>()\n\n  @Output()\n  clickDocumentType = new EventEmitter<number>()\n\n  @Output()\n  clickStoragePath = new EventEmitter<number>()\n\n  @Output()\n  clickMoreLike = new EventEmitter()\n\n  @ViewChild('popover') popover: NgbPopover\n\n  mouseOnPreview = false\n  popoverHidden = true\n\n  get searchScoreClass() {\n    if (this.document.__search_hit__) {\n      if (this.document.__search_hit__.score > 0.7) {\n        return 'success'\n      } else if (this.document.__search_hit__.score > 0.3) {\n        return 'warning'\n      } else {\n        return 'danger'\n      }\n    }\n  }\n\n  get searchCommentHighlights() {\n    let highlights = []\n    if (\n      this.document['__search_hit__'] &&\n      this.document['__search_hit__'].comment_highlights\n    ) {\n      // only show comments with a match\n      highlights = (\n        this.document['__search_hit__'].comment_highlights as string\n      )\n        .split(',')\n        .filter((higlight) => higlight.includes('<span'))\n    }\n    return highlights\n  }\n\n  getIsThumbInverted() {\n    return this.settingsService.get(SETTINGS_KEYS.DARK_MODE_THUMB_INVERTED)\n  }\n\n  getThumbUrl() {\n    return this.documentService.getThumbUrl(this.document.id)\n  }\n\n  getDownloadUrl() {\n    return this.documentService.getDownloadUrl(this.document.id)\n  }\n\n  get previewUrl() {\n    return this.documentService.getPreviewUrl(this.document.id)\n  }\n\n  mouseEnterPreview() {\n    this.mouseOnPreview = true\n    if (!this.popover.isOpen()) {\n      // we're going to open but hide to pre-load content during hover delay\n      this.popover.open()\n      this.popoverHidden = true\n      setTimeout(() => {\n        if (this.mouseOnPreview) {\n          // show popover\n          this.popoverHidden = false\n        } else {\n          this.popover.close()\n        }\n      }, 600)\n    }\n  }\n\n  mouseLeavePreview() {\n    this.mouseOnPreview = false\n  }\n\n  mouseLeaveCard() {\n    this.popover.close()\n  }\n\n  get contentTrimmed() {\n    return (\n      this.document.content.substr(0, 500) +\n      (this.document.content.length > 500 ? '...' : '')\n    )\n  }\n}\n","<div class=\"card mb-3 shadow-sm\" [class.card-selected]=\"selected\" [class.document-card]=\"selectable\" [class.popover-hidden]=\"popoverHidden\" (mouseleave)=\"mouseLeaveCard()\">\n  <div class=\"row g-0\">\n    <div class=\"col-md-2 doc-img-background rounded-start\" [class.doc-img-background-selected]=\"selected\" (click)=\"this.toggleSelected.emit($event)\">\n      <img [src]=\"getThumbUrl()\" class=\"card-img doc-img border-end rounded-start\" [class.inverted]=\"getIsThumbInverted()\">\n\n      <div class=\"border-end border-bottom bg-light document-card-check\">\n        <div class=\"form-check\">\n          <input type=\"checkbox\" class=\"form-check-input\" id=\"smallCardCheck{{document.id}}\" [checked]=\"selected\" (click)=\"this.toggleSelected.emit($event)\">\n          <label class=\"form-check-label\" for=\"smallCardCheck{{document.id}}\"></label>\n        </div>\n      </div>\n\n    </div>\n    <div class=\"col\">\n      <div class=\"card-body bg-light\">\n\n        <div class=\"d-flex justify-content-between align-items-center\">\n          <h5 class=\"card-title\">\n            <ng-container *ngIf=\"document.correspondent\">\n              <a *ngIf=\"clickCorrespondent.observers.length ; else nolink\" title=\"Filter by correspondent\" i18n-title (click)=\"clickCorrespondent.emit(document.correspondent);$event.stopPropagation()\" class=\"fw-bold btn-link\">{{(document.correspondent$ | async)?.name}}</a>\n              <ng-template #nolink>{{(document.correspondent$ | async)?.name}}</ng-template>:\n            </ng-container>\n            {{document.title | documentTitle}}\n            <app-tag [tag]=\"t\" linkTitle=\"Filter by tag\" i18n-linkTitle *ngFor=\"let t of document.tags$ | async\" class=\"ms-1\" (click)=\"clickTag.emit(t.id);$event.stopPropagation()\" [clickable]=\"clickTag.observers.length\"></app-tag>\n          </h5>\n        </div>\n        <p class=\"card-text\">\n          <span *ngIf=\"document.__search_hit__ && document.__search_hit__.highlights\" [innerHtml]=\"document.__search_hit__.highlights\"></span>\n          <span *ngFor=\"let highlight of searchCommentHighlights\" class=\"d-block\">\n            <svg width=\"1em\" height=\"1em\" fill=\"currentColor\" class=\"me-2\">\n              <use xlink:href=\"assets/bootstrap-icons.svg#chat-left-text\"/>\n            </svg>\n            <span [innerHtml]=\"highlight\"></span>\n          </span>\n          <span *ngIf=\"!document.__search_hit__\" class=\"result-content\">{{contentTrimmed}}</span>\n        </p>\n\n\n        <div class=\"d-flex flex-column flex-md-row align-items-md-center\">\n          <div class=\"btn-group\">\n            <a class=\"btn btn-sm btn-outline-secondary\" (click)=\"clickMoreLike.emit()\">\n              <svg class=\"sidebaricon\" fill=\"currentColor\" class=\"sidebaricon\">\n                <use xlink:href=\"assets/bootstrap-icons.svg#diagram-3\"/>\n              </svg>&nbsp;<span class=\"d-none d-md-inline\" i18n>More like this</span>\n            </a>\n            <a routerLink=\"/documents/{{document.id}}\" class=\"btn btn-sm btn-outline-secondary\">\n              <svg class=\"sidebaricon\" fill=\"currentColor\" class=\"sidebaricon\">\n                <use xlink:href=\"assets/bootstrap-icons.svg#pencil\"/>\n              </svg>&nbsp;<span class=\"d-none d-md-inline\" i18n>Edit</span>\n            </a>\n            <a class=\"btn btn-sm btn-outline-secondary\" target=\"_blank\" [href]=\"previewUrl\"\n            [ngbPopover]=\"previewContent\" [popoverTitle]=\"document.title | documentTitle\"\n            autoClose=\"true\" popoverClass=\"shadow\" (mouseenter)=\"mouseEnterPreview()\" (mouseleave)=\"mouseLeavePreview()\" #popover=\"ngbPopover\">\n              <svg class=\"sidebaricon\" fill=\"currentColor\" class=\"sidebaricon\">\n                <use xlink:href=\"assets/bootstrap-icons.svg#eye\"/>\n              </svg>&nbsp;<span class=\"d-none d-md-inline\" i18n>View</span>\n            </a>\n            <ng-template #previewContent>\n              <object [data]=\"previewUrl | safeUrl\" class=\"preview\" width=\"100%\"></object>\n            </ng-template>\n            <a class=\"btn btn-sm btn-outline-secondary\" [href]=\"getDownloadUrl()\">\n              <svg class=\"sidebaricon\" fill=\"currentColor\" class=\"sidebaricon\">\n                <use xlink:href=\"assets/bootstrap-icons.svg#download\"/>\n              </svg>&nbsp;<span class=\"d-none d-md-inline\" i18n>Download</span>\n            </a>\n          </div>\n\n          <div class=\"list-group list-group-horizontal border-0 card-info ms-md-auto mt-2 mt-md-0\">\n            <button *ngIf=\"document.document_type\" type=\"button\" class=\"list-group-item btn btn-sm bg-light text-dark p-1 border-0 me-2\" title=\"Filter by document type\" i18n-title\n             (click)=\"clickDocumentType.emit(document.document_type);$event.stopPropagation()\">\n              <svg class=\"metadata-icon me-2 text-muted bi bi-file-earmark\" viewBox=\"0 0 16 16\" fill=\"currentColor\">\n                <path d=\"M14 4.5V14a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V2a2 2 0 0 1 2-2h5.5L14 4.5zm-3 0A1.5 1.5 0 0 1 9.5 3V1H4a1 1 0 0 0-1 1v12a1 1 0 0 0 1 1h8a1 1 0 0 0 1-1V4.5h-2z\"/>\n              </svg>\n              <small>{{(document.document_type$ | async)?.name}}</small>\n            </button>\n            <button *ngIf=\"document.storage_path\" type=\"button\" class=\"list-group-item btn btn-sm bg-light text-dark p-1 border-0 me-2\" title=\"Filter by storage path\" i18n-title\n             (click)=\"clickStoragePath.emit(document.storage_path);$event.stopPropagation()\">\n              <svg class=\"metadata-icon me-2 text-muted bi bi-folder\" viewBox=\"0 0 16 16\" fill=\"currentColor\">\n                <path d=\"M0 2a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1v2a1 1 0 0 1-1 1v7.5a2.5 2.5 0 0 1-2.5 2.5h-9A2.5 2.5 0 0 1 1 12.5V5a1 1 0 0 1-1-1V2zm2 3v7.5A1.5 1.5 0 0 0 3.5 14h9a1.5 1.5 0 0 0 1.5-1.5V5H2zm13-3H1v2h14V2zM5 7.5a.5.5 0 0 1 .5-.5h5a.5.5 0 0 1 0 1h-5a.5.5 0 0 1-.5-.5z\"/>\n              </svg>\n              <small>{{(document.storage_path$ | async)?.name}}</small>\n            </button>\n            <div *ngIf=\"document.archive_serial_number\" class=\"list-group-item me-2 bg-light text-dark p-1 border-0\">\n              <svg class=\"metadata-icon me-2 text-muted bi bi-upc-scan\" viewBox=\"0 0 16 16\" fill=\"currentColor\">\n                <path d=\"M1.5 1a.5.5 0 0 0-.5.5v3a.5.5 0 0 1-1 0v-3A1.5 1.5 0 0 1 1.5 0h3a.5.5 0 0 1 0 1h-3zM11 .5a.5.5 0 0 1 .5-.5h3A1.5 1.5 0 0 1 16 1.5v3a.5.5 0 0 1-1 0v-3a.5.5 0 0 0-.5-.5h-3a.5.5 0 0 1-.5-.5zM.5 11a.5.5 0 0 1 .5.5v3a.5.5 0 0 0 .5.5h3a.5.5 0 0 1 0 1h-3A1.5 1.5 0 0 1 0 14.5v-3a.5.5 0 0 1 .5-.5zm15 0a.5.5 0 0 1 .5.5v3a1.5 1.5 0 0 1-1.5 1.5h-3a.5.5 0 0 1 0-1h3a.5.5 0 0 0 .5-.5v-3a.5.5 0 0 1 .5-.5zM3 4.5a.5.5 0 0 1 1 0v7a.5.5 0 0 1-1 0v-7zm2 0a.5.5 0 0 1 1 0v7a.5.5 0 0 1-1 0v-7zm2 0a.5.5 0 0 1 1 0v7a.5.5 0 0 1-1 0v-7zm2 0a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 .5.5v7a.5.5 0 0 1-.5.5h-1a.5.5 0 0 1-.5-.5v-7zm3 0a.5.5 0 0 1 1 0v7a.5.5 0 0 1-1 0v-7z\"/>\n              </svg>\n              <small>#{{document.archive_serial_number}}</small>\n            </div>\n            <ng-template #dateTooltip>\n              <div class=\"d-flex flex-column\">\n                <span i18n>Created: {{ document.created | customDate }}</span>\n                <span i18n>Added: {{ document.added | customDate }}</span>\n                <span i18n>Modified: {{ document.modified | customDate }}</span>\n              </div>\n            </ng-template>\n            <div class=\"list-group-item bg-light text-dark p-1 border-0\" [ngbTooltip]=\"dateTooltip\">\n              <svg class=\"metadata-icon me-2 text-muted bi bi-calendar-event\" viewBox=\"0 0 16 16\" fill=\"currentColor\">\n                <path d=\"M11 6.5a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-1a.5.5 0 0 1-.5-.5v-1z\"/>\n                <path d=\"M3.5 0a.5.5 0 0 1 .5.5V1h8V.5a.5.5 0 0 1 1 0V1h1a2 2 0 0 1 2 2v11a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V3a2 2 0 0 1 2-2h1V.5a.5.5 0 0 1 .5-.5zM1 4v10a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1V4H1z\"/>\n              </svg>\n              <small>{{document.created_date | customDate:'mediumDate'}}</small>\n            </div>\n            <div *ngIf=\"document.__search_hit__?.score\" class=\"list-group-item bg-light text-dark border-0 d-flex p-0 ps-4 search-score\">\n              <small class=\"text-muted\" i18n>Score:</small>\n              <ngb-progressbar [type]=\"searchScoreClass\" [value]=\"document.__search_hit__.score\" class=\"search-score-bar mx-2 mt-1\" [max]=\"1\"></ngb-progressbar>\n            </div>\n          </div>\n        </div>\n\n      </div>\n    </div>\n  </div>\n</div>\n","import {\n  Component,\n  EventEmitter,\n  Input,\n  Output,\n  ViewChild,\n} from '@angular/core'\nimport { map } from 'rxjs/operators'\nimport { PaperlessDocument } from 'src/app/data/paperless-document'\nimport { DocumentService } from 'src/app/services/rest/document.service'\nimport { SettingsService } from 'src/app/services/settings.service'\nimport { NgbPopover } from '@ng-bootstrap/ng-bootstrap'\nimport { SETTINGS_KEYS } from 'src/app/data/paperless-uisettings'\n\n@Component({\n  selector: 'app-document-card-small',\n  templateUrl: './document-card-small.component.html',\n  styleUrls: [\n    './document-card-small.component.scss',\n    '../popover-preview/popover-preview.scss',\n  ],\n})\nexport class DocumentCardSmallComponent {\n  constructor(\n    private documentService: DocumentService,\n    private settingsService: SettingsService\n  ) {}\n\n  @Input()\n  selected = false\n\n  @Output()\n  toggleSelected = new EventEmitter()\n\n  @Input()\n  document: PaperlessDocument\n\n  @Output()\n  clickTag = new EventEmitter<number>()\n\n  @Output()\n  clickCorrespondent = new EventEmitter<number>()\n\n  @Output()\n  clickDocumentType = new EventEmitter<number>()\n\n  @Output()\n  clickStoragePath = new EventEmitter<number>()\n\n  moreTags: number = null\n\n  @ViewChild('popover') popover: NgbPopover\n\n  mouseOnPreview = false\n  popoverHidden = true\n\n  getIsThumbInverted() {\n    return this.settingsService.get(SETTINGS_KEYS.DARK_MODE_THUMB_INVERTED)\n  }\n\n  getThumbUrl() {\n    return this.documentService.getThumbUrl(this.document.id)\n  }\n\n  getDownloadUrl() {\n    return this.documentService.getDownloadUrl(this.document.id)\n  }\n\n  get previewUrl() {\n    return this.documentService.getPreviewUrl(this.document.id)\n  }\n\n  getTagsLimited$() {\n    return this.document.tags$.pipe(\n      map((tags) => {\n        if (tags.length > 7) {\n          this.moreTags = tags.length - 6\n          return tags.slice(0, 6)\n        } else {\n          return tags\n        }\n      })\n    )\n  }\n\n  mouseEnterPreview() {\n    this.mouseOnPreview = true\n    if (!this.popover.isOpen()) {\n      // we're going to open but hide to pre-load content during hover delay\n      this.popover.open()\n      this.popoverHidden = true\n      setTimeout(() => {\n        if (this.mouseOnPreview) {\n          // show popover\n          this.popoverHidden = false\n        } else {\n          this.popover.close()\n        }\n      }, 600)\n    }\n  }\n\n  mouseLeavePreview() {\n    this.mouseOnPreview = false\n  }\n\n  mouseLeaveCard() {\n    this.popover.close()\n  }\n}\n","<div class=\"col p-2 h-100\">\n  <div class=\"card h-100 shadow-sm document-card\" [class.card-selected]=\"selected\" [class.popover-hidden]=\"popoverHidden\" (mouseleave)=\"mouseLeaveCard()\">\n    <div class=\"border-bottom doc-img-container\" [class.doc-img-background-selected]=\"selected\" (click)=\"this.toggleSelected.emit($event)\">\n      <img class=\"card-img doc-img rounded-top\" [class.inverted]=\"getIsThumbInverted()\" [src]=\"getThumbUrl()\">\n\n      <div class=\"border-end border-bottom bg-light py-1 px-2 document-card-check\">\n        <div class=\"form-check\">\n          <input type=\"checkbox\" class=\"form-check-input\" id=\"smallCardCheck{{document.id}}\" [checked]=\"selected\" (click)=\"this.toggleSelected.emit($event)\">\n          <label class=\"form-check-label\" for=\"smallCardCheck{{document.id}}\"></label>\n        </div>\n      </div>\n\n      <div class=\"tags d-flex flex-column text-end position-absolute me-1 fs-6\">\n        <app-tag *ngFor=\"let t of getTagsLimited$() | async\" [tag]=\"t\" (click)=\"clickTag.emit(t.id);$event.stopPropagation()\" [clickable]=\"true\" linkTitle=\"Toggle tag filter\" i18n-linkTitle></app-tag>\n        <div *ngIf=\"moreTags\">\n          <span class=\"badge badge-secondary\">+ {{moreTags}}</span>\n        </div>\n      </div>\n    </div>\n\n    <div class=\"card-body p-2\">\n      <p class=\"card-text\">\n        <ng-container *ngIf=\"document.correspondent\">\n          <a title=\"Toggle correspondent filter\" i18n-title (click)=\"clickCorrespondent.emit(document.correspondent);$event.stopPropagation()\" class=\"fw-bold btn-link\">{{(document.correspondent$ | async)?.name}}</a>:\n        </ng-container>\n        {{document.title | documentTitle}}\n      </p>\n    </div>\n    <div class=\"card-footer pt-0 pb-2 px-2\">\n      <div class=\"list-group list-group-flush border-0 pt-1 pb-2 card-info\">\n        <button *ngIf=\"document.document_type\" type=\"button\" class=\"list-group-item list-group-item-action bg-transparent ps-0 p-1 border-0\" title=\"Toggle document type filter\" i18n-title\n         (click)=\"clickDocumentType.emit(document.document_type);$event.stopPropagation()\">\n          <svg class=\"metadata-icon me-2 text-muted bi bi-file-earmark\" viewBox=\"0 0 16 16\" fill=\"currentColor\">\n            <path d=\"M14 4.5V14a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V2a2 2 0 0 1 2-2h5.5L14 4.5zm-3 0A1.5 1.5 0 0 1 9.5 3V1H4a1 1 0 0 0-1 1v12a1 1 0 0 0 1 1h8a1 1 0 0 0 1-1V4.5h-2z\"/>\n          </svg>\n          <small>{{(document.document_type$ | async)?.name}}</small>\n        </button>\n        <button *ngIf=\"document.storage_path\" type=\"button\" class=\"list-group-item list-group-item-action bg-transparent ps-0 p-1 border-0\" title=\"Toggle storage path filter\" i18n-title\n         (click)=\"clickStoragePath.emit(document.storage_path);$event.stopPropagation()\">\n          <svg class=\"metadata-icon me-2 text-muted bi bi-folder\" viewBox=\"0 0 16 16\" fill=\"currentColor\">\n            <path d=\"M0 2a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1v2a1 1 0 0 1-1 1v7.5a2.5 2.5 0 0 1-2.5 2.5h-9A2.5 2.5 0 0 1 1 12.5V5a1 1 0 0 1-1-1V2zm2 3v7.5A1.5 1.5 0 0 0 3.5 14h9a1.5 1.5 0 0 0 1.5-1.5V5H2zm13-3H1v2h14V2zM5 7.5a.5.5 0 0 1 .5-.5h5a.5.5 0 0 1 0 1h-5a.5.5 0 0 1-.5-.5z\"/>\n          </svg>\n          <small>{{(document.storage_path$ | async)?.name}}</small>\n        </button>\n        <div class=\"list-group-item bg-transparent p-0 border-0 d-flex flex-wrap-reverse justify-content-between\">\n          <ng-template #dateTooltip>\n            <div class=\"d-flex flex-column\">\n              <span i18n>Created: {{ document.created | customDate }}</span>\n              <span i18n>Added: {{ document.added | customDate }}</span>\n              <span i18n>Modified: {{ document.modified | customDate }}</span>\n            </div>\n          </ng-template>\n          <div class=\"ps-0 p-1\" placement=\"top\" [ngbTooltip]=\"dateTooltip\">\n            <svg class=\"metadata-icon me-2 text-muted bi bi-calendar-event\" viewBox=\"0 0 16 16\" fill=\"currentColor\">\n              <path d=\"M11 6.5a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-1a.5.5 0 0 1-.5-.5v-1z\"/>\n              <path d=\"M3.5 0a.5.5 0 0 1 .5.5V1h8V.5a.5.5 0 0 1 1 0V1h1a2 2 0 0 1 2 2v11a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V3a2 2 0 0 1 2-2h1V.5a.5.5 0 0 1 .5-.5zM1 4v10a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1V4H1z\"/>\n            </svg>\n            <small>{{document.created_date | customDate:'mediumDate'}}</small>\n          </div>\n          <div *ngIf=\"document.archive_serial_number\" class=\"ps-0 p-1\">\n            <svg class=\"metadata-icon me-2 text-muted bi bi-upc-scan\" viewBox=\"0 0 16 16\" fill=\"currentColor\">\n              <path d=\"M1.5 1a.5.5 0 0 0-.5.5v3a.5.5 0 0 1-1 0v-3A1.5 1.5 0 0 1 1.5 0h3a.5.5 0 0 1 0 1h-3zM11 .5a.5.5 0 0 1 .5-.5h3A1.5 1.5 0 0 1 16 1.5v3a.5.5 0 0 1-1 0v-3a.5.5 0 0 0-.5-.5h-3a.5.5 0 0 1-.5-.5zM.5 11a.5.5 0 0 1 .5.5v3a.5.5 0 0 0 .5.5h3a.5.5 0 0 1 0 1h-3A1.5 1.5 0 0 1 0 14.5v-3a.5.5 0 0 1 .5-.5zm15 0a.5.5 0 0 1 .5.5v3a1.5 1.5 0 0 1-1.5 1.5h-3a.5.5 0 0 1 0-1h3a.5.5 0 0 0 .5-.5v-3a.5.5 0 0 1 .5-.5zM3 4.5a.5.5 0 0 1 1 0v7a.5.5 0 0 1-1 0v-7zm2 0a.5.5 0 0 1 1 0v7a.5.5 0 0 1-1 0v-7zm2 0a.5.5 0 0 1 1 0v7a.5.5 0 0 1-1 0v-7zm2 0a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 .5.5v7a.5.5 0 0 1-.5.5h-1a.5.5 0 0 1-.5-.5v-7zm3 0a.5.5 0 0 1 1 0v7a.5.5 0 0 1-1 0v-7z\"/>\n            </svg>\n            <small>#{{document.archive_serial_number}}</small>\n          </div>\n        </div>\n      </div>\n      <div class=\"d-flex justify-content-between align-items-center\">\n        <div class=\"btn-group w-100\">\n          <a routerLink=\"/documents/{{document.id}}\" class=\"btn btn-sm btn-outline-secondary\" title=\"Edit\" i18n-title>\n            <svg width=\"1em\" height=\"1em\" viewBox=\"0 0 16 16\" class=\"bi bi-pencil\" fill=\"currentColor\" xmlns=\"http://www.w3.org/2000/svg\">\n              <path fill-rule=\"evenodd\" d=\"M12.146.146a.5.5 0 0 1 .708 0l3 3a.5.5 0 0 1 0 .708l-10 10a.5.5 0 0 1-.168.11l-5 2a.5.5 0 0 1-.65-.65l2-5a.5.5 0 0 1 .11-.168l10-10zM11.207 2.5L13.5 4.793 14.793 3.5 12.5 1.207 11.207 2.5zm1.586 3L10.5 3.207 4 9.707V10h.5a.5.5 0 0 1 .5.5v.5h.5a.5.5 0 0 1 .5.5v.5h.293l6.5-6.5zm-9.761 5.175l-.106.106-1.528 3.821 3.821-1.528.106-.106A.5.5 0 0 1 5 12.5V12h-.5a.5.5 0 0 1-.5-.5V11h-.5a.5.5 0 0 1-.468-.325z\"/>\n            </svg>\n          </a>\n          <a [href]=\"previewUrl\" target=\"_blank\" class=\"btn btn-sm btn-outline-secondary\"\n          [ngbPopover]=\"previewContent\" [popoverTitle]=\"document.title | documentTitle\"\n          autoClose=\"true\" popoverClass=\"shadow\" (mouseenter)=\"mouseEnterPreview()\" (mouseleave)=\"mouseLeavePreview()\" #popover=\"ngbPopover\">\n            <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"currentColor\" class=\"bi bi-eye\" viewBox=\"0 0 16 16\">\n              <path d=\"M16 8s-3-5.5-8-5.5S0 8 0 8s3 5.5 8 5.5S16 8 16 8zM1.173 8a13.133 13.133 0 0 1 1.66-2.043C4.12 4.668 5.88 3.5 8 3.5c2.12 0 3.879 1.168 5.168 2.457A13.133 13.133 0 0 1 14.828 8c-.058.087-.122.183-.195.288-.335.48-.83 1.12-1.465 1.755C11.879 11.332 10.119 12.5 8 12.5c-2.12 0-3.879-1.168-5.168-2.457A13.134 13.134 0 0 1 1.172 8z\"/>\n              <path d=\"M8 5.5a2.5 2.5 0 1 0 0 5 2.5 2.5 0 0 0 0-5zM4.5 8a3.5 3.5 0 1 1 7 0 3.5 3.5 0 0 1-7 0z\"/>\n            </svg>\n          </a>\n          <ng-template #previewContent>\n            <object [data]=\"previewUrl | safeUrl\" class=\"preview\" width=\"100%\"></object>\n          </ng-template>\n          <a [href]=\"getDownloadUrl()\" class=\"btn btn-sm btn-outline-secondary\" title=\"Download\" i18n-title (click)=\"$event.stopPropagation()\">\n            <svg width=\"1em\" height=\"1em\" viewBox=\"0 0 16 16\" class=\"bi bi-download\" fill=\"currentColor\" xmlns=\"http://www.w3.org/2000/svg\">\n              <path fill-rule=\"evenodd\" d=\"M.5 9.9a.5.5 0 0 1 .5.5v2.5a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-2.5a.5.5 0 0 1 1 0v2.5a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2v-2.5a.5.5 0 0 1 .5-.5z\"/>\n              <path fill-rule=\"evenodd\" d=\"M7.646 11.854a.5.5 0 0 0 .708 0l3-3a.5.5 0 0 0-.708-.708L8.5 10.293V1.5a.5.5 0 0 0-1 0v8.793L5.354 8.146a.5.5 0 1 0-.708.708l3 3z\"/>\n            </svg>\n          </a>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>\n","import {\n  Component,\n  OnDestroy,\n  OnInit,\n  QueryList,\n  ViewChild,\n  ViewChildren,\n} from '@angular/core'\nimport { ActivatedRoute, convertToParamMap, Router } from '@angular/router'\nimport { NgbModal } from '@ng-bootstrap/ng-bootstrap'\nimport { filter, first, map, Subject, switchMap, takeUntil } from 'rxjs'\nimport {\n  FilterRule,\n  filterRulesDiffer,\n  isFullTextFilterRule,\n} from 'src/app/data/filter-rule'\nimport { FILTER_FULLTEXT_MORELIKE } from 'src/app/data/filter-rule-type'\nimport { PaperlessDocument } from 'src/app/data/paperless-document'\nimport { PaperlessSavedView } from 'src/app/data/paperless-saved-view'\nimport {\n  SortableDirective,\n  SortEvent,\n} from 'src/app/directives/sortable.directive'\nimport { ConsumerStatusService } from 'src/app/services/consumer-status.service'\nimport { DocumentListViewService } from 'src/app/services/document-list-view.service'\nimport { OpenDocumentsService } from 'src/app/services/open-documents.service'\nimport {\n  DOCUMENT_SORT_FIELDS,\n  DOCUMENT_SORT_FIELDS_FULLTEXT,\n} from 'src/app/services/rest/document.service'\nimport { SavedViewService } from 'src/app/services/rest/saved-view.service'\nimport { ToastService } from 'src/app/services/toast.service'\nimport { FilterEditorComponent } from './filter-editor/filter-editor.component'\nimport { SaveViewConfigDialogComponent } from './save-view-config-dialog/save-view-config-dialog.component'\n\n@Component({\n  selector: 'app-document-list',\n  templateUrl: './document-list.component.html',\n  styleUrls: ['./document-list.component.scss'],\n})\nexport class DocumentListComponent implements OnInit, OnDestroy {\n  constructor(\n    public list: DocumentListViewService,\n    public savedViewService: SavedViewService,\n    public route: ActivatedRoute,\n    private router: Router,\n    private toastService: ToastService,\n    private modalService: NgbModal,\n    private consumerStatusService: ConsumerStatusService,\n    public openDocumentsService: OpenDocumentsService\n  ) {}\n\n  @ViewChild('filterEditor')\n  private filterEditor: FilterEditorComponent\n\n  @ViewChildren(SortableDirective) headers: QueryList<SortableDirective>\n\n  displayMode = 'smallCards' // largeCards, smallCards, details\n\n  unmodifiedFilterRules: FilterRule[] = []\n  private unmodifiedSavedView: PaperlessSavedView\n\n  private unsubscribeNotifier: Subject<any> = new Subject()\n\n  get savedViewIsModified(): boolean {\n    if (!this.list.activeSavedViewId || !this.unmodifiedSavedView) return false\n    else {\n      return (\n        this.unmodifiedSavedView.sort_field !== this.list.sortField ||\n        this.unmodifiedSavedView.sort_reverse !== this.list.sortReverse ||\n        filterRulesDiffer(\n          this.unmodifiedSavedView.filter_rules,\n          this.list.filterRules\n        )\n      )\n    }\n  }\n\n  get isFiltered() {\n    return this.list.filterRules?.length > 0\n  }\n\n  getTitle() {\n    let title = this.list.activeSavedViewTitle\n    if (title && this.savedViewIsModified) {\n      title += '*'\n    } else if (!title) {\n      title = $localize`Documents`\n    }\n    return title\n  }\n\n  getSortFields() {\n    return isFullTextFilterRule(this.list.filterRules)\n      ? DOCUMENT_SORT_FIELDS_FULLTEXT\n      : DOCUMENT_SORT_FIELDS\n  }\n\n  set listSortReverse(reverse: boolean) {\n    this.list.sortReverse = reverse\n  }\n\n  get listSortReverse(): boolean {\n    return this.list.sortReverse\n  }\n\n  setSortField(field: string) {\n    this.list.sortField = field\n  }\n\n  onSort(event: SortEvent) {\n    this.list.setSort(event.column, event.reverse)\n  }\n\n  get isBulkEditing(): boolean {\n    return this.list.selected.size > 0\n  }\n\n  saveDisplayMode() {\n    localStorage.setItem('document-list:displayMode', this.displayMode)\n  }\n\n  ngOnInit(): void {\n    if (localStorage.getItem('document-list:displayMode') != null) {\n      this.displayMode = localStorage.getItem('document-list:displayMode')\n    }\n\n    this.consumerStatusService\n      .onDocumentConsumptionFinished()\n      .pipe(takeUntil(this.unsubscribeNotifier))\n      .subscribe(() => {\n        this.list.reload()\n      })\n\n    this.route.paramMap\n      .pipe(\n        filter((params) => params.has('id')), // only on saved view e.g. /view/id\n        switchMap((params) => {\n          return this.savedViewService\n            .getCached(+params.get('id'))\n            .pipe(map((view) => ({ view })))\n        })\n      )\n      .pipe(takeUntil(this.unsubscribeNotifier))\n      .subscribe(({ view }) => {\n        if (!view) {\n          this.router.navigate(['404'])\n          return\n        }\n        this.unmodifiedSavedView = view\n        this.list.activateSavedViewWithQueryParams(\n          view,\n          convertToParamMap(this.route.snapshot.queryParams)\n        )\n        this.list.reload()\n        this.unmodifiedFilterRules = view.filter_rules\n      })\n\n    this.route.queryParamMap\n      .pipe(\n        filter(() => !this.route.snapshot.paramMap.has('id')), // only when not on /view/id\n        takeUntil(this.unsubscribeNotifier)\n      )\n      .subscribe((queryParams) => {\n        if (queryParams.has('view')) {\n          // loading a saved view on /documents\n          this.loadViewConfig(parseInt(queryParams.get('view')))\n        } else {\n          this.list.activateSavedView(null)\n          this.list.loadFromQueryParams(queryParams)\n          this.unmodifiedFilterRules = []\n        }\n      })\n  }\n\n  ngOnDestroy() {\n    // unsubscribes all\n    this.unsubscribeNotifier.next(this)\n    this.unsubscribeNotifier.complete()\n  }\n\n  saveViewConfig() {\n    if (this.list.activeSavedViewId != null) {\n      let savedView: PaperlessSavedView = {\n        id: this.list.activeSavedViewId,\n        filter_rules: this.list.filterRules,\n        sort_field: this.list.sortField,\n        sort_reverse: this.list.sortReverse,\n      }\n      this.savedViewService\n        .patch(savedView)\n        .pipe(first())\n        .subscribe((view) => {\n          this.unmodifiedSavedView = view\n          this.toastService.showInfo(\n            $localize`View \"${this.list.activeSavedViewTitle}\" saved successfully.`\n          )\n          this.unmodifiedFilterRules = this.list.filterRules\n        })\n    }\n  }\n\n  loadViewConfig(viewID: number) {\n    this.savedViewService\n      .getCached(viewID)\n      .pipe(first())\n      .subscribe((view) => {\n        this.unmodifiedSavedView = view\n        this.list.activateSavedView(view)\n        this.list.reload()\n      })\n  }\n\n  saveViewConfigAs() {\n    let modal = this.modalService.open(SaveViewConfigDialogComponent, {\n      backdrop: 'static',\n    })\n    modal.componentInstance.defaultName = this.filterEditor.generateFilterName()\n    modal.componentInstance.saveClicked.pipe(first()).subscribe((formValue) => {\n      modal.componentInstance.buttonsEnabled = false\n      let savedView: PaperlessSavedView = {\n        name: formValue.name,\n        show_on_dashboard: formValue.showOnDashboard,\n        show_in_sidebar: formValue.showInSideBar,\n        filter_rules: this.list.filterRules,\n        sort_reverse: this.list.sortReverse,\n        sort_field: this.list.sortField,\n      }\n\n      this.savedViewService\n        .create(savedView)\n        .pipe(first())\n        .subscribe({\n          next: () => {\n            modal.close()\n            this.toastService.showInfo(\n              $localize`View \"${savedView.name}\" created successfully.`\n            )\n          },\n          error: (httpError) => {\n            let error = httpError.error\n            if (error.filter_rules) {\n              error.filter_rules = error.filter_rules.map((r) => r.value)\n            }\n            modal.componentInstance.error = error\n            modal.componentInstance.buttonsEnabled = true\n          },\n        })\n    })\n  }\n\n  toggleSelected(document: PaperlessDocument, event: MouseEvent): void {\n    if (!event.shiftKey) this.list.toggleSelected(document)\n    else this.list.selectRangeTo(document)\n  }\n\n  clickTag(tagID: number) {\n    this.list.selectNone()\n    this.filterEditor.toggleTag(tagID)\n  }\n\n  clickCorrespondent(correspondentID: number) {\n    this.list.selectNone()\n    this.filterEditor.toggleCorrespondent(correspondentID)\n  }\n\n  clickDocumentType(documentTypeID: number) {\n    this.list.selectNone()\n    this.filterEditor.toggleDocumentType(documentTypeID)\n  }\n\n  clickStoragePath(storagePathID: number) {\n    this.list.selectNone()\n    this.filterEditor.toggleStoragePath(storagePathID)\n  }\n\n  clickMoreLike(documentID: number) {\n    this.list.quickFilter([\n      { rule_type: FILTER_FULLTEXT_MORELIKE, value: documentID.toString() },\n    ])\n  }\n\n  trackByDocumentId(index, item: PaperlessDocument) {\n    return item.id\n  }\n}\n","<app-page-header [title]=\"getTitle()\">\n\n  <div ngbDropdown class=\"me-2 d-flex\">\n    <button class=\"btn btn-sm btn-outline-primary\" id=\"dropdownSelect\" ngbDropdownToggle>\n      <svg class=\"toolbaricon\" fill=\"currentColor\">\n        <use xlink:href=\"assets/bootstrap-icons.svg#text-indent-left\" />\n      </svg>\n      <div class=\"d-none d-sm-inline\">&nbsp;<ng-container i18n>Select</ng-container></div>\n    </button>\n    <div ngbDropdownMenu aria-labelledby=\"dropdownSelect\" class=\"shadow\">\n      <button ngbDropdownItem (click)=\"list.selectNone()\" i18n>Select none</button>\n      <button ngbDropdownItem (click)=\"list.selectPage()\" i18n>Select page</button>\n      <button ngbDropdownItem (click)=\"list.selectAll()\" i18n>Select all</button>\n    </div>\n  </div>\n  <div class=\"btn-group flex-fill\" role=\"group\">\n    <input type=\"radio\" class=\"btn-check\" [(ngModel)]=\"displayMode\" value=\"details\" (ngModelChange)=\"saveDisplayMode()\" id=\"displayModeDetails\">\n    <label for=\"displayModeDetails\" class=\"btn btn-outline-primary btn-sm\">\n      <svg class=\"toolbaricon\" fill=\"currentColor\">\n        <use xlink:href=\"assets/bootstrap-icons.svg#list-ul\" />\n      </svg>\n    </label>\n    <input type=\"radio\" class=\"btn-check\" [(ngModel)]=\"displayMode\" value=\"smallCards\" (ngModelChange)=\"saveDisplayMode()\" id=\"displayModeSmall\">\n    <label for=\"displayModeSmall\" class=\"btn btn-outline-primary btn-sm\">\n      <svg class=\"toolbaricon\" fill=\"currentColor\">\n        <use xlink:href=\"assets/bootstrap-icons.svg#grid\" />\n      </svg>\n    </label>\n    <input type=\"radio\" class=\"btn-check\" [(ngModel)]=\"displayMode\" value=\"largeCards\" (ngModelChange)=\"saveDisplayMode()\" id=\"displayModeLarge\">\n    <label for=\"displayModeLarge\" class=\"btn btn-outline-primary btn-sm\">\n      <svg class=\"toolbaricon\" fill=\"currentColor\">\n        <use xlink:href=\"assets/bootstrap-icons.svg#hdd-stack\" />\n      </svg>\n    </label>\n  </div>\n\n  <div ngbDropdown class=\"btn-group ms-2 flex-fill\">\n    <button class=\"btn btn-outline-primary btn-sm\" id=\"dropdownBasic1\" ngbDropdownToggle i18n>Sort</button>\n    <div ngbDropdownMenu aria-labelledby=\"dropdownBasic1\" class=\"shadow dropdown-menu-right\">\n      <div class=\"w-100 d-flex pb-2 mb-1 border-bottom\">\n        <input type=\"radio\" class=\"btn-check\" [value]=\"false\" [(ngModel)]=\"listSortReverse\" id=\"listSortReverseFalse\">\n        <label class=\"btn btn-outline-primary btn-sm mx-2 flex-fill\" for=\"listSortReverseFalse\">\n          <svg class=\"toolbaricon\" fill=\"currentColor\">\n            <use xlink:href=\"assets/bootstrap-icons.svg#sort-alpha-down\" />\n          </svg>\n        </label>\n        <input type=\"radio\" class=\"btn-check\" [value]=\"true\" [(ngModel)]=\"listSortReverse\" id=\"listSortReverseTrue\">\n        <label class=\"btn btn-outline-primary btn-sm me-2 flex-fill\" for=\"listSortReverseTrue\">\n          <svg class=\"toolbaricon\" fill=\"currentColor\">\n            <use xlink:href=\"assets/bootstrap-icons.svg#sort-alpha-up-alt\" />\n          </svg>\n        </label>\n      </div>\n      <div>\n        <button *ngFor=\"let f of getSortFields()\" ngbDropdownItem (click)=\"setSortField(f.field)\"\n          [class.active]=\"list.sortField === f.field\">{{f.name}}\n        </button>\n      </div>\n    </div>\n  </div>\n\n  <div class=\"btn-group ms-2 flex-fill\" ngbDropdown role=\"group\">\n    <button class=\"btn btn-sm btn-outline-primary dropdown-toggle flex-fill\" tourAnchor=\"tour.documents-views\" ngbDropdownToggle>\n      <ng-container i18n>Views</ng-container>\n      <div *ngIf=\"savedViewIsModified\" class=\"position-absolute top-0 start-100 p-2 translate-middle badge bg-secondary border border-light rounded-circle\">\n        <span class=\"visually-hidden\">selected</span>\n      </div>\n    </button>\n    <div class=\"dropdown-menu shadow dropdown-menu-right\" ngbDropdownMenu>\n      <ng-container *ngIf=\"!list.activeSavedViewId\">\n        <button ngbDropdownItem *ngFor=\"let view of savedViewService.allViews\" (click)=\"loadViewConfig(view.id)\">{{view.name}}</button>\n        <div class=\"dropdown-divider\" *ngIf=\"savedViewService.allViews.length > 0\"></div>\n      </ng-container>\n\n      <button ngbDropdownItem (click)=\"saveViewConfig()\" *ngIf=\"list.activeSavedViewId\" [disabled]=\"!savedViewIsModified\" i18n>Save \"{{list.activeSavedViewTitle}}\"</button>\n      <button ngbDropdownItem (click)=\"saveViewConfigAs()\" i18n>Save as...</button>\n    </div>\n  </div>\n\n</app-page-header>\n\n<div class=\"row sticky-top pt-3 pt-sm-4 pb-2 pb-lg-4 bg-body\">\n  <app-filter-editor [hidden]=\"isBulkEditing\" [(filterRules)]=\"list.filterRules\" [unmodifiedFilterRules]=\"unmodifiedFilterRules\" #filterEditor></app-filter-editor>\n  <app-bulk-editor [hidden]=\"!isBulkEditing\"></app-bulk-editor>\n</div>\n\n\n<ng-template #pagination>\n  <div class=\"d-flex justify-content-between align-items-center\">\n    <p>\n      <ng-container *ngIf=\"list.isReloading\">\n        <div class=\"spinner-border spinner-border-sm me-2\" role=\"status\"></div>\n        <ng-container i18n>Loading...</ng-container>\n      </ng-container>\n      <span i18n *ngIf=\"list.selected.size > 0\">{list.collectionSize, plural, =1 {Selected {{list.selected.size}} of one document} other {Selected {{list.selected.size}} of {{list.collectionSize || 0}} documents}}</span>\n      <ng-container *ngIf=\"!list.isReloading\">\n        <span i18n *ngIf=\"list.selected.size === 0\">{list.collectionSize, plural, =1 {One document} other {{{list.collectionSize || 0}} documents}}</span>&nbsp;<span i18n *ngIf=\"isFiltered\">(filtered)</span>\n      </ng-container>\n    </p>\n    <ngb-pagination *ngIf=\"list.collectionSize\" [pageSize]=\"list.currentPageSize\" [collectionSize]=\"list.collectionSize\" [(page)]=\"list.currentPage\" [maxSize]=\"5\"\n    [rotate]=\"true\" aria-label=\"Default pagination\"></ngb-pagination>\n  </div>\n</ng-template>\n\n<div tourAnchor=\"tour.documents\">\n  <ng-container *ngTemplateOutlet=\"pagination\"></ng-container>\n</div>\n\n<ng-container *ngIf=\"list.error ; else documentListNoError\">\n  <div class=\"alert alert-danger\" role=\"alert\"><ng-container i18n>Error while loading documents</ng-container>: {{list.error}}</div>\n</ng-container>\n\n<ng-template #documentListNoError>\n  <div *ngIf=\"displayMode === 'largeCards'\">\n    <app-document-card-large [selected]=\"list.isSelected(d)\" (toggleSelected)=\"toggleSelected(d, $event)\" *ngFor=\"let d of list.documents; trackBy: trackByDocumentId\" [document]=\"d\" (clickTag)=\"clickTag($event)\" (clickCorrespondent)=\"clickCorrespondent($event)\" (clickDocumentType)=\"clickDocumentType($event)\" (clickStoragePath)=\"clickStoragePath($event)\" (clickMoreLike)=\"clickMoreLike(d.id)\">\n    </app-document-card-large>\n  </div>\n\n  <table class=\"table table-sm align-middle border shadow-sm\" *ngIf=\"displayMode === 'details'\">\n    <thead>\n      <th></th>\n      <th class=\"d-none d-lg-table-cell\"\n        appSortable=\"archive_serial_number\"\n        [currentSortField]=\"list.sortField\"\n        [currentSortReverse]=\"list.sortReverse\"\n        (sort)=\"onSort($event)\"\n        i18n>ASN</th>\n      <th class=\"d-none d-md-table-cell\"\n        appSortable=\"correspondent__name\"\n        [currentSortField]=\"list.sortField\"\n        [currentSortReverse]=\"list.sortReverse\"\n        (sort)=\"onSort($event)\"\n        i18n>Correspondent</th>\n      <th\n        appSortable=\"title\"\n        [currentSortField]=\"list.sortField\"\n        [currentSortReverse]=\"list.sortReverse\"\n        (sort)=\"onSort($event)\"\n        i18n>Title</th>\n      <th class=\"d-none d-xl-table-cell\"\n        appSortable=\"document_type__name\"\n        [currentSortField]=\"list.sortField\"\n        [currentSortReverse]=\"list.sortReverse\"\n        (sort)=\"onSort($event)\"\n        i18n>Document type</th>\n      <th class=\"d-none d-xl-table-cell\"\n        appSortable=\"storage_path__name\"\n        [currentSortField]=\"list.sortField\"\n        [currentSortReverse]=\"list.sortReverse\"\n        (sort)=\"onSort($event)\"\n        i18n>Storage path</th>\n      <th\n        appSortable=\"created\"\n        [currentSortField]=\"list.sortField\"\n        [currentSortReverse]=\"list.sortReverse\"\n        (sort)=\"onSort($event)\"\n        i18n>Created</th>\n      <th class=\"d-none d-xl-table-cell\"\n        appSortable=\"added\"\n        [currentSortField]=\"list.sortField\"\n        [currentSortReverse]=\"list.sortReverse\"\n        (sort)=\"onSort($event)\"\n        i18n>Added</th>\n    </thead>\n    <tbody>\n      <tr *ngFor=\"let d of list.documents; trackBy: trackByDocumentId\" (click)=\"toggleSelected(d, $event); $event.stopPropagation();\" [ngClass]=\"list.isSelected(d) ? 'table-row-selected' : ''\">\n        <td>\n          <div class=\"form-check\">\n            <input type=\"checkbox\" class=\"form-check-input\" id=\"docCheck{{d.id}}\" [checked]=\"list.isSelected(d)\" (click)=\"toggleSelected(d, $event); $event.stopPropagation();\">\n            <label class=\"form-check-label\" for=\"docCheck{{d.id}}\"></label>\n          </div>\n        </td>\n        <td class=\"d-none d-lg-table-cell\">\n          {{d.archive_serial_number}}\n        </td>\n        <td class=\"d-none d-md-table-cell\">\n          <ng-container *ngIf=\"d.correspondent\">\n            <a (click)=\"clickCorrespondent(d.correspondent);$event.stopPropagation()\" title=\"Filter by correspondent\" i18n-title>{{(d.correspondent$ | async)?.name}}</a>\n          </ng-container>\n        </td>\n        <td>\n          <a routerLink=\"/documents/{{d.id}}\" title=\"Edit document\" i18n-title style=\"overflow-wrap: anywhere;\">{{d.title | documentTitle}}</a>\n          <app-tag [tag]=\"t\" *ngFor=\"let t of d.tags$ | async\" class=\"ms-1\" clickable=\"true\" linkTitle=\"Filter by tag\" i18n-linkTitle (click)=\"clickTag(t.id);$event.stopPropagation()\"></app-tag>\n        </td>\n        <td class=\"d-none d-xl-table-cell\">\n          <ng-container *ngIf=\"d.document_type\">\n            <a (click)=\"clickDocumentType(d.document_type);$event.stopPropagation()\" title=\"Filter by document type\" i18n-title>{{(d.document_type$ | async)?.name}}</a>\n          </ng-container>\n        </td>\n        <td class=\"d-none d-xl-table-cell\">\n          <ng-container *ngIf=\"d.storage_path\">\n            <a (click)=\"clickStoragePath(d.storage_path);$event.stopPropagation()\" title=\"Filter by storage path\" i18n-title>{{(d.storage_path$ | async)?.name}}</a>\n          </ng-container>\n        </td>\n        <td>\n          {{d.created_date | customDate}}\n        </td>\n        <td class=\"d-none d-xl-table-cell\">\n          {{d.added | customDate}}\n        </td>\n      </tr>\n    </tbody>\n  </table>\n\n  <div class=\"row row-cols-paperless-cards\" *ngIf=\"displayMode === 'smallCards'\">\n    <app-document-card-small class=\"p-0\" [selected]=\"list.isSelected(d)\" (toggleSelected)=\"toggleSelected(d, $event)\" [document]=\"d\" *ngFor=\"let d of list.documents; trackBy: trackByDocumentId\" (clickTag)=\"clickTag($event)\" (clickCorrespondent)=\"clickCorrespondent($event)\" (clickStoragePath)=\"clickStoragePath($event)\" (clickDocumentType)=\"clickDocumentType($event)\"></app-document-card-small>\n  </div>\n  <div *ngIf=\"list.documents?.length > 15\" class=\"mt-3\">\n    <ng-container *ngTemplateOutlet=\"pagination\"></ng-container>\n  </div>\n\n\n</ng-template>\n","import {\n  Component,\n  EventEmitter,\n  Input,\n  Output,\n  OnInit,\n  OnDestroy,\n  ViewChild,\n  ElementRef,\n} from '@angular/core'\nimport { PaperlessTag } from 'src/app/data/paperless-tag'\nimport { PaperlessCorrespondent } from 'src/app/data/paperless-correspondent'\nimport { PaperlessDocumentType } from 'src/app/data/paperless-document-type'\nimport { Subject, Subscription } from 'rxjs'\nimport { debounceTime, distinctUntilChanged, filter } from 'rxjs/operators'\nimport { DocumentTypeService } from 'src/app/services/rest/document-type.service'\nimport { TagService } from 'src/app/services/rest/tag.service'\nimport { CorrespondentService } from 'src/app/services/rest/correspondent.service'\nimport { filterRulesDiffer, FilterRule } from 'src/app/data/filter-rule'\nimport {\n  FILTER_ADDED_AFTER,\n  FILTER_ADDED_BEFORE,\n  FILTER_ASN,\n  FILTER_CORRESPONDENT,\n  FILTER_CREATED_AFTER,\n  FILTER_CREATED_BEFORE,\n  FILTER_DOCUMENT_TYPE,\n  FILTER_FULLTEXT_MORELIKE,\n  FILTER_FULLTEXT_QUERY,\n  FILTER_HAS_ANY_TAG,\n  FILTER_HAS_TAGS_ALL,\n  FILTER_HAS_TAGS_ANY,\n  FILTER_DOES_NOT_HAVE_TAG,\n  FILTER_TITLE,\n  FILTER_TITLE_CONTENT,\n  FILTER_STORAGE_PATH,\n  FILTER_ASN_ISNULL,\n  FILTER_ASN_GT,\n  FILTER_ASN_LT,\n} from 'src/app/data/filter-rule-type'\nimport { FilterableDropdownSelectionModel } from '../../common/filterable-dropdown/filterable-dropdown.component'\nimport { ToggleableItemState } from '../../common/filterable-dropdown/toggleable-dropdown-button/toggleable-dropdown-button.component'\nimport { DocumentService } from 'src/app/services/rest/document.service'\nimport { PaperlessDocument } from 'src/app/data/paperless-document'\nimport { PaperlessStoragePath } from 'src/app/data/paperless-storage-path'\nimport { StoragePathService } from 'src/app/services/rest/storage-path.service'\nimport { RelativeDate } from '../../common/date-dropdown/date-dropdown.component'\n\nconst TEXT_FILTER_TARGET_TITLE = 'title'\nconst TEXT_FILTER_TARGET_TITLE_CONTENT = 'title-content'\nconst TEXT_FILTER_TARGET_ASN = 'asn'\nconst TEXT_FILTER_TARGET_FULLTEXT_QUERY = 'fulltext-query'\nconst TEXT_FILTER_TARGET_FULLTEXT_MORELIKE = 'fulltext-morelike'\n\nconst TEXT_FILTER_MODIFIER_EQUALS = 'equals'\nconst TEXT_FILTER_MODIFIER_NULL = 'is null'\nconst TEXT_FILTER_MODIFIER_NOTNULL = 'not null'\nconst TEXT_FILTER_MODIFIER_GT = 'greater'\nconst TEXT_FILTER_MODIFIER_LT = 'less'\n\nconst RELATIVE_DATE_QUERY_REGEXP_CREATED = /created:\\[([^\\]]+)\\]/g\nconst RELATIVE_DATE_QUERY_REGEXP_ADDED = /added:\\[([^\\]]+)\\]/g\nconst RELATIVE_DATE_QUERYSTRINGS = [\n  {\n    relativeDate: RelativeDate.LAST_7_DAYS,\n    dateQuery: '-1 week to now',\n  },\n  {\n    relativeDate: RelativeDate.LAST_MONTH,\n    dateQuery: '-1 month to now',\n  },\n  {\n    relativeDate: RelativeDate.LAST_3_MONTHS,\n    dateQuery: '-3 month to now',\n  },\n  {\n    relativeDate: RelativeDate.LAST_YEAR,\n    dateQuery: '-1 year to now',\n  },\n]\n\n@Component({\n  selector: 'app-filter-editor',\n  templateUrl: './filter-editor.component.html',\n  styleUrls: ['./filter-editor.component.scss'],\n})\nexport class FilterEditorComponent implements OnInit, OnDestroy {\n  generateFilterName() {\n    if (this.filterRules.length == 1) {\n      let rule = this.filterRules[0]\n      switch (this.filterRules[0].rule_type) {\n        case FILTER_CORRESPONDENT:\n          if (rule.value) {\n            return $localize`Correspondent: ${\n              this.correspondents.find((c) => c.id == +rule.value)?.name\n            }`\n          } else {\n            return $localize`Without correspondent`\n          }\n\n        case FILTER_DOCUMENT_TYPE:\n          if (rule.value) {\n            return $localize`Type: ${\n              this.documentTypes.find((dt) => dt.id == +rule.value)?.name\n            }`\n          } else {\n            return $localize`Without document type`\n          }\n\n        case FILTER_HAS_TAGS_ALL:\n          return $localize`Tag: ${\n            this.tags.find((t) => t.id == +rule.value)?.name\n          }`\n\n        case FILTER_HAS_ANY_TAG:\n          if (rule.value == 'false') {\n            return $localize`Without any tag`\n          }\n\n        case FILTER_TITLE:\n          return $localize`Title: ${rule.value}`\n\n        case FILTER_ASN:\n          return $localize`ASN: ${rule.value}`\n      }\n    }\n\n    return ''\n  }\n\n  constructor(\n    private documentTypeService: DocumentTypeService,\n    private tagService: TagService,\n    private correspondentService: CorrespondentService,\n    private documentService: DocumentService,\n    private storagePathService: StoragePathService\n  ) {}\n\n  @ViewChild('textFilterInput')\n  textFilterInput: ElementRef\n\n  tags: PaperlessTag[] = []\n  correspondents: PaperlessCorrespondent[] = []\n  documentTypes: PaperlessDocumentType[] = []\n  storagePaths: PaperlessStoragePath[] = []\n\n  _textFilter = ''\n  _moreLikeId: number\n  _moreLikeDoc: PaperlessDocument\n\n  get textFilterTargets() {\n    let targets = [\n      { id: TEXT_FILTER_TARGET_TITLE, name: $localize`Title` },\n      {\n        id: TEXT_FILTER_TARGET_TITLE_CONTENT,\n        name: $localize`Title & content`,\n      },\n      { id: TEXT_FILTER_TARGET_ASN, name: $localize`ASN` },\n      {\n        id: TEXT_FILTER_TARGET_FULLTEXT_QUERY,\n        name: $localize`Advanced search`,\n      },\n    ]\n    if (this.textFilterTarget == TEXT_FILTER_TARGET_FULLTEXT_MORELIKE) {\n      targets.push({\n        id: TEXT_FILTER_TARGET_FULLTEXT_MORELIKE,\n        name: $localize`More like`,\n      })\n    }\n    return targets\n  }\n\n  textFilterTarget = TEXT_FILTER_TARGET_TITLE_CONTENT\n\n  get textFilterTargetName() {\n    return this.textFilterTargets.find((t) => t.id == this.textFilterTarget)\n      ?.name\n  }\n\n  public textFilterModifier: string\n\n  get textFilterModifiers() {\n    return [\n      {\n        id: TEXT_FILTER_MODIFIER_EQUALS,\n        label: $localize`equals`,\n      },\n      {\n        id: TEXT_FILTER_MODIFIER_NULL,\n        label: $localize`is empty`,\n      },\n      {\n        id: TEXT_FILTER_MODIFIER_NOTNULL,\n        label: $localize`is not empty`,\n      },\n      {\n        id: TEXT_FILTER_MODIFIER_GT,\n        label: $localize`greater than`,\n      },\n      {\n        id: TEXT_FILTER_MODIFIER_LT,\n        label: $localize`less than`,\n      },\n    ]\n  }\n\n  get textFilterModifierIsNull(): boolean {\n    return [TEXT_FILTER_MODIFIER_NULL, TEXT_FILTER_MODIFIER_NOTNULL].includes(\n      this.textFilterModifier\n    )\n  }\n\n  tagSelectionModel = new FilterableDropdownSelectionModel()\n  correspondentSelectionModel = new FilterableDropdownSelectionModel()\n  documentTypeSelectionModel = new FilterableDropdownSelectionModel()\n  storagePathSelectionModel = new FilterableDropdownSelectionModel()\n\n  dateCreatedBefore: string\n  dateCreatedAfter: string\n  dateAddedBefore: string\n  dateAddedAfter: string\n  dateCreatedRelativeDate: RelativeDate\n  dateAddedRelativeDate: RelativeDate\n\n  _unmodifiedFilterRules: FilterRule[] = []\n  _filterRules: FilterRule[] = []\n\n  @Input()\n  set unmodifiedFilterRules(value: FilterRule[]) {\n    this._unmodifiedFilterRules = value\n    this.rulesModified = filterRulesDiffer(\n      this._unmodifiedFilterRules,\n      this._filterRules\n    )\n  }\n\n  get unmodifiedFilterRules(): FilterRule[] {\n    return this._unmodifiedFilterRules\n  }\n\n  @Input()\n  set filterRules(value: FilterRule[]) {\n    this._filterRules = value\n\n    this.documentTypeSelectionModel.clear(false)\n    this.storagePathSelectionModel.clear(false)\n    this.tagSelectionModel.clear(false)\n    this.correspondentSelectionModel.clear(false)\n    this._textFilter = null\n    this._moreLikeId = null\n    this.dateAddedBefore = null\n    this.dateAddedAfter = null\n    this.dateCreatedBefore = null\n    this.dateCreatedAfter = null\n    this.dateCreatedRelativeDate = null\n    this.dateAddedRelativeDate = null\n    this.textFilterModifier = TEXT_FILTER_MODIFIER_EQUALS\n\n    value.forEach((rule) => {\n      switch (rule.rule_type) {\n        case FILTER_TITLE:\n          this._textFilter = rule.value\n          this.textFilterTarget = TEXT_FILTER_TARGET_TITLE\n          break\n        case FILTER_TITLE_CONTENT:\n          this._textFilter = rule.value\n          this.textFilterTarget = TEXT_FILTER_TARGET_TITLE_CONTENT\n          break\n        case FILTER_ASN:\n          this._textFilter = rule.value\n          this.textFilterTarget = TEXT_FILTER_TARGET_ASN\n          break\n        case FILTER_FULLTEXT_QUERY:\n          let allQueryArgs = rule.value.split(',')\n          let textQueryArgs = []\n          allQueryArgs.forEach((arg) => {\n            if (arg.match(RELATIVE_DATE_QUERY_REGEXP_CREATED)) {\n              ;[...arg.matchAll(RELATIVE_DATE_QUERY_REGEXP_CREATED)].forEach(\n                (match) => {\n                  if (match[1]?.length) {\n                    this.dateCreatedRelativeDate =\n                      RELATIVE_DATE_QUERYSTRINGS.find(\n                        (qS) => qS.dateQuery == match[1]\n                      )?.relativeDate\n                  }\n                }\n              )\n            } else if (arg.match(RELATIVE_DATE_QUERY_REGEXP_ADDED)) {\n              ;[...arg.matchAll(RELATIVE_DATE_QUERY_REGEXP_ADDED)].forEach(\n                (match) => {\n                  if (match[1]?.length) {\n                    this.dateAddedRelativeDate =\n                      RELATIVE_DATE_QUERYSTRINGS.find(\n                        (qS) => qS.dateQuery == match[1]\n                      )?.relativeDate\n                  }\n                }\n              )\n            } else {\n              textQueryArgs.push(arg)\n            }\n          })\n          if (textQueryArgs.length) {\n            this._textFilter = textQueryArgs.join(',')\n            this.textFilterTarget = TEXT_FILTER_TARGET_FULLTEXT_QUERY\n          }\n          break\n        case FILTER_FULLTEXT_MORELIKE:\n          this._moreLikeId = +rule.value\n          this.textFilterTarget = TEXT_FILTER_TARGET_FULLTEXT_MORELIKE\n          this.documentService.get(this._moreLikeId).subscribe((result) => {\n            this._moreLikeDoc = result\n            this._textFilter = result.title\n          })\n          break\n        case FILTER_CREATED_AFTER:\n          this.dateCreatedAfter = rule.value\n          break\n        case FILTER_CREATED_BEFORE:\n          this.dateCreatedBefore = rule.value\n          break\n        case FILTER_ADDED_AFTER:\n          this.dateAddedAfter = rule.value\n          break\n        case FILTER_ADDED_BEFORE:\n          this.dateAddedBefore = rule.value\n          break\n        case FILTER_HAS_TAGS_ALL:\n          this.tagSelectionModel.set(\n            rule.value ? +rule.value : null,\n            ToggleableItemState.Selected,\n            false\n          )\n          break\n        case FILTER_HAS_TAGS_ANY:\n          this.tagSelectionModel.logicalOperator = 'or'\n          this.tagSelectionModel.set(\n            rule.value ? +rule.value : null,\n            ToggleableItemState.Selected,\n            false\n          )\n          break\n        case FILTER_HAS_ANY_TAG:\n          this.tagSelectionModel.set(null, ToggleableItemState.Selected, false)\n          break\n        case FILTER_DOES_NOT_HAVE_TAG:\n          this.tagSelectionModel.set(\n            rule.value ? +rule.value : null,\n            ToggleableItemState.Excluded,\n            false\n          )\n          break\n        case FILTER_CORRESPONDENT:\n          this.correspondentSelectionModel.set(\n            rule.value ? +rule.value : null,\n            ToggleableItemState.Selected,\n            false\n          )\n          break\n        case FILTER_DOCUMENT_TYPE:\n          this.documentTypeSelectionModel.set(\n            rule.value ? +rule.value : null,\n            ToggleableItemState.Selected,\n            false\n          )\n          break\n        case FILTER_STORAGE_PATH:\n          this.storagePathSelectionModel.set(\n            rule.value ? +rule.value : null,\n            ToggleableItemState.Selected,\n            false\n          )\n          break\n        case FILTER_ASN_ISNULL:\n          this.textFilterTarget = TEXT_FILTER_TARGET_ASN\n          this.textFilterModifier =\n            rule.value == 'true' || rule.value == '1'\n              ? TEXT_FILTER_MODIFIER_NULL\n              : TEXT_FILTER_MODIFIER_NOTNULL\n          break\n        case FILTER_ASN_GT:\n          this.textFilterTarget = TEXT_FILTER_TARGET_ASN\n          this.textFilterModifier = TEXT_FILTER_MODIFIER_GT\n          this._textFilter = rule.value\n          break\n        case FILTER_ASN_LT:\n          this.textFilterTarget = TEXT_FILTER_TARGET_ASN\n          this.textFilterModifier = TEXT_FILTER_MODIFIER_LT\n          this._textFilter = rule.value\n          break\n      }\n    })\n    this.rulesModified = filterRulesDiffer(\n      this._unmodifiedFilterRules,\n      this._filterRules\n    )\n  }\n\n  get filterRules(): FilterRule[] {\n    let filterRules: FilterRule[] = []\n    if (\n      this._textFilter &&\n      this.textFilterTarget == TEXT_FILTER_TARGET_TITLE_CONTENT\n    ) {\n      filterRules.push({\n        rule_type: FILTER_TITLE_CONTENT,\n        value: this._textFilter,\n      })\n    }\n    if (this._textFilter && this.textFilterTarget == TEXT_FILTER_TARGET_TITLE) {\n      filterRules.push({ rule_type: FILTER_TITLE, value: this._textFilter })\n    }\n    if (this.textFilterTarget == TEXT_FILTER_TARGET_ASN) {\n      if (\n        this.textFilterModifier == TEXT_FILTER_MODIFIER_EQUALS &&\n        this._textFilter\n      ) {\n        filterRules.push({ rule_type: FILTER_ASN, value: this._textFilter })\n      } else if (this.textFilterModifierIsNull) {\n        filterRules.push({\n          rule_type: FILTER_ASN_ISNULL,\n          value: (\n            this.textFilterModifier == TEXT_FILTER_MODIFIER_NULL\n          ).toString(),\n        })\n      } else if (\n        [TEXT_FILTER_MODIFIER_GT, TEXT_FILTER_MODIFIER_LT].includes(\n          this.textFilterModifier\n        ) &&\n        this._textFilter\n      ) {\n        filterRules.push({\n          rule_type:\n            this.textFilterModifier == TEXT_FILTER_MODIFIER_GT\n              ? FILTER_ASN_GT\n              : FILTER_ASN_LT,\n          value: this._textFilter,\n        })\n      }\n    }\n    if (\n      this._textFilter &&\n      this.textFilterTarget == TEXT_FILTER_TARGET_FULLTEXT_QUERY\n    ) {\n      filterRules.push({\n        rule_type: FILTER_FULLTEXT_QUERY,\n        value: this._textFilter,\n      })\n    }\n    if (\n      this._moreLikeId &&\n      this.textFilterTarget == TEXT_FILTER_TARGET_FULLTEXT_MORELIKE\n    ) {\n      filterRules.push({\n        rule_type: FILTER_FULLTEXT_MORELIKE,\n        value: this._moreLikeId?.toString(),\n      })\n    }\n    if (this.tagSelectionModel.isNoneSelected()) {\n      filterRules.push({ rule_type: FILTER_HAS_ANY_TAG, value: 'false' })\n    } else {\n      const tagFilterType =\n        this.tagSelectionModel.logicalOperator == 'and'\n          ? FILTER_HAS_TAGS_ALL\n          : FILTER_HAS_TAGS_ANY\n      this.tagSelectionModel\n        .getSelectedItems()\n        .filter((tag) => tag.id)\n        .forEach((tag) => {\n          filterRules.push({\n            rule_type: tagFilterType,\n            value: tag.id?.toString(),\n          })\n        })\n      this.tagSelectionModel\n        .getExcludedItems()\n        .filter((tag) => tag.id)\n        .forEach((tag) => {\n          filterRules.push({\n            rule_type: FILTER_DOES_NOT_HAVE_TAG,\n            value: tag.id?.toString(),\n          })\n        })\n    }\n    this.correspondentSelectionModel\n      .getSelectedItems()\n      .forEach((correspondent) => {\n        filterRules.push({\n          rule_type: FILTER_CORRESPONDENT,\n          value: correspondent.id?.toString(),\n        })\n      })\n    this.documentTypeSelectionModel\n      .getSelectedItems()\n      .forEach((documentType) => {\n        filterRules.push({\n          rule_type: FILTER_DOCUMENT_TYPE,\n          value: documentType.id?.toString(),\n        })\n      })\n    this.storagePathSelectionModel.getSelectedItems().forEach((storagePath) => {\n      filterRules.push({\n        rule_type: FILTER_STORAGE_PATH,\n        value: storagePath.id?.toString(),\n      })\n    })\n    if (this.dateCreatedBefore) {\n      filterRules.push({\n        rule_type: FILTER_CREATED_BEFORE,\n        value: this.dateCreatedBefore,\n      })\n    }\n    if (this.dateCreatedAfter) {\n      filterRules.push({\n        rule_type: FILTER_CREATED_AFTER,\n        value: this.dateCreatedAfter,\n      })\n    }\n    if (this.dateAddedBefore) {\n      filterRules.push({\n        rule_type: FILTER_ADDED_BEFORE,\n        value: this.dateAddedBefore,\n      })\n    }\n    if (this.dateAddedAfter) {\n      filterRules.push({\n        rule_type: FILTER_ADDED_AFTER,\n        value: this.dateAddedAfter,\n      })\n    }\n    if (\n      this.dateAddedRelativeDate !== null ||\n      this.dateCreatedRelativeDate !== null\n    ) {\n      let queryArgs: Array<string> = []\n      let existingRule = filterRules.find(\n        (fr) => fr.rule_type == FILTER_FULLTEXT_QUERY\n      )\n\n      // if had a title / content search and added a relative date we need to carry it over...\n      if (\n        !existingRule &&\n        this._textFilter?.length > 0 &&\n        (this.textFilterTarget == TEXT_FILTER_TARGET_TITLE_CONTENT ||\n          this.textFilterTarget == TEXT_FILTER_TARGET_TITLE)\n      ) {\n        existingRule = filterRules.find(\n          (fr) =>\n            fr.rule_type == FILTER_TITLE_CONTENT || fr.rule_type == FILTER_TITLE\n        )\n        existingRule.rule_type = FILTER_FULLTEXT_QUERY\n      }\n\n      let existingRuleArgs = existingRule?.value.split(',')\n      if (this.dateCreatedRelativeDate !== null) {\n        queryArgs.push(\n          `created:[${\n            RELATIVE_DATE_QUERYSTRINGS.find(\n              (qS) => qS.relativeDate == this.dateCreatedRelativeDate\n            ).dateQuery\n          }]`\n        )\n        if (existingRule) {\n          queryArgs = existingRuleArgs\n            .filter((arg) => !arg.match(RELATIVE_DATE_QUERY_REGEXP_CREATED))\n            .concat(queryArgs)\n        }\n      }\n      if (this.dateAddedRelativeDate !== null) {\n        queryArgs.push(\n          `added:[${\n            RELATIVE_DATE_QUERYSTRINGS.find(\n              (qS) => qS.relativeDate == this.dateAddedRelativeDate\n            ).dateQuery\n          }]`\n        )\n        if (existingRule) {\n          queryArgs = existingRuleArgs\n            .filter((arg) => !arg.match(RELATIVE_DATE_QUERY_REGEXP_ADDED))\n            .concat(queryArgs)\n        }\n      }\n\n      if (existingRule) {\n        existingRule.value = queryArgs.join(',')\n      } else {\n        filterRules.push({\n          rule_type: FILTER_FULLTEXT_QUERY,\n          value: queryArgs.join(','),\n        })\n      }\n    }\n    if (\n      this.dateCreatedRelativeDate == null &&\n      this.dateAddedRelativeDate == null\n    ) {\n      const existingRule = filterRules.find(\n        (fr) => fr.rule_type == FILTER_FULLTEXT_QUERY\n      )\n      if (\n        existingRule?.value.match(RELATIVE_DATE_QUERY_REGEXP_CREATED) ||\n        existingRule?.value.match(RELATIVE_DATE_QUERY_REGEXP_ADDED)\n      ) {\n        // remove any existing date query\n        existingRule.value = existingRule.value\n          .replace(RELATIVE_DATE_QUERY_REGEXP_CREATED, '')\n          .replace(RELATIVE_DATE_QUERY_REGEXP_ADDED, '')\n        if (existingRule.value.replace(',', '').trim() === '') {\n          // if its empty now, remove it entirely\n          filterRules.splice(filterRules.indexOf(existingRule), 1)\n        }\n      }\n    }\n    return filterRules\n  }\n\n  @Output()\n  filterRulesChange = new EventEmitter<FilterRule[]>()\n\n  rulesModified: boolean = false\n\n  updateRules() {\n    this.filterRulesChange.next(this.filterRules)\n  }\n\n  get textFilter() {\n    return this.textFilterModifierIsNull ? '' : this._textFilter\n  }\n\n  set textFilter(value) {\n    this.textFilterDebounce.next(value)\n  }\n\n  textFilterDebounce: Subject<string>\n  subscription: Subscription\n\n  ngOnInit() {\n    this.tagService\n      .listAll()\n      .subscribe((result) => (this.tags = result.results))\n    this.correspondentService\n      .listAll()\n      .subscribe((result) => (this.correspondents = result.results))\n    this.documentTypeService\n      .listAll()\n      .subscribe((result) => (this.documentTypes = result.results))\n    this.storagePathService\n      .listAll()\n      .subscribe((result) => (this.storagePaths = result.results))\n\n    this.textFilterDebounce = new Subject<string>()\n\n    this.subscription = this.textFilterDebounce\n      .pipe(\n        debounceTime(400),\n        distinctUntilChanged(),\n        filter((query) => !query.length || query.length > 2)\n      )\n      .subscribe((text) => this.updateTextFilter(text))\n\n    if (this._textFilter) this.documentService.searchQuery = this._textFilter\n  }\n\n  ngOnDestroy() {\n    this.textFilterDebounce.complete()\n  }\n\n  resetSelected() {\n    this.textFilterTarget = TEXT_FILTER_TARGET_TITLE_CONTENT\n    this.filterRules = this._unmodifiedFilterRules\n    this.updateRules()\n  }\n\n  toggleTag(tagId: number) {\n    this.tagSelectionModel.toggle(tagId)\n  }\n\n  toggleCorrespondent(correspondentId: number) {\n    this.correspondentSelectionModel.toggle(correspondentId)\n  }\n\n  toggleDocumentType(documentTypeId: number) {\n    this.documentTypeSelectionModel.toggle(documentTypeId)\n  }\n\n  toggleStoragePath(storagePathID: number) {\n    this.storagePathSelectionModel.toggle(storagePathID)\n  }\n\n  onTagsDropdownOpen() {\n    this.tagSelectionModel.apply()\n  }\n\n  onCorrespondentDropdownOpen() {\n    this.correspondentSelectionModel.apply()\n  }\n\n  onDocumentTypeDropdownOpen() {\n    this.documentTypeSelectionModel.apply()\n  }\n\n  onStoragePathDropdownOpen() {\n    this.storagePathSelectionModel.apply()\n  }\n\n  updateTextFilter(text) {\n    this._textFilter = text\n    this.documentService.searchQuery = text\n    this.updateRules()\n  }\n\n  textFilterKeyup(event: KeyboardEvent) {\n    if (event.key == 'Enter') {\n      const filterString = (\n        this.textFilterInput.nativeElement as HTMLInputElement\n      ).value\n      if (filterString.length) {\n        this.updateTextFilter(filterString)\n      }\n    } else if (event.key == 'Escape') {\n      this.resetTextField()\n    }\n  }\n\n  resetTextField() {\n    this.updateTextFilter('')\n  }\n\n  changeTextFilterTarget(target) {\n    if (\n      this.textFilterTarget == TEXT_FILTER_TARGET_FULLTEXT_MORELIKE &&\n      target != TEXT_FILTER_TARGET_FULLTEXT_MORELIKE\n    ) {\n      this._textFilter = ''\n    }\n    this.textFilterTarget = target\n    this.textFilterInput.nativeElement.focus()\n    this.updateRules()\n  }\n\n  textFilterModifierChange() {\n    if (\n      this.textFilterModifierIsNull ||\n      ([\n        TEXT_FILTER_MODIFIER_EQUALS,\n        TEXT_FILTER_MODIFIER_GT,\n        TEXT_FILTER_MODIFIER_LT,\n      ].includes(this.textFilterModifier) &&\n        this._textFilter)\n    ) {\n      this.updateRules()\n    }\n  }\n}\n","<div class=\"row flex-wrap\" tourAnchor=\"tour.documents-filter-editor\">\n   <div class=\"col mb-2 mb-xxl-0\">\n     <div class=\"form-inline d-flex align-items-center\">\n         <div class=\"input-group input-group-sm flex-fill w-auto flex-nowrap\">\n           <div ngbDropdown>\n            <button class=\"btn btn-sm btn-outline-primary\" ngbDropdownToggle>{{textFilterTargetName}}</button>\n            <div class=\"dropdown-menu shadow\" ngbDropdownMenu>\n              <button *ngFor=\"let t of textFilterTargets\" ngbDropdownItem [class.active]=\"textFilterTarget === t.id\" (click)=\"changeTextFilterTarget(t.id)\">{{t.name}}</button>\n            </div>\n          </div>\n          <select *ngIf=\"textFilterTarget === 'asn'\" class=\"form-select flex-grow-0 w-auto\" [(ngModel)]=\"textFilterModifier\" (change)=\"textFilterModifierChange()\">\n            <option *ngFor=\"let m of textFilterModifiers\" ngbDropdownItem [value]=\"m.id\">{{m.label}}</option>\n          </select>\n          <button *ngIf=\"_textFilter\" class=\"btn btn-link btn-sm px-0 position-absolute top-0 end-0 z-10\" (click)=\"resetTextField()\">\n            <svg width=\"1em\" height=\"1em\" viewBox=\"0 0 16 16\" class=\"bi bi-x me-1\" fill=\"currentColor\" xmlns=\"http://www.w3.org/2000/svg\">\n              <path fill-rule=\"evenodd\" d=\"M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708z\"/>\n            </svg>\n          </button>\n          <input #textFilterInput class=\"form-control form-control-sm\" type=\"text\" [disabled]=\"textFilterModifierIsNull\" [(ngModel)]=\"textFilter\" (keyup)=\"textFilterKeyup($event)\" [readonly]=\"textFilterTarget === 'fulltext-morelike'\">\n         </div>\n     </div>\n  </div>\n  <div class=\"w-100 d-xxl-none\"></div>\n    <div class=\"col col-xl-auto\">\n      <div class=\"d-flex flex-wrap\">\n        <div class=\"d-flex flex-wrap mb-2 mb-xxl-0\">\n          <app-filterable-dropdown class=\"flex-fill\" title=\"Tags\" icon=\"tag-fill\" i18n-title\n            filterPlaceholder=\"Filter tags\" i18n-filterPlaceholder\n            [items]=\"tags\"\n            [(selectionModel)]=\"tagSelectionModel\"\n            (selectionModelChange)=\"updateRules()\"\n            [multiple]=\"true\"\n            (opened)=\"onTagsDropdownOpen()\"\n            [allowSelectNone]=\"true\"></app-filterable-dropdown>\n          <app-filterable-dropdown class=\"flex-fill\" title=\"Correspondent\" icon=\"person-fill\" i18n-title\n            filterPlaceholder=\"Filter correspondents\" i18n-filterPlaceholder\n            [items]=\"correspondents\"\n            [(selectionModel)]=\"correspondentSelectionModel\"\n            (selectionModelChange)=\"updateRules()\"\n            (opened)=\"onCorrespondentDropdownOpen()\"\n            [allowSelectNone]=\"true\"></app-filterable-dropdown>\n          <app-filterable-dropdown class=\"flex-fill\" title=\"Document type\" icon=\"file-earmark-fill\" i18n-title\n            filterPlaceholder=\"Filter document types\" i18n-filterPlaceholder\n            [items]=\"documentTypes\"\n            [(selectionModel)]=\"documentTypeSelectionModel\"\n            (opened)=\"onDocumentTypeDropdownOpen()\"\n            (selectionModelChange)=\"updateRules()\"\n            [allowSelectNone]=\"true\"></app-filterable-dropdown>\n          <app-filterable-dropdown class=\"me-2 flex-fill\" title=\"Storage path\" icon=\"folder-fill\" i18n-title\n            filterPlaceholder=\"Filter storage paths\" i18n-filterPlaceholder\n            [items]=\"storagePaths\"\n            [(selectionModel)]=\"storagePathSelectionModel\"\n            (opened)=\"onStoragePathDropdownOpen()\"\n            (selectionModelChange)=\"updateRules()\"\n            [allowSelectNone]=\"true\"></app-filterable-dropdown>\n        </div>\n        <div class=\"d-flex flex-wrap\">\n          <app-date-dropdown class=\"mb-2 mb-xl-0\"\n            title=\"Created\" i18n-title\n            (datesSet)=\"updateRules()\"\n            [(dateBefore)]=\"dateCreatedBefore\"\n            [(dateAfter)]=\"dateCreatedAfter\"\n            [(relativeDate)]=\"dateCreatedRelativeDate\"></app-date-dropdown>\n          <app-date-dropdown class=\"mb-2 mb-xl-0\"\n            title=\"Added\" i18n-title\n            (datesSet)=\"updateRules()\"\n            [(dateBefore)]=\"dateAddedBefore\"\n            [(dateAfter)]=\"dateAddedAfter\"\n            [(relativeDate)]=\"dateAddedRelativeDate\"></app-date-dropdown>\n        </div>\n     </div>\n   </div>\n   <div class=\"w-100 d-xxl-none\"></div>\n   <div class=\"col col-xl-auto ps-xxl-0\">\n     <button class=\"btn btn-link btn-sm px-0\" [disabled]=\"!rulesModified\" (click)=\"resetSelected()\">\n       <svg width=\"1em\" height=\"1em\" viewBox=\"0 0 16 16\" class=\"bi bi-x me-1 ms-n1\" fill=\"currentColor\" xmlns=\"http://www.w3.org/2000/svg\">\n         <path fill-rule=\"evenodd\" d=\"M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708z\"/>\n       </svg><ng-container i18n>Reset filters</ng-container>\n     </button>\n   </div>\n</div>\n","import { Component, EventEmitter, Input, OnInit, Output } from '@angular/core'\nimport { FormControl, FormGroup } from '@angular/forms'\nimport { NgbActiveModal } from '@ng-bootstrap/ng-bootstrap'\n\n@Component({\n  selector: 'app-save-view-config-dialog',\n  templateUrl: './save-view-config-dialog.component.html',\n  styleUrls: ['./save-view-config-dialog.component.scss'],\n})\nexport class SaveViewConfigDialogComponent implements OnInit {\n  constructor(private modal: NgbActiveModal) {}\n\n  @Output()\n  public saveClicked = new EventEmitter()\n\n  @Input()\n  error\n\n  @Input()\n  buttonsEnabled = true\n\n  closeEnabled = false\n\n  _defaultName = ''\n\n  get defaultName() {\n    return this._defaultName\n  }\n\n  @Input()\n  set defaultName(value: string) {\n    this._defaultName = value\n    this.saveViewConfigForm.patchValue({ name: value })\n  }\n\n  saveViewConfigForm = new FormGroup({\n    name: new FormControl(''),\n    showInSideBar: new FormControl(false),\n    showOnDashboard: new FormControl(false),\n  })\n\n  ngOnInit(): void {\n    // wait to enable close button so it doesnt steal focus from input since its the first clickable element in the DOM\n    setTimeout(() => {\n      this.closeEnabled = true\n    })\n  }\n\n  save() {\n    this.saveClicked.emit(this.saveViewConfigForm.value)\n  }\n\n  cancel() {\n    this.modal.close()\n  }\n}\n","<form [formGroup]=\"saveViewConfigForm\" (ngSubmit)=\"save()\">\n  <div class=\"modal-header\">\n    <h4 class=\"modal-title\" id=\"modal-basic-title\" i18n>Save current view</h4>\n    <button type=\"button\" [disabled]=\"!closeEnabled\" class=\"btn-close\" aria-label=\"Close\" (click)=\"cancel()\">\n    </button>\n  </div>\n  <div class=\"modal-body\">\n    <app-input-text i18n-title title=\"Name\" formControlName=\"name\" [error]=\"error?.name\"></app-input-text>\n    <app-input-check i18n-title title=\"Show in sidebar\" formControlName=\"showInSideBar\"></app-input-check>\n    <app-input-check i18n-title title=\"Show on dashboard\" formControlName=\"showOnDashboard\"></app-input-check>\n    <div *ngIf=\"error?.filter_rules\" class=\"alert alert-danger\" role=\"alert\">\n      <h6 class=\"alert-heading\" i18n>Filter rules error occurred while saving this view</h6>\n      <ng-container i18n>The error returned was</ng-container>:<br/>\n      {{ error.filter_rules }}\n    </div>\n  </div>\n  <div class=\"modal-footer\">\n    <button type=\"button\" class=\"btn btn-outline-dark\" (click)=\"cancel()\" i18n [disabled]=\"!buttonsEnabled\">Cancel</button>\n    <button type=\"submit\" class=\"btn btn-primary\" i18n [disabled]=\"!buttonsEnabled\">Save</button>\n  </div>\n</form>\n","import { Component } from '@angular/core'\nimport { NgbModal } from '@ng-bootstrap/ng-bootstrap'\nimport { FILTER_CORRESPONDENT } from 'src/app/data/filter-rule-type'\nimport { PaperlessCorrespondent } from 'src/app/data/paperless-correspondent'\nimport { CustomDatePipe } from 'src/app/pipes/custom-date.pipe'\nimport { DocumentListViewService } from 'src/app/services/document-list-view.service'\nimport { CorrespondentService } from 'src/app/services/rest/correspondent.service'\nimport { ToastService } from 'src/app/services/toast.service'\nimport { CorrespondentEditDialogComponent } from '../../common/edit-dialog/correspondent-edit-dialog/correspondent-edit-dialog.component'\nimport { ManagementListComponent } from '../management-list/management-list.component'\n\n@Component({\n  selector: 'app-correspondent-list',\n  templateUrl: './../management-list/management-list.component.html',\n  styleUrls: ['./../management-list/management-list.component.scss'],\n  providers: [{ provide: CustomDatePipe }],\n})\nexport class CorrespondentListComponent extends ManagementListComponent<PaperlessCorrespondent> {\n  constructor(\n    correspondentsService: CorrespondentService,\n    modalService: NgbModal,\n    toastService: ToastService,\n    documentListViewService: DocumentListViewService,\n    private datePipe: CustomDatePipe\n  ) {\n    super(\n      correspondentsService,\n      modalService,\n      CorrespondentEditDialogComponent,\n      toastService,\n      documentListViewService,\n      FILTER_CORRESPONDENT,\n      $localize`correspondent`,\n      $localize`correspondents`,\n      [\n        {\n          key: 'last_correspondence',\n          name: $localize`Last used`,\n          valueFn: (c: PaperlessCorrespondent) => {\n            return this.datePipe.transform(c.last_correspondence)\n          },\n        },\n      ]\n    )\n  }\n\n  getDeleteMessage(object: PaperlessCorrespondent) {\n    return $localize`Do you really want to delete the correspondent \"${object.name}\"?`\n  }\n}\n","<app-page-header title=\"{{ typeNamePlural | titlecase }}\">\n  <button type=\"button\" class=\"btn btn-sm btn-outline-primary\" (click)=\"openCreateDialog()\" i18n>Create</button>\n</app-page-header>\n\n<div class=\"row\">\n  <div class=\"col-md mb-2 mb-xl-0\">\n    <div class=\"form-inline d-flex align-items-center\">\n      <label class=\"text-muted me-2 mb-0\" i18n>Filter by:</label>\n      <input class=\"form-control form-control-sm flex-fill w-auto\" type=\"text\" autofocus [(ngModel)]=\"nameFilter\" (keyup)=\"onNameFilterKeyUp($event)\" placeholder=\"Name\" i18n-placeholder>\n    </div>\n  </div>\n\n  <ngb-pagination class=\"col-auto\" [pageSize]=\"25\" [collectionSize]=\"collectionSize\" [(page)]=\"page\" [maxSize]=\"5\" (pageChange)=\"reloadData()\" aria-label=\"Default pagination\"></ngb-pagination>\n</div>\n\n<table class=\"table table-striped align-middle border shadow-sm\">\n  <thead>\n    <tr>\n      <th scope=\"col\" appSortable=\"name\" [currentSortField]=\"sortField\" [currentSortReverse]=\"sortReverse\" (sort)=\"onSort($event)\" i18n>Name</th>\n      <th scope=\"col\" class=\"d-none d-sm-table-cell\" appSortable=\"matching_algorithm\" [currentSortField]=\"sortField\" [currentSortReverse]=\"sortReverse\" (sort)=\"onSort($event)\" i18n>Matching</th>\n      <th scope=\"col\" appSortable=\"document_count\" [currentSortField]=\"sortField\" [currentSortReverse]=\"sortReverse\" (sort)=\"onSort($event)\" i18n>Document count</th>\n      <th scope=\"col\" *ngFor=\"let column of extraColumns\" appSortable=\"{{column.key}}\" [currentSortField]=\"sortField\" [currentSortReverse]=\"sortReverse\" (sort)=\"onSort($event)\">{{column.name}}</th>\n      <th scope=\"col\" i18n>Actions</th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr *ngFor=\"let object of data\">\n      <td scope=\"row\">{{ object.name }}</td>\n      <td scope=\"row\" class=\"d-none d-sm-table-cell\">{{ getMatching(object) }}</td>\n      <td scope=\"row\">{{ object.document_count }}</td>\n      <td scope=\"row\" *ngFor=\"let column of extraColumns\">\n        <div *ngIf=\"column.rendersHtml; else colValue\" [innerHtml]=\"column.valueFn.call(null, object) | safeHtml\"></div>\n        <ng-template #colValue>{{ column.valueFn.call(null, object) }}</ng-template>\n      </td>\n      <td scope=\"row\">\n        <div class=\"btn-group d-block d-sm-none\">\n          <div ngbDropdown class=\"d-inline-block\">\n            <button type=\"button\" class=\"btn btn-link\" id=\"actionsMenuMobile\" ngbDropdownToggle>\n              <svg class=\"toolbaricon\" fill=\"currentColor\">\n                <use xlink:href=\"assets/bootstrap-icons.svg#three-dots-vertical\" />\n              </svg>\n            </button>\n            <div ngbDropdownMenu aria-labelledby=\"actionsMenuMobile\">\n              <button (click)=\"filterDocuments(object)\" ngbDropdownItem i18n>Filter Documents</button>\n              <button (click)=\"openEditDialog(object)\" ngbDropdownItem i18n>Edit</button>\n              <button class=\"text-danger\" (click)=\"openDeleteDialog(object)\" ngbDropdownItem i18n>Delete</button>\n            </div>\n          </div>\n        </div>\n        <div class=\"btn-group d-none d-sm-block\">\n          <button class=\"btn btn-sm btn-outline-secondary\" (click)=\"filterDocuments(object)\">\n            <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"currentColor\" class=\"bi bi-funnel\" viewBox=\"0 0 16 16\">\n              <path fill-rule=\"evenodd\" d=\"M1.5 1.5A.5.5 0 0 1 2 1h12a.5.5 0 0 1 .5.5v2a.5.5 0 0 1-.128.334L10 8.692V13.5a.5.5 0 0 1-.342.474l-3 1A.5.5 0 0 1 6 14.5V8.692L1.628 3.834A.5.5 0 0 1 1.5 3.5v-2zm1 .5v1.308l4.372 4.858A.5.5 0 0 1 7 8.5v5.306l2-.666V8.5a.5.5 0 0 1 .128-.334L13.5 3.308V2h-11z\"/>\n            </svg>&nbsp;<ng-container i18n>Documents</ng-container>\n          </button>\n          <button class=\"btn btn-sm btn-outline-secondary\" (click)=\"openEditDialog(object)\">\n            <svg width=\"1em\" height=\"1em\" viewBox=\"0 0 16 16\" class=\"bi bi-pencil\" fill=\"currentColor\" xmlns=\"http://www.w3.org/2000/svg\">\n              <path fill-rule=\"evenodd\" d=\"M12.146.146a.5.5 0 0 1 .708 0l3 3a.5.5 0 0 1 0 .708l-10 10a.5.5 0 0 1-.168.11l-5 2a.5.5 0 0 1-.65-.65l2-5a.5.5 0 0 1 .11-.168l10-10zM11.207 2.5L13.5 4.793 14.793 3.5 12.5 1.207 11.207 2.5zm1.586 3L10.5 3.207 4 9.707V10h.5a.5.5 0 0 1 .5.5v.5h.5a.5.5 0 0 1 .5.5v.5h.293l6.5-6.5zm-9.761 5.175l-.106.106-1.528 3.821 3.821-1.528.106-.106A.5.5 0 0 1 5 12.5V12h-.5a.5.5 0 0 1-.5-.5V11h-.5a.5.5 0 0 1-.468-.325z\"/>\n            </svg>&nbsp;<ng-container i18n>Edit</ng-container>\n          </button>\n          <button class=\"btn btn-sm btn-outline-danger\" (click)=\"openDeleteDialog(object)\">\n            <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"currentColor\" class=\"bi bi-trash\" viewBox=\"0 0 16 16\">\n              <path d=\"M5.5 5.5A.5.5 0 0 1 6 6v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm2.5 0a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm3 .5a.5.5 0 0 0-1 0v6a.5.5 0 0 0 1 0V6z\"/>\n              <path fill-rule=\"evenodd\" d=\"M14.5 3a1 1 0 0 1-1 1H13v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V4h-.5a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1H6a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1h3.5a1 1 0 0 1 1 1v1zM4.118 4L4 4.059V13a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1V4.059L11.882 4H4.118zM2.5 3V2h11v1h-11z\"/>\n            </svg>&nbsp;<ng-container i18n>Delete</ng-container>\n          </button>\n        </div>\n      </td>\n    </tr>\n  </tbody>\n</table>\n\n<div class=\"d-flex\">\n  <div i18n *ngIf=\"collectionSize > 0\">{collectionSize, plural, =1 {One {{typeName}}} other {{{collectionSize || 0}} total {{typeNamePlural}}}}</div>\n  <ngb-pagination *ngIf=\"collectionSize > 20\" class=\"ms-auto\" [pageSize]=\"25\" [collectionSize]=\"collectionSize\" [(page)]=\"page\" [maxSize]=\"5\" (pageChange)=\"reloadData()\" aria-label=\"Default pagination\"></ngb-pagination>\n</div>\n","import { Component } from '@angular/core'\nimport { NgbModal } from '@ng-bootstrap/ng-bootstrap'\nimport { FILTER_DOCUMENT_TYPE } from 'src/app/data/filter-rule-type'\nimport { PaperlessDocumentType } from 'src/app/data/paperless-document-type'\nimport { DocumentListViewService } from 'src/app/services/document-list-view.service'\nimport { DocumentTypeService } from 'src/app/services/rest/document-type.service'\nimport { ToastService } from 'src/app/services/toast.service'\nimport { DocumentTypeEditDialogComponent } from '../../common/edit-dialog/document-type-edit-dialog/document-type-edit-dialog.component'\nimport { ManagementListComponent } from '../management-list/management-list.component'\n\n@Component({\n  selector: 'app-document-type-list',\n  templateUrl: './../management-list/management-list.component.html',\n  styleUrls: ['./../management-list/management-list.component.scss'],\n})\nexport class DocumentTypeListComponent extends ManagementListComponent<PaperlessDocumentType> {\n  constructor(\n    documentTypeService: DocumentTypeService,\n    modalService: NgbModal,\n    toastService: ToastService,\n    documentListViewService: DocumentListViewService\n  ) {\n    super(\n      documentTypeService,\n      modalService,\n      DocumentTypeEditDialogComponent,\n      toastService,\n      documentListViewService,\n      FILTER_DOCUMENT_TYPE,\n      $localize`document type`,\n      $localize`document types`,\n      []\n    )\n  }\n\n  getDeleteMessage(object: PaperlessDocumentType) {\n    return $localize`Do you really want to delete the document type \"${object.name}\"?`\n  }\n}\n","<app-page-header title=\"Logs\" i18n-title>\n\n</app-page-header>\n\n\n<ul ngbNav #nav=\"ngbNav\" [(activeId)]=\"activeLog\" (activeIdChange)=\"reloadLogs()\" class=\"nav-tabs\">\n  <li *ngFor=\"let logFile of logFiles\" [ngbNavItem]=\"logFile\">\n    <a ngbNavLink>{{logFile}}.log</a>\n  </li>\n</ul>\n\n<div [ngbNavOutlet]=\"nav\" class=\"mt-2\"></div>\n\n<div class=\"bg-dark p-3 text-light font-monospace log-container\" #logContainer>\n  <p\n    class=\"m-0 p-0 log-entry-{{getLogLevel(log)}}\"\n    *ngFor=\"let log of logs\">{{log}}</p>\n</div>\n","import {\n  Component,\n  ElementRef,\n  OnInit,\n  AfterViewChecked,\n  ViewChild,\n} from '@angular/core'\nimport { LogService } from 'src/app/services/rest/log.service'\n\n@Component({\n  selector: 'app-logs',\n  templateUrl: './logs.component.html',\n  styleUrls: ['./logs.component.scss'],\n})\nexport class LogsComponent implements OnInit, AfterViewChecked {\n  constructor(private logService: LogService) {}\n\n  logs: string[] = []\n\n  logFiles: string[] = []\n\n  activeLog: string\n\n  @ViewChild('logContainer') logContainer: ElementRef\n\n  ngOnInit(): void {\n    this.logService.list().subscribe((result) => {\n      this.logFiles = result\n      if (this.logFiles.length > 0) {\n        this.activeLog = this.logFiles[0]\n        this.reloadLogs()\n      }\n    })\n  }\n\n  ngAfterViewChecked() {\n    this.scrollToBottom()\n  }\n\n  reloadLogs() {\n    this.logService.get(this.activeLog).subscribe(\n      (result) => {\n        this.logs = result\n      },\n      (error) => {\n        this.logs = []\n      }\n    )\n  }\n\n  getLogLevel(log: string) {\n    if (log.indexOf('[DEBUG]') != -1) {\n      return 10\n    } else if (log.indexOf('[WARNING]') != -1) {\n      return 30\n    } else if (log.indexOf('[ERROR]') != -1) {\n      return 40\n    } else if (log.indexOf('[CRITICAL]') != -1) {\n      return 50\n    } else {\n      return 20\n    }\n  }\n\n  scrollToBottom(): void {\n    this.logContainer?.nativeElement.scroll({\n      top: this.logContainer.nativeElement.scrollHeight,\n      left: 0,\n      behavior: 'auto',\n    })\n  }\n}\n","import {\n  Directive,\n  OnDestroy,\n  OnInit,\n  QueryList,\n  ViewChildren,\n} from '@angular/core'\nimport { NgbModal } from '@ng-bootstrap/ng-bootstrap'\nimport { Subject, Subscription } from 'rxjs'\nimport { debounceTime, distinctUntilChanged } from 'rxjs/operators'\nimport {\n  MatchingModel,\n  MATCHING_ALGORITHMS,\n  MATCH_AUTO,\n} from 'src/app/data/matching-model'\nimport { ObjectWithId } from 'src/app/data/object-with-id'\nimport {\n  SortableDirective,\n  SortEvent,\n} from 'src/app/directives/sortable.directive'\nimport { DocumentListViewService } from 'src/app/services/document-list-view.service'\nimport { AbstractNameFilterService } from 'src/app/services/rest/abstract-name-filter-service'\nimport { ToastService } from 'src/app/services/toast.service'\nimport { ConfirmDialogComponent } from '../../common/confirm-dialog/confirm-dialog.component'\n\nexport interface ManagementListColumn {\n  key: string\n\n  name: string\n\n  valueFn: any\n\n  rendersHtml?: boolean\n}\n\n@Directive()\nexport abstract class ManagementListComponent<T extends ObjectWithId>\n  implements OnInit, OnDestroy\n{\n  constructor(\n    private service: AbstractNameFilterService<T>,\n    private modalService: NgbModal,\n    private editDialogComponent: any,\n    private toastService: ToastService,\n    private documentListViewService: DocumentListViewService,\n    protected filterRuleType: number,\n    public typeName: string,\n    public typeNamePlural: string,\n    public extraColumns: ManagementListColumn[]\n  ) {}\n\n  @ViewChildren(SortableDirective) headers: QueryList<SortableDirective>\n\n  public data: T[] = []\n\n  public page = 1\n\n  public collectionSize = 0\n\n  public sortField: string\n  public sortReverse: boolean\n\n  private nameFilterDebounce: Subject<string>\n  private subscription: Subscription\n  private _nameFilter: string\n\n  ngOnInit(): void {\n    this.reloadData()\n\n    this.nameFilterDebounce = new Subject<string>()\n\n    this.subscription = this.nameFilterDebounce\n      .pipe(debounceTime(400), distinctUntilChanged())\n      .subscribe((title) => {\n        this._nameFilter = title\n        this.page = 1\n        this.reloadData()\n      })\n  }\n\n  ngOnDestroy() {\n    this.subscription.unsubscribe()\n  }\n\n  getMatching(o: MatchingModel) {\n    if (o.matching_algorithm == MATCH_AUTO) {\n      return $localize`Automatic`\n    } else if (o.match && o.match.length > 0) {\n      return `${\n        MATCHING_ALGORITHMS.find((a) => a.id == o.matching_algorithm).shortName\n      }: ${o.match}`\n    } else {\n      return '-'\n    }\n  }\n\n  onSort(event: SortEvent) {\n    this.sortField = event.column\n    this.sortReverse = event.reverse\n    this.reloadData()\n  }\n\n  reloadData() {\n    this.service\n      .listFiltered(\n        this.page,\n        null,\n        this.sortField,\n        this.sortReverse,\n        this._nameFilter\n      )\n      .subscribe((c) => {\n        this.data = c.results\n        this.collectionSize = c.count\n      })\n  }\n\n  openCreateDialog() {\n    var activeModal = this.modalService.open(this.editDialogComponent, {\n      backdrop: 'static',\n    })\n    activeModal.componentInstance.dialogMode = 'create'\n    activeModal.componentInstance.succeeded.subscribe({\n      next: () => {\n        this.reloadData()\n        this.toastService.showInfo(\n          $localize`Successfully created ${this.typeName}.`\n        )\n      },\n      error: (e) => {\n        this.toastService.showInfo(\n          $localize`Error occurred while creating ${\n            this.typeName\n          } : ${e.toString()}.`\n        )\n      },\n    })\n  }\n\n  openEditDialog(object: T) {\n    var activeModal = this.modalService.open(this.editDialogComponent, {\n      backdrop: 'static',\n    })\n    activeModal.componentInstance.object = object\n    activeModal.componentInstance.dialogMode = 'edit'\n    activeModal.componentInstance.succeeded.subscribe({\n      next: () => {\n        this.reloadData()\n        this.toastService.showInfo(\n          $localize`Successfully updated ${this.typeName}.`\n        )\n      },\n      error: (e) => {\n        this.toastService.showInfo(\n          $localize`Error occurred while saving ${\n            this.typeName\n          } : ${e.toString()}.`\n        )\n      },\n    })\n  }\n\n  getDeleteMessage(object: T) {\n    return $localize`Do you really want to delete the ${this.typeName}?`\n  }\n\n  filterDocuments(object: ObjectWithId) {\n    this.documentListViewService.quickFilter([\n      { rule_type: this.filterRuleType, value: object.id.toString() },\n    ])\n  }\n\n  openDeleteDialog(object: T) {\n    var activeModal = this.modalService.open(ConfirmDialogComponent, {\n      backdrop: 'static',\n    })\n    activeModal.componentInstance.title = $localize`Confirm delete`\n    activeModal.componentInstance.messageBold = this.getDeleteMessage(object)\n    activeModal.componentInstance.message = $localize`Associated documents will not be deleted.`\n    activeModal.componentInstance.btnClass = 'btn-danger'\n    activeModal.componentInstance.btnCaption = $localize`Delete`\n    activeModal.componentInstance.confirmClicked.subscribe(() => {\n      activeModal.componentInstance.buttonsEnabled = false\n      this.service.delete(object).subscribe(\n        (_) => {\n          activeModal.close()\n          this.reloadData()\n        },\n        (error) => {\n          activeModal.componentInstance.buttonsEnabled = true\n          this.toastService.showError(\n            $localize`Error while deleting element: ${JSON.stringify(\n              error.error\n            )}`\n          )\n        }\n      )\n    })\n  }\n\n  get nameFilter() {\n    return this._nameFilter\n  }\n\n  set nameFilter(nameFilter: string) {\n    this.nameFilterDebounce.next(nameFilter)\n  }\n\n  onNameFilterKeyUp(event: KeyboardEvent) {\n    if (event.code == 'Escape') this.nameFilterDebounce.next(null)\n  }\n}\n","import {\n  Component,\n  Inject,\n  LOCALE_ID,\n  OnInit,\n  OnDestroy,\n  AfterViewInit,\n} from '@angular/core'\nimport { FormControl, FormGroup } from '@angular/forms'\nimport { PaperlessSavedView } from 'src/app/data/paperless-saved-view'\nimport { DocumentListViewService } from 'src/app/services/document-list-view.service'\nimport { SavedViewService } from 'src/app/services/rest/saved-view.service'\nimport {\n  LanguageOption,\n  SettingsService,\n} from 'src/app/services/settings.service'\nimport { Toast, ToastService } from 'src/app/services/toast.service'\nimport { dirtyCheck, DirtyComponent } from '@ngneat/dirty-check-forms'\nimport {\n  Observable,\n  Subscription,\n  BehaviorSubject,\n  first,\n  tap,\n  takeUntil,\n  Subject,\n} from 'rxjs'\nimport { SETTINGS_KEYS } from 'src/app/data/paperless-uisettings'\nimport { ActivatedRoute, Router } from '@angular/router'\nimport { ViewportScroller } from '@angular/common'\nimport { TourService } from 'ngx-ui-tour-ng-bootstrap'\nimport { PaperlessMailAccount } from 'src/app/data/paperless-mail-account'\nimport { PaperlessMailRule } from 'src/app/data/paperless-mail-rule'\nimport { MailAccountService } from 'src/app/services/rest/mail-account.service'\nimport { MailRuleService } from 'src/app/services/rest/mail-rule.service'\nimport { NgbModal } from '@ng-bootstrap/ng-bootstrap'\nimport { MailAccountEditDialogComponent } from '../../common/edit-dialog/mail-account-edit-dialog/mail-account-edit-dialog.component'\nimport { MailRuleEditDialogComponent } from '../../common/edit-dialog/mail-rule-edit-dialog/mail-rule-edit-dialog.component'\nimport { ConfirmDialogComponent } from '../../common/confirm-dialog/confirm-dialog.component'\nimport { NgbNavChangeEvent } from '@ng-bootstrap/ng-bootstrap'\n\nenum SettingsNavIDs {\n  General = 1,\n  Notifications = 2,\n  SavedViews = 3,\n  Mail = 4,\n  UsersGroups = 5,\n}\n\n@Component({\n  selector: 'app-settings',\n  templateUrl: './settings.component.html',\n  styleUrls: ['./settings.component.scss'],\n})\nexport class SettingsComponent\n  implements OnInit, AfterViewInit, OnDestroy, DirtyComponent\n{\n  SettingsNavIDs = SettingsNavIDs\n  activeNavID: number\n\n  savedViewGroup = new FormGroup({})\n\n  mailAccountGroup = new FormGroup({})\n  mailRuleGroup = new FormGroup({})\n\n  settingsForm = new FormGroup({\n    bulkEditConfirmationDialogs: new FormControl(null),\n    bulkEditApplyOnClose: new FormControl(null),\n    documentListItemPerPage: new FormControl(null),\n    slimSidebarEnabled: new FormControl(null),\n    darkModeUseSystem: new FormControl(null),\n    darkModeEnabled: new FormControl(null),\n    darkModeInvertThumbs: new FormControl(null),\n    themeColor: new FormControl(null),\n    useNativePdfViewer: new FormControl(null),\n    displayLanguage: new FormControl(null),\n    dateLocale: new FormControl(null),\n    dateFormat: new FormControl(null),\n    commentsEnabled: new FormControl(null),\n    updateCheckingEnabled: new FormControl(null),\n\n    notificationsConsumerNewDocument: new FormControl(null),\n    notificationsConsumerSuccess: new FormControl(null),\n    notificationsConsumerFailed: new FormControl(null),\n    notificationsConsumerSuppressOnDashboard: new FormControl(null),\n\n    savedViewsWarnOnUnsavedChange: new FormControl(null),\n    savedViews: this.savedViewGroup,\n\n    mailAccounts: this.mailAccountGroup,\n    mailRules: this.mailRuleGroup,\n  })\n\n  savedViews: PaperlessSavedView[]\n\n  mailAccounts: PaperlessMailAccount[]\n  mailRules: PaperlessMailRule[]\n\n  store: BehaviorSubject<any>\n  storeSub: Subscription\n  isDirty$: Observable<boolean>\n  isDirty: boolean = false\n  unsubscribeNotifier: Subject<any> = new Subject()\n  savePending: boolean = false\n\n  get computedDateLocale(): string {\n    return (\n      this.settingsForm.value.dateLocale ||\n      this.settingsForm.value.displayLanguage ||\n      this.currentLocale\n    )\n  }\n\n  constructor(\n    public savedViewService: SavedViewService,\n    public mailAccountService: MailAccountService,\n    public mailRuleService: MailRuleService,\n    private documentListViewService: DocumentListViewService,\n    private toastService: ToastService,\n    private settings: SettingsService,\n    @Inject(LOCALE_ID) public currentLocale: string,\n    private viewportScroller: ViewportScroller,\n    private activatedRoute: ActivatedRoute,\n    private router: Router,\n    public readonly tourService: TourService,\n    private modalService: NgbModal\n  ) {\n    this.settings.settingsSaved.subscribe(() => {\n      if (!this.savePending) this.initialize()\n    })\n  }\n\n  ngOnInit() {\n    this.initialize()\n\n    this.activatedRoute.paramMap.subscribe((paramMap) => {\n      const section = paramMap.get('section')\n      if (section) {\n        const navIDKey: string = Object.keys(SettingsNavIDs).find(\n          (navID) => navID.toLowerCase() == section\n        )\n        if (navIDKey) {\n          this.activeNavID = SettingsNavIDs[navIDKey]\n          this.maybeInitializeTab(this.activeNavID)\n        }\n      }\n    })\n  }\n\n  ngAfterViewInit(): void {\n    if (this.activatedRoute.snapshot.fragment) {\n      this.viewportScroller.scrollToAnchor(\n        this.activatedRoute.snapshot.fragment\n      )\n    }\n  }\n\n  private getCurrentSettings() {\n    return {\n      bulkEditConfirmationDialogs: this.settings.get(\n        SETTINGS_KEYS.BULK_EDIT_CONFIRMATION_DIALOGS\n      ),\n      bulkEditApplyOnClose: this.settings.get(\n        SETTINGS_KEYS.BULK_EDIT_APPLY_ON_CLOSE\n      ),\n      documentListItemPerPage: this.settings.get(\n        SETTINGS_KEYS.DOCUMENT_LIST_SIZE\n      ),\n      slimSidebarEnabled: this.settings.get(SETTINGS_KEYS.SLIM_SIDEBAR),\n      darkModeUseSystem: this.settings.get(SETTINGS_KEYS.DARK_MODE_USE_SYSTEM),\n      darkModeEnabled: this.settings.get(SETTINGS_KEYS.DARK_MODE_ENABLED),\n      darkModeInvertThumbs: this.settings.get(\n        SETTINGS_KEYS.DARK_MODE_THUMB_INVERTED\n      ),\n      themeColor: this.settings.get(SETTINGS_KEYS.THEME_COLOR),\n      useNativePdfViewer: this.settings.get(\n        SETTINGS_KEYS.USE_NATIVE_PDF_VIEWER\n      ),\n      displayLanguage: this.settings.getLanguage(),\n      dateLocale: this.settings.get(SETTINGS_KEYS.DATE_LOCALE),\n      dateFormat: this.settings.get(SETTINGS_KEYS.DATE_FORMAT),\n      commentsEnabled: this.settings.get(SETTINGS_KEYS.COMMENTS_ENABLED),\n      updateCheckingEnabled: this.settings.get(\n        SETTINGS_KEYS.UPDATE_CHECKING_ENABLED\n      ),\n      notificationsConsumerNewDocument: this.settings.get(\n        SETTINGS_KEYS.NOTIFICATIONS_CONSUMER_NEW_DOCUMENT\n      ),\n      notificationsConsumerSuccess: this.settings.get(\n        SETTINGS_KEYS.NOTIFICATIONS_CONSUMER_SUCCESS\n      ),\n      notificationsConsumerFailed: this.settings.get(\n        SETTINGS_KEYS.NOTIFICATIONS_CONSUMER_FAILED\n      ),\n      notificationsConsumerSuppressOnDashboard: this.settings.get(\n        SETTINGS_KEYS.NOTIFICATIONS_CONSUMER_SUPPRESS_ON_DASHBOARD\n      ),\n      savedViewsWarnOnUnsavedChange: this.settings.get(\n        SETTINGS_KEYS.SAVED_VIEWS_WARN_ON_UNSAVED_CHANGE\n      ),\n      savedViews: {},\n      mailAccounts: {},\n      mailRules: {},\n    }\n  }\n\n  onNavChange(navChangeEvent: NgbNavChangeEvent) {\n    this.maybeInitializeTab(navChangeEvent.nextId)\n    const [foundNavIDkey, foundNavIDValue] = Object.entries(\n      SettingsNavIDs\n    ).find(([navIDkey, navIDValue]) => navIDValue == navChangeEvent.nextId)\n    if (foundNavIDkey)\n      // if its dirty we need to wait for confirmation\n      this.router\n        .navigate(['settings', foundNavIDkey.toLowerCase()])\n        .then((navigated) => {\n          if (!navigated && this.isDirty) {\n            this.activeNavID = navChangeEvent.activeId\n          } else if (navigated && this.isDirty) {\n            this.initialize()\n          }\n        })\n  }\n\n  // Load tab contents 'on demand', either on mouseover or focusin (i.e. before click) or called from nav change event\n  maybeInitializeTab(navID: number): void {\n    if (navID == SettingsNavIDs.SavedViews && !this.savedViews) {\n      this.savedViewService.listAll().subscribe((r) => {\n        this.savedViews = r.results\n        this.initialize(false)\n      })\n    } else if (\n      navID == SettingsNavIDs.Mail &&\n      (!this.mailAccounts || !this.mailRules)\n    ) {\n      this.mailAccountService.listAll().subscribe((r) => {\n        this.mailAccounts = r.results\n\n        this.mailRuleService.listAll().subscribe((r) => {\n          this.mailRules = r.results\n          this.initialize(false)\n        })\n      })\n    }\n  }\n\n  initialize(resetSettings: boolean = true) {\n    this.unsubscribeNotifier.next(true)\n\n    const currentFormValue = this.settingsForm.value\n\n    let storeData = this.getCurrentSettings()\n\n    if (this.savedViews) {\n      for (let view of this.savedViews) {\n        storeData.savedViews[view.id.toString()] = {\n          id: view.id,\n          name: view.name,\n          show_on_dashboard: view.show_on_dashboard,\n          show_in_sidebar: view.show_in_sidebar,\n        }\n        this.savedViewGroup.addControl(\n          view.id.toString(),\n          new FormGroup({\n            id: new FormControl(null),\n            name: new FormControl(null),\n            show_on_dashboard: new FormControl(null),\n            show_in_sidebar: new FormControl(null),\n          })\n        )\n      }\n    }\n\n    if (this.mailAccounts && this.mailRules) {\n      for (let account of this.mailAccounts) {\n        storeData.mailAccounts[account.id.toString()] = {\n          id: account.id,\n          name: account.name,\n          imap_server: account.imap_server,\n          imap_port: account.imap_port,\n          imap_security: account.imap_security,\n          username: account.username,\n          password: account.password,\n          character_set: account.character_set,\n        }\n        this.mailAccountGroup.addControl(\n          account.id.toString(),\n          new FormGroup({\n            id: new FormControl(null),\n            name: new FormControl(null),\n            imap_server: new FormControl(null),\n            imap_port: new FormControl(null),\n            imap_security: new FormControl(null),\n            username: new FormControl(null),\n            password: new FormControl(null),\n            character_set: new FormControl(null),\n          })\n        )\n      }\n\n      for (let rule of this.mailRules) {\n        storeData.mailRules[rule.id.toString()] = {\n          name: rule.name,\n          account: rule.account,\n          folder: rule.folder,\n          filter_from: rule.filter_from,\n          filter_subject: rule.filter_subject,\n          filter_body: rule.filter_body,\n          filter_attachment_filename: rule.filter_attachment_filename,\n          maximum_age: rule.maximum_age,\n          attachment_type: rule.attachment_type,\n          action: rule.action,\n          action_parameter: rule.action_parameter,\n          assign_title_from: rule.assign_title_from,\n          assign_tags: rule.assign_tags,\n          assign_document_type: rule.assign_document_type,\n          assign_correspondent_from: rule.assign_correspondent_from,\n          assign_correspondent: rule.assign_correspondent,\n        }\n        this.mailRuleGroup.addControl(\n          rule.id.toString(),\n          new FormGroup({\n            name: new FormControl(null),\n            account: new FormControl(null),\n            folder: new FormControl(null),\n            filter_from: new FormControl(null),\n            filter_subject: new FormControl(null),\n            filter_body: new FormControl(null),\n            filter_attachment_filename: new FormControl(null),\n            maximum_age: new FormControl(null),\n            attachment_type: new FormControl(null),\n            action: new FormControl(null),\n            action_parameter: new FormControl(null),\n            assign_title_from: new FormControl(null),\n            assign_tags: new FormControl(null),\n            assign_document_type: new FormControl(null),\n            assign_correspondent_from: new FormControl(null),\n            assign_correspondent: new FormControl(null),\n          })\n        )\n      }\n    }\n\n    this.store = new BehaviorSubject(storeData)\n\n    this.storeSub = this.store.asObservable().subscribe((state) => {\n      this.settingsForm.patchValue(state, { emitEvent: false })\n    })\n\n    // Initialize dirtyCheck\n    this.isDirty$ = dirtyCheck(this.settingsForm, this.store.asObservable())\n\n    // Record dirty in case we need to 'undo' appearance settings if not saved on close\n    this.isDirty$\n      .pipe(takeUntil(this.unsubscribeNotifier))\n      .subscribe((dirty) => {\n        this.isDirty = dirty\n      })\n\n    // \"Live\" visual changes prior to save\n    this.settingsForm.valueChanges\n      .pipe(takeUntil(this.unsubscribeNotifier))\n      .subscribe(() => {\n        this.settings.updateAppearanceSettings(\n          this.settingsForm.get('darkModeUseSystem').value,\n          this.settingsForm.get('darkModeEnabled').value,\n          this.settingsForm.get('themeColor').value\n        )\n      })\n\n    if (!resetSettings && currentFormValue) {\n      // prevents loss of unsaved changes\n      this.settingsForm.patchValue(currentFormValue)\n    }\n  }\n\n  ngOnDestroy() {\n    if (this.isDirty) this.settings.updateAppearanceSettings() // in case user changed appearance but didnt save\n    this.storeSub && this.storeSub.unsubscribe()\n  }\n\n  deleteSavedView(savedView: PaperlessSavedView) {\n    this.savedViewService.delete(savedView).subscribe(() => {\n      this.savedViewGroup.removeControl(savedView.id.toString())\n      this.savedViews.splice(this.savedViews.indexOf(savedView), 1)\n      this.toastService.showInfo(\n        $localize`Saved view \"${savedView.name}\" deleted.`\n      )\n    })\n  }\n\n  private saveLocalSettings() {\n    this.savePending = true\n    const reloadRequired =\n      this.settingsForm.value.displayLanguage !=\n        this.store?.getValue()['displayLanguage'] || // displayLanguage is dirty\n      (this.settingsForm.value.updateCheckingEnabled !=\n        this.store?.getValue()['updateCheckingEnabled'] &&\n        this.settingsForm.value.updateCheckingEnabled) // update checking was turned on\n\n    this.settings.set(\n      SETTINGS_KEYS.BULK_EDIT_APPLY_ON_CLOSE,\n      this.settingsForm.value.bulkEditApplyOnClose\n    )\n    this.settings.set(\n      SETTINGS_KEYS.BULK_EDIT_CONFIRMATION_DIALOGS,\n      this.settingsForm.value.bulkEditConfirmationDialogs\n    )\n    this.settings.set(\n      SETTINGS_KEYS.DOCUMENT_LIST_SIZE,\n      this.settingsForm.value.documentListItemPerPage\n    )\n    this.settings.set(\n      SETTINGS_KEYS.SLIM_SIDEBAR,\n      this.settingsForm.value.slimSidebarEnabled\n    )\n    this.settings.set(\n      SETTINGS_KEYS.DARK_MODE_USE_SYSTEM,\n      this.settingsForm.value.darkModeUseSystem\n    )\n    this.settings.set(\n      SETTINGS_KEYS.DARK_MODE_ENABLED,\n      (this.settingsForm.value.darkModeEnabled == true).toString()\n    )\n    this.settings.set(\n      SETTINGS_KEYS.DARK_MODE_THUMB_INVERTED,\n      (this.settingsForm.value.darkModeInvertThumbs == true).toString()\n    )\n    this.settings.set(\n      SETTINGS_KEYS.THEME_COLOR,\n      this.settingsForm.value.themeColor.toString()\n    )\n    this.settings.set(\n      SETTINGS_KEYS.USE_NATIVE_PDF_VIEWER,\n      this.settingsForm.value.useNativePdfViewer\n    )\n    this.settings.set(\n      SETTINGS_KEYS.DATE_LOCALE,\n      this.settingsForm.value.dateLocale\n    )\n    this.settings.set(\n      SETTINGS_KEYS.DATE_FORMAT,\n      this.settingsForm.value.dateFormat\n    )\n    this.settings.set(\n      SETTINGS_KEYS.NOTIFICATIONS_CONSUMER_NEW_DOCUMENT,\n      this.settingsForm.value.notificationsConsumerNewDocument\n    )\n    this.settings.set(\n      SETTINGS_KEYS.NOTIFICATIONS_CONSUMER_SUCCESS,\n      this.settingsForm.value.notificationsConsumerSuccess\n    )\n    this.settings.set(\n      SETTINGS_KEYS.NOTIFICATIONS_CONSUMER_FAILED,\n      this.settingsForm.value.notificationsConsumerFailed\n    )\n    this.settings.set(\n      SETTINGS_KEYS.NOTIFICATIONS_CONSUMER_SUPPRESS_ON_DASHBOARD,\n      this.settingsForm.value.notificationsConsumerSuppressOnDashboard\n    )\n    this.settings.set(\n      SETTINGS_KEYS.COMMENTS_ENABLED,\n      this.settingsForm.value.commentsEnabled\n    )\n    this.settings.set(\n      SETTINGS_KEYS.UPDATE_CHECKING_ENABLED,\n      this.settingsForm.value.updateCheckingEnabled\n    )\n    this.settings.set(\n      SETTINGS_KEYS.SAVED_VIEWS_WARN_ON_UNSAVED_CHANGE,\n      this.settingsForm.value.savedViewsWarnOnUnsavedChange\n    )\n    this.settings.setLanguage(this.settingsForm.value.displayLanguage)\n    this.settings\n      .storeSettings()\n      .pipe(first())\n      .pipe(tap(() => (this.savePending = false)))\n      .subscribe({\n        next: () => {\n          this.store.next(this.settingsForm.value)\n          this.documentListViewService.updatePageSize()\n          this.settings.updateAppearanceSettings()\n          let savedToast: Toast = {\n            title: $localize`Settings saved`,\n            content: $localize`Settings were saved successfully.`,\n            delay: 500000,\n          }\n          if (reloadRequired) {\n            ;(savedToast.content = $localize`Settings were saved successfully. Reload is required to apply some changes.`),\n              (savedToast.actionName = $localize`Reload now`)\n            savedToast.action = () => {\n              location.reload()\n            }\n          }\n\n          this.toastService.show(savedToast)\n        },\n        error: (error) => {\n          this.toastService.showError(\n            $localize`An error occurred while saving settings.`\n          )\n          console.log(error)\n        },\n      })\n  }\n\n  get displayLanguageOptions(): LanguageOption[] {\n    return [{ code: '', name: $localize`Use system language` }].concat(\n      this.settings.getLanguageOptions()\n    )\n  }\n\n  get dateLocaleOptions(): LanguageOption[] {\n    return [\n      { code: '', name: $localize`Use date format of display language` },\n    ].concat(this.settings.getDateLocaleOptions())\n  }\n\n  get today() {\n    return new Date()\n  }\n\n  saveSettings() {\n    let x = []\n    for (let id in this.savedViewGroup.value) {\n      x.push(this.savedViewGroup.value[id])\n    }\n    if (x.length > 0) {\n      this.savedViewService.patchMany(x).subscribe(\n        (s) => {\n          this.saveLocalSettings()\n        },\n        (error) => {\n          this.toastService.showError(\n            $localize`Error while storing settings on server: ${JSON.stringify(\n              error.error\n            )}`\n          )\n        }\n      )\n    } else {\n      this.saveLocalSettings()\n    }\n  }\n\n  clearThemeColor() {\n    this.settingsForm.get('themeColor').patchValue('')\n  }\n\n  editMailAccount(account: PaperlessMailAccount) {\n    const modal = this.modalService.open(MailAccountEditDialogComponent, {\n      backdrop: 'static',\n      size: 'xl',\n    })\n    modal.componentInstance.dialogMode = account ? 'edit' : 'create'\n    modal.componentInstance.object = account\n    modal.componentInstance.succeeded\n      .pipe(takeUntil(this.unsubscribeNotifier))\n      .subscribe({\n        next: (newMailAccount) => {\n          this.toastService.showInfo(\n            $localize`Saved account \"${newMailAccount.name}\".`\n          )\n          this.mailAccountService.clearCache()\n          this.mailAccountService.listAll().subscribe((r) => {\n            this.mailAccounts = r.results\n            this.initialize()\n          })\n        },\n        error: (e) => {\n          this.toastService.showError(\n            $localize`Error saving account: ${e.toString()}.`\n          )\n        },\n      })\n  }\n\n  deleteMailAccount(account: PaperlessMailAccount) {\n    const modal = this.modalService.open(ConfirmDialogComponent, {\n      backdrop: 'static',\n    })\n    modal.componentInstance.title = $localize`Confirm delete mail account`\n    modal.componentInstance.messageBold = $localize`This operation will permanently delete this mail account.`\n    modal.componentInstance.message = $localize`This operation cannot be undone.`\n    modal.componentInstance.btnClass = 'btn-danger'\n    modal.componentInstance.btnCaption = $localize`Proceed`\n    modal.componentInstance.confirmClicked.subscribe(() => {\n      modal.componentInstance.buttonsEnabled = false\n      this.mailAccountService.delete(account).subscribe({\n        next: () => {\n          modal.close()\n          this.toastService.showInfo($localize`Deleted mail account`)\n          this.mailAccountService.clearCache()\n          this.mailAccountService.listAll().subscribe((r) => {\n            this.mailAccounts = r.results\n            this.initialize()\n          })\n        },\n        error: (e) => {\n          this.toastService.showError(\n            $localize`Error deleting mail account: ${e.toString()}.`\n          )\n        },\n      })\n    })\n  }\n\n  editMailRule(rule: PaperlessMailRule) {\n    const modal = this.modalService.open(MailRuleEditDialogComponent, {\n      backdrop: 'static',\n      size: 'xl',\n    })\n    modal.componentInstance.dialogMode = rule ? 'edit' : 'create'\n    modal.componentInstance.object = rule\n    modal.componentInstance.succeeded\n      .pipe(takeUntil(this.unsubscribeNotifier))\n      .subscribe({\n        next: (newMailRule) => {\n          this.toastService.showInfo(\n            $localize`Saved rule \"${newMailRule.name}\".`\n          )\n          this.mailRuleService.clearCache()\n          this.mailRuleService.listAll().subscribe((r) => {\n            this.mailRules = r.results\n\n            this.initialize()\n          })\n        },\n        error: (e) => {\n          this.toastService.showError(\n            $localize`Error saving rule: ${e.toString()}.`\n          )\n        },\n      })\n  }\n\n  deleteMailRule(rule: PaperlessMailRule) {\n    const modal = this.modalService.open(ConfirmDialogComponent, {\n      backdrop: 'static',\n    })\n    modal.componentInstance.title = $localize`Confirm delete mail rule`\n    modal.componentInstance.messageBold = $localize`This operation will permanently delete this mail rule.`\n    modal.componentInstance.message = $localize`This operation cannot be undone.`\n    modal.componentInstance.btnClass = 'btn-danger'\n    modal.componentInstance.btnCaption = $localize`Proceed`\n    modal.componentInstance.confirmClicked.subscribe(() => {\n      modal.componentInstance.buttonsEnabled = false\n      this.mailRuleService.delete(rule).subscribe({\n        next: () => {\n          modal.close()\n          this.toastService.showInfo($localize`Deleted mail rule`)\n          this.mailRuleService.clearCache()\n          this.mailRuleService.listAll().subscribe((r) => {\n            this.mailRules = r.results\n            this.initialize()\n          })\n        },\n        error: (e) => {\n          this.toastService.showError(\n            $localize`Error deleting mail rule: ${e.toString()}.`\n          )\n        },\n      })\n    })\n  }\n}\n","<app-page-header title=\"Settings\" i18n-title>\n  <button class=\"btn btn-sm btn-outline-primary\" (click)=\"tourService.start()\"><ng-container i18n>Start tour</ng-container></button>\n  <a class=\"btn btn-sm btn-primary ms-3\" href=\"admin/\" target=\"_blank\">\n      <ng-container i18n>Open Django Admin</ng-container>\n      <svg class=\"sidebaricon ms-1\" fill=\"currentColor\">\n        <use xlink:href=\"assets/bootstrap-icons.svg#arrow-up-right\"/>\n      </svg>\n  </a>\n</app-page-header>\n\n<form [formGroup]=\"settingsForm\" (ngSubmit)=\"saveSettings()\">\n\n  <ul ngbNav #nav=\"ngbNav\" (navChange)=\"onNavChange($event)\" [(activeId)]=\"activeNavID\" class=\"nav-tabs\">\n    <li [ngbNavItem]=\"SettingsNavIDs.General\">\n      <a ngbNavLink i18n>General</a>\n      <ng-template ngbNavContent>\n\n        <h4 i18n>Appearance</h4>\n\n        <div class=\"row mb-3\">\n          <div class=\"col-md-3 col-form-label\">\n            <span i18n>Display language</span>\n          </div>\n          <div class=\"col\">\n\n            <select class=\"form-select\" formControlName=\"displayLanguage\">\n              <option *ngFor=\"let lang of displayLanguageOptions\" [ngValue]=\"lang.code\">{{lang.name}}<span *ngIf=\"lang.code && currentLocale !== 'en-US'\"> - {{lang.englishName}}</span></option>\n            </select>\n\n            <small *ngIf=\"displayLanguageIsDirty\" class=\"form-text text-primary\" i18n>You need to reload the page after applying a new language.</small>\n\n          </div>\n        </div>\n\n        <div class=\"row mb-3\">\n          <div class=\"col-md-3 col-form-label\">\n            <span i18n>Date display</span>\n          </div>\n          <div class=\"col\">\n\n            <select class=\"form-select\" formControlName=\"dateLocale\">\n              <option *ngFor=\"let lang of dateLocaleOptions\" [ngValue]=\"lang.code\">{{lang.name}}<span *ngIf=\"lang.code\"> - {{today | customDate:'shortDate':null:lang.code}}</span></option>\n            </select>\n\n          </div>\n        </div>\n\n        <div class=\"row mb-3\">\n          <div class=\"col-md-3 col-form-label\">\n            <span i18n>Date format</span>\n          </div>\n          <div class=\"col\">\n\n            <div class=\"form-check\">\n              <input type=\"radio\" id=\"dateFormatShort\" name=\"dateFormat\" class=\"form-check-input\" formControlName=\"dateFormat\" value=\"shortDate\">\n              <label class=\"form-check-label\" for=\"dateFormatShort\" i18n>Short: {{today | customDate:'shortDate':null:computedDateLocale}}</label>\n            </div>\n            <div class=\"form-check\">\n              <input type=\"radio\" id=\"dateFormatMedium\" name=\"dateFormat\" class=\"form-check-input\" formControlName=\"dateFormat\" value=\"mediumDate\">\n              <label class=\"form-check-label\" for=\"dateFormatMedium\" i18n>Medium: {{today | customDate:'mediumDate':null:computedDateLocale}}</label>\n            </div>\n            <div class=\"form-check\">\n              <input type=\"radio\" id=\"dateFormatLong\" name=\"dateFormat\" class=\"form-check-input\" formControlName=\"dateFormat\" value=\"longDate\">\n              <label class=\"form-check-label\" for=\"dateFormatLong\" i18n>Long: {{today | customDate:'longDate':null:computedDateLocale}}</label>\n            </div>\n\n          </div>\n        </div>\n\n        <div class=\"row mb-3\">\n          <div class=\"col-md-3 col-form-label\">\n            <span i18n>Items per page</span>\n          </div>\n          <div class=\"col\">\n\n            <select class=\"form-select\" formControlName=\"documentListItemPerPage\">\n              <option [ngValue]=\"10\">10</option>\n              <option [ngValue]=\"25\">25</option>\n              <option [ngValue]=\"50\">50</option>\n              <option [ngValue]=\"100\">100</option>\n            </select>\n\n          </div>\n        </div>\n\n        <div class=\"row mb-3\">\n          <div class=\"col-md-3 col-form-label\">\n            <span i18n>Document editor</span>\n          </div>\n          <div class=\"col\">\n\n            <app-input-check i18n-title title=\"Use PDF viewer provided by the browser\" i18n-hint hint=\"This is usually faster for displaying large PDF documents, but it might not work on some browsers.\" formControlName=\"useNativePdfViewer\"></app-input-check>\n\n          </div>\n        </div>\n\n        <div class=\"row mb-3\">\n          <div class=\"col-md-3 col-form-label\">\n            <span i18n>Sidebar</span>\n          </div>\n          <div class=\"col\">\n\n            <app-input-check i18n-title title=\"Use 'slim' sidebar (icons only)\" formControlName=\"slimSidebarEnabled\"></app-input-check>\n\n          </div>\n        </div>\n\n        <div class=\"row mb-3\">\n          <div class=\"col-md-3 col-form-label\">\n            <span i18n>Dark mode</span>\n          </div>\n          <div class=\"col\">\n            <app-input-check i18n-title title=\"Use system settings\" formControlName=\"darkModeUseSystem\"></app-input-check>\n            <app-input-check [hidden]=\"settingsForm.value.darkModeUseSystem\" i18n-title title=\"Enable dark mode\" formControlName=\"darkModeEnabled\"></app-input-check>\n            <app-input-check i18n-title title=\"Invert thumbnails in dark mode\" formControlName=\"darkModeInvertThumbs\"></app-input-check>\n          </div>\n        </div>\n\n        <div class=\"row mb-3\">\n          <div class=\"col-md-3 col-form-label\">\n            <span i18n>Theme Color</span>\n          </div>\n          <div class=\"col col-md-3\">\n            <app-input-color i18n-title formControlName=\"themeColor\" [error]=\"error?.color\"></app-input-color>\n          </div>\n          <div class=\"col-2\">\n            <button class=\"btn btn-link btn-sm pt-2 ps-0\" [disabled]=\"!this.settingsForm.get('themeColor').value\" (click)=\"clearThemeColor()\">\n              <svg width=\"1em\" height=\"1em\" viewBox=\"0 0 16 16\" class=\"bi bi-x me-1\" fill=\"currentColor\" xmlns=\"http://www.w3.org/2000/svg\">\n                <path fill-rule=\"evenodd\" d=\"M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708z\"/>\n              </svg><ng-container i18n>Reset</ng-container>\n            </button>\n          </div>\n        </div>\n\n        <h4 class=\"mt-4\" id=\"update-checking\" i18n>Update checking</h4>\n\n        <div class=\"row mb-3\">\n          <div class=\"offset-md-3 col\">\n            <p i18n>\n              Update checking works by pinging the the public <a href=\"https://api.github.com/repos/paperless-ngx/paperless-ngx/releases/latest\" target=\"_blank\" rel=\"noopener noreferrer\">Github API</a> for the latest release to determine whether a new version is available.<br/>\n              Actual updating of the app must still be performed manually.\n            </p>\n            <p i18n>\n              <em>No tracking data is collected by the app in any way.</em>\n            </p>\n            <app-input-check i18n-title title=\"Enable update checking\" formControlName=\"updateCheckingEnabled\" i18n-hint hint=\"Note that for users of third-party containers e.g. linuxserver.io this notification may be 'ahead' of the current third-party release.\"></app-input-check>\n          </div>\n        </div>\n\n        <h4 class=\"mt-4\" i18n>Bulk editing</h4>\n\n        <div class=\"row mb-3\">\n          <div class=\"offset-md-3 col\">\n            <app-input-check i18n-title title=\"Show confirmation dialogs\" formControlName=\"bulkEditConfirmationDialogs\" i18n-hint hint=\"Deleting documents will always ask for confirmation.\"></app-input-check>\n            <app-input-check i18n-title title=\"Apply on close\" formControlName=\"bulkEditApplyOnClose\"></app-input-check>\n          </div>\n        </div>\n\n        <h4 class=\"mt-4\" i18n>Comments</h4>\n\n        <div class=\"row mb-3\">\n          <div class=\"offset-md-3 col\">\n            <app-input-check i18n-title title=\"Enable comments\" formControlName=\"commentsEnabled\"></app-input-check>\n          </div>\n        </div>\n\n      </ng-template>\n    </li>\n\n    <li [ngbNavItem]=\"SettingsNavIDs.Notifications\">\n      <a ngbNavLink i18n>Notifications</a>\n      <ng-template ngbNavContent>\n\n        <h4 i18n>Document processing</h4>\n\n        <div class=\"row mb-3\">\n          <div class=\"offset-md-3 col\">\n            <app-input-check i18n-title title=\"Show notifications when new documents are detected\" formControlName=\"notificationsConsumerNewDocument\"></app-input-check>\n            <app-input-check i18n-title title=\"Show notifications when document processing completes successfully\" formControlName=\"notificationsConsumerSuccess\"></app-input-check>\n            <app-input-check i18n-title title=\"Show notifications when document processing fails\" formControlName=\"notificationsConsumerFailed\"></app-input-check>\n            <app-input-check i18n-title title=\"Suppress notifications on dashboard\" formControlName=\"notificationsConsumerSuppressOnDashboard\" i18n-hint hint=\"This will suppress all messages about document processing status on the dashboard.\"></app-input-check>\n          </div>\n        </div>\n\n      </ng-template>\n    </li>\n\n    <li [ngbNavItem]=\"SettingsNavIDs.SavedViews\" (mouseover)=\"maybeInitializeTab(SettingsNavIDs.SavedViews)\" (focusin)=\"maybeInitializeTab(SettingsNavIDs.SavedViews)\">\n      <a ngbNavLink i18n>Saved views</a>\n      <ng-template ngbNavContent>\n\n        <h4 i18n>Settings</h4>\n        <div class=\"row mb-3\">\n          <div class=\"offset-md-3 col\">\n            <app-input-check i18n-title title=\"Show warning when closing saved views with unsaved changes\" formControlName=\"savedViewsWarnOnUnsavedChange\"></app-input-check>\n          </div>\n        </div>\n\n        <h4 i18n>Views</h4>\n        <div formGroupName=\"savedViews\">\n\n            <div *ngFor=\"let view of savedViews\" [formGroupName]=\"view.id\" class=\"row\">\n              <div class=\"mb-3 col\">\n                <label class=\"form-label\" for=\"name_{{view.id}}\" i18n>Name</label>\n                <input type=\"text\" class=\"form-control\" formControlName=\"name\" id=\"name_{{view.id}}\">\n              </div>\n\n              <div class=\"mb-2 col\">\n                <label class=\"form-label\" for=\"show_on_dashboard_{{view.id}}\" i18n>Appears on</label>\n                <div class=\"form-check form-switch\">\n                  <input type=\"checkbox\" class=\"form-check-input\" id=\"show_on_dashboard_{{view.id}}\" formControlName=\"show_on_dashboard\">\n                  <label class=\"form-check-label\" for=\"show_on_dashboard_{{view.id}}\" i18n>Show on dashboard</label>\n                </div>\n                <div class=\"form-check form-switch\">\n                  <input type=\"checkbox\" class=\"form-check-input\" id=\"show_in_sidebar_{{view.id}}\" formControlName=\"show_in_sidebar\">\n                  <label class=\"form-check-label\" for=\"show_in_sidebar_{{view.id}}\" i18n>Show in sidebar</label>\n                </div>\n              </div>\n\n              <div class=\"mb-2 col-auto\">\n                <label class=\"form-label\" for=\"name_{{view.id}}\" i18n>Actions</label>\n                <button type=\"button\" class=\"btn btn-sm btn-outline-danger form-control\" (click)=\"deleteSavedView(view)\" i18n>Delete</button>\n              </div>\n            </div>\n\n            <div *ngIf=\"savedViews && savedViews.length === 0\" i18n>No saved views defined.</div>\n\n            <div *ngIf=\"!savedViews\">\n              <div class=\"spinner-border spinner-border-sm fw-normal ms-2 me-auto\" role=\"status\"></div>\n              <div class=\"visually-hidden\" i18n>Loading...</div>\n            </div>\n\n        </div>\n\n      </ng-template>\n    </li>\n\n    <li [ngbNavItem]=\"SettingsNavIDs.Mail\" (mouseover)=\"maybeInitializeTab(SettingsNavIDs.Mail)\" (focusin)=\"maybeInitializeTab(SettingsNavIDs.Mail)\">\n      <a ngbNavLink i18n>Mail</a>\n      <ng-template ngbNavContent>\n\n        <ng-container *ngIf=\"mailAccounts && mailRules\">\n          <h4>\n            <ng-container i18n>Mail accounts</ng-container>\n            <button type=\"button\" class=\"btn btn-sm btn-primary ms-4\" (click)=\"editMailAccount()\">\n              <svg class=\"sidebaricon me-1\" fill=\"currentColor\">\n                <use xlink:href=\"assets/bootstrap-icons.svg#plus-circle\" />\n              </svg>\n              <ng-container i18n>Add Account</ng-container>\n            </button>\n          </h4>\n          <ul class=\"list-group\" formGroupName=\"mailAccounts\">\n\n              <li class=\"list-group-item\">\n                <div class=\"row\">\n                  <div class=\"col\" i18n>Name</div>\n                  <div class=\"col\" i18n>Server</div>\n                  <div class=\"col\" i18n>Actions</div>\n                </div>\n              </li>\n\n              <li *ngFor=\"let account of mailAccounts\" class=\"list-group-item\" [formGroupName]=\"account.id\">\n                <div class=\"row\">\n                  <div class=\"col d-flex align-items-center\"><button class=\"btn btn-link p-0\" type=\"button\" (click)=\"editMailAccount(account)\">{{account.name}}</button></div>\n                  <div class=\"col d-flex align-items-center\">{{account.imap_server}}</div>\n                  <div class=\"col\">\n                    <div class=\"btn-group\">\n                      <button class=\"btn btn-sm btn-primary\" type=\"button\" (click)=\"editMailAccount(account)\" i18n>Edit</button>\n                      <button class=\"btn btn-sm btn-outline-danger\" type=\"button\" (click)=\"deleteMailAccount(account)\" i18n>Delete</button>\n                    </div>\n                  </div>\n                </div>\n              </li>\n\n              <div *ngIf=\"mailAccounts.length === 0\" i18n>No mail accounts defined.</div>\n          </ul>\n\n          <h4 class=\"mt-4\">\n            <ng-container i18n>Mail rules</ng-container>\n            <button type=\"button\" class=\"btn btn-sm btn-primary ms-4\" (click)=\"editMailRule()\">\n              <svg class=\"sidebaricon me-1\" fill=\"currentColor\">\n                <use xlink:href=\"assets/bootstrap-icons.svg#plus-circle\" />\n              </svg>\n              <ng-container i18n>Add Rule</ng-container>\n            </button>\n          </h4>\n          <ul class=\"list-group\" formGroupName=\"mailRules\">\n\n              <li class=\"list-group-item\">\n                <div class=\"row\">\n                  <div class=\"col\" i18n>Name</div>\n                  <div class=\"col\" i18n>Account</div>\n                  <div class=\"col\" i18n>Actions</div>\n                </div>\n              </li>\n\n              <li *ngFor=\"let rule of mailRules\" class=\"list-group-item\" [formGroupName]=\"rule.id\">\n                <div class=\"row\">\n                  <div class=\"col d-flex align-items-center\"><button class=\"btn btn-link p-0\" type=\"button\" (click)=\"editMailRule(rule)\">{{rule.name}}</button></div>\n                  <div class=\"col d-flex align-items-center\">{{(mailAccountService.getCached(rule.account) | async)?.name}}</div>\n                  <div class=\"col\">\n                    <div class=\"btn-group\">\n                      <button class=\"btn btn-sm btn-primary\" type=\"button\" (click)=\"editMailRule(rule)\" i18n>Edit</button>\n                      <button class=\"btn btn-sm btn-outline-danger\" type=\"button\" (click)=\"deleteMailRule(rule)\" i18n>Delete</button>\n                    </div>\n                  </div>\n                </div>\n              </li>\n\n              <div *ngIf=\"mailRules.length === 0\" i18n>No mail rules defined.</div>\n          </ul>\n        </ng-container>\n\n        <div *ngIf=\"!mailAccounts || !mailRules\">\n          <div class=\"spinner-border spinner-border-sm fw-normal ms-2 me-auto\" role=\"status\"></div>\n          <div class=\"visually-hidden\" i18n>Loading...</div>\n        </div>\n\n      </ng-template>\n    </li>\n  </ul>\n\n  <div [ngbNavOutlet]=\"nav\" class=\"border-start border-end border-bottom p-3 mb-3 shadow-sm\"></div>\n\n  <button type=\"submit\" class=\"btn btn-primary mb-2\" [disabled]=\"(isDirty$ | async) === false\" i18n>Save</button>\n</form>\n","import { Component } from '@angular/core'\nimport { NgbModal } from '@ng-bootstrap/ng-bootstrap'\nimport { FILTER_STORAGE_PATH } from 'src/app/data/filter-rule-type'\nimport { PaperlessStoragePath } from 'src/app/data/paperless-storage-path'\nimport { DocumentListViewService } from 'src/app/services/document-list-view.service'\nimport { StoragePathService } from 'src/app/services/rest/storage-path.service'\nimport { ToastService } from 'src/app/services/toast.service'\nimport { StoragePathEditDialogComponent } from '../../common/edit-dialog/storage-path-edit-dialog/storage-path-edit-dialog.component'\nimport { ManagementListComponent } from '../management-list/management-list.component'\n\n@Component({\n  selector: 'app-storage-path-list',\n  templateUrl: './../management-list/management-list.component.html',\n  styleUrls: ['./../management-list/management-list.component.scss'],\n})\nexport class StoragePathListComponent extends ManagementListComponent<PaperlessStoragePath> {\n  constructor(\n    directoryService: StoragePathService,\n    modalService: NgbModal,\n    toastService: ToastService,\n    documentListViewService: DocumentListViewService\n  ) {\n    super(\n      directoryService,\n      modalService,\n      StoragePathEditDialogComponent,\n      toastService,\n      documentListViewService,\n      FILTER_STORAGE_PATH,\n      $localize`storage path`,\n      $localize`storage paths`,\n      [\n        {\n          key: 'path',\n          name: $localize`Path`,\n          valueFn: (c: PaperlessStoragePath) => {\n            return c.path\n          },\n        },\n      ]\n    )\n  }\n\n  getDeleteMessage(object: PaperlessStoragePath) {\n    return $localize`Do you really want to delete the storage path \"${object.name}\"?`\n  }\n}\n","import { Component } from '@angular/core'\nimport { NgbModal } from '@ng-bootstrap/ng-bootstrap'\nimport { FILTER_HAS_TAGS_ALL } from 'src/app/data/filter-rule-type'\nimport { PaperlessTag } from 'src/app/data/paperless-tag'\nimport { DocumentListViewService } from 'src/app/services/document-list-view.service'\nimport { TagService } from 'src/app/services/rest/tag.service'\nimport { ToastService } from 'src/app/services/toast.service'\nimport { TagEditDialogComponent } from '../../common/edit-dialog/tag-edit-dialog/tag-edit-dialog.component'\nimport { ManagementListComponent } from '../management-list/management-list.component'\n\n@Component({\n  selector: 'app-tag-list',\n  templateUrl: './../management-list/management-list.component.html',\n  styleUrls: ['./../management-list/management-list.component.scss'],\n})\nexport class TagListComponent extends ManagementListComponent<PaperlessTag> {\n  constructor(\n    tagService: TagService,\n    modalService: NgbModal,\n    toastService: ToastService,\n    documentListViewService: DocumentListViewService\n  ) {\n    super(\n      tagService,\n      modalService,\n      TagEditDialogComponent,\n      toastService,\n      documentListViewService,\n      FILTER_HAS_TAGS_ALL,\n      $localize`tag`,\n      $localize`tags`,\n      [\n        {\n          key: 'color',\n          name: $localize`Color`,\n          rendersHtml: true,\n          valueFn: (t: PaperlessTag) => {\n            return `<span class=\"badge\" style=\"color: ${t.text_color}; background-color: ${t.color}\">${t.color}</span>`\n          },\n        },\n      ]\n    )\n  }\n\n  getDeleteMessage(object: PaperlessTag) {\n    return $localize`Do you really want to delete the tag \"${object.name}\"?`\n  }\n}\n","import { Component, OnInit, OnDestroy } from '@angular/core'\nimport { Router } from '@angular/router'\nimport { NgbModal } from '@ng-bootstrap/ng-bootstrap'\nimport { Subject, first } from 'rxjs'\nimport { PaperlessTask } from 'src/app/data/paperless-task'\nimport { TasksService } from 'src/app/services/tasks.service'\nimport { ConfirmDialogComponent } from '../../common/confirm-dialog/confirm-dialog.component'\n\n@Component({\n  selector: 'app-tasks',\n  templateUrl: './tasks.component.html',\n  styleUrls: ['./tasks.component.scss'],\n})\nexport class TasksComponent implements OnInit, OnDestroy {\n  public activeTab: string\n  public selectedTasks: Set<number> = new Set()\n  private unsubscribeNotifer = new Subject()\n  public expandedTask: number\n\n  get dismissButtonText(): string {\n    return this.selectedTasks.size > 0\n      ? $localize`Dismiss selected`\n      : $localize`Dismiss all`\n  }\n\n  constructor(\n    public tasksService: TasksService,\n    private modalService: NgbModal,\n    private readonly router: Router\n  ) {}\n\n  ngOnInit() {\n    this.tasksService.reload()\n  }\n\n  ngOnDestroy() {\n    this.unsubscribeNotifer.next(true)\n  }\n\n  dismissTask(task: PaperlessTask) {\n    this.dismissTasks(task)\n  }\n\n  dismissTasks(task: PaperlessTask = undefined) {\n    let tasks = task ? new Set([task.id]) : this.selectedTasks\n    if (!task && this.selectedTasks.size == 0)\n      tasks = new Set(this.tasksService.allFileTasks.map((t) => t.id))\n    if (tasks.size > 1) {\n      let modal = this.modalService.open(ConfirmDialogComponent, {\n        backdrop: 'static',\n      })\n      modal.componentInstance.title = $localize`Confirm Dismiss All`\n      modal.componentInstance.messageBold =\n        $localize`Dismiss all` + ` ${tasks.size} ` + $localize`tasks?`\n      modal.componentInstance.btnClass = 'btn-warning'\n      modal.componentInstance.btnCaption = $localize`Dismiss`\n      modal.componentInstance.confirmClicked.pipe(first()).subscribe(() => {\n        modal.componentInstance.buttonsEnabled = false\n        modal.close()\n        this.tasksService.dismissTasks(tasks)\n        this.selectedTasks.clear()\n      })\n    } else {\n      this.tasksService.dismissTasks(tasks)\n      this.selectedTasks.clear()\n    }\n  }\n\n  dismissAndGo(task: PaperlessTask) {\n    this.dismissTask(task)\n    this.router.navigate(['documents', task.related_document])\n  }\n\n  expandTask(task: PaperlessTask) {\n    this.expandedTask = this.expandedTask == task.id ? undefined : task.id\n  }\n\n  toggleSelected(task: PaperlessTask) {\n    this.selectedTasks.has(task.id)\n      ? this.selectedTasks.delete(task.id)\n      : this.selectedTasks.add(task.id)\n  }\n\n  get currentTasks(): PaperlessTask[] {\n    let tasks: PaperlessTask[]\n    switch (this.activeTab) {\n      case 'queued':\n        tasks = this.tasksService.queuedFileTasks\n        break\n      case 'started':\n        tasks = this.tasksService.startedFileTasks\n        break\n      case 'completed':\n        tasks = this.tasksService.completedFileTasks\n        break\n      case 'failed':\n        tasks = this.tasksService.failedFileTasks\n        break\n      default:\n        break\n    }\n    return tasks\n  }\n\n  toggleAll(event: PointerEvent) {\n    if ((event.target as HTMLInputElement).checked) {\n      this.selectedTasks = new Set(this.currentTasks.map((t) => t.id))\n    } else {\n      this.clearSelection()\n    }\n  }\n\n  clearSelection() {\n    this.selectedTasks.clear()\n  }\n}\n","<app-page-header title=\"File Tasks\" i18n-title>\n  <div class=\"btn-toolbar col col-md-auto\">\n    <button class=\"btn btn-sm btn-outline-secondary me-2\" (click)=\"clearSelection()\" [hidden]=\"selectedTasks.size === 0\">\n      <svg class=\"sidebaricon\" fill=\"currentColor\">\n        <use xlink:href=\"assets/bootstrap-icons.svg#x\"/>\n      </svg>&nbsp;<ng-container i18n>Clear selection</ng-container>\n    </button>\n    <button class=\"btn btn-sm btn-outline-primary me-4\" (click)=\"dismissTasks()\" [disabled]=\"tasksService.total === 0\">\n      <svg class=\"sidebaricon\" fill=\"currentColor\">\n        <use xlink:href=\"assets/bootstrap-icons.svg#check2-all\"/>\n      </svg>&nbsp;<ng-container i18n>{{dismissButtonText}}</ng-container>\n    </button>\n    <button class=\"btn btn-sm btn-outline-primary\" (click)=\"tasksService.reload()\">\n      <svg *ngIf=\"!tasksService.loading\" class=\"sidebaricon\" fill=\"currentColor\">\n        <use xlink:href=\"assets/bootstrap-icons.svg#arrow-clockwise\"/>\n      </svg>\n      <ng-container *ngIf=\"tasksService.loading\">\n        <div class=\"spinner-border spinner-border-sm fw-normal\" role=\"status\"></div>\n        <div class=\"visually-hidden\" i18n>Loading...</div>\n      </ng-container>&nbsp;<ng-container i18n>Refresh</ng-container>\n    </button>\n  </div>\n</app-page-header>\n\n<ng-container *ngIf=\"!tasksService.completedFileTasks && tasksService.loading\">\n  <div class=\"spinner-border spinner-border-sm fw-normal ms-2 me-auto\" role=\"status\"></div>\n  <div class=\"visually-hidden\" i18n>Loading...</div>\n</ng-container>\n\n<ng-template let-tasks=\"tasks\" #tasksTemplate>\n  <table class=\"table table-striped align-middle border shadow-sm\">\n    <thead>\n      <tr>\n        <th scope=\"col\">\n          <div class=\"form-check\">\n            <input type=\"checkbox\" class=\"form-check-input\" id=\"all-tasks\" [disabled]=\"currentTasks.length === 0\" (click)=\"toggleAll($event); $event.stopPropagation();\">\n            <label class=\"form-check-label\" for=\"all-tasks\"></label>\n          </div>\n        </th>\n        <th scope=\"col\" i18n>Name</th>\n        <th scope=\"col\" class=\"d-none d-lg-table-cell\" i18n>Created</th>\n        <th scope=\"col\" class=\"d-none d-lg-table-cell\" *ngIf=\"activeTab !== 'started' && activeTab !== 'queued'\" i18n>Results</th>\n        <th scope=\"col\" class=\"d-table-cell d-lg-none\" i18n>Info</th>\n        <th scope=\"col\" i18n>Actions</th>\n      </tr>\n    </thead>\n    <tbody>\n      <ng-container *ngFor=\"let task of tasks\">\n      <tr (click)=\"toggleSelected(task, $event); $event.stopPropagation();\">\n        <th>\n          <div class=\"form-check\">\n            <input type=\"checkbox\" class=\"form-check-input\" id=\"task{{task.id}}\" [checked]=\"selectedTasks.has(task.id)\" (click)=\"toggleSelected(task, $event); $event.stopPropagation();\">\n            <label class=\"form-check-label\" for=\"task{{task.id}}\"></label>\n          </div>\n        </th>\n        <td class=\"overflow-auto\">{{ task.task_file_name }}</td>\n        <td class=\"d-none d-lg-table-cell\">{{ task.date_created | customDate:'short' }}</td>\n        <td class=\"d-none d-lg-table-cell\" *ngIf=\"activeTab !== 'started' && activeTab !== 'queued'\">\n          <div *ngIf=\"task.result?.length > 50\" class=\"result\" (click)=\"expandTask(task); $event.stopPropagation();\"\n            [ngbPopover]=\"resultPopover\" popoverClass=\"shadow small mobile\" triggers=\"mouseenter:mouseleave\" container=\"body\">\n            <span class=\"small d-none d-md-inline-block font-monospace text-muted\">{{ task.result | slice:0:50 }}&hellip;</span>\n          </div>\n          <span *ngIf=\"task.result?.length <= 50\" class=\"small d-none d-md-inline-block font-monospace text-muted\">{{ task.result }}</span>\n          <ng-template #resultPopover>\n            <pre class=\"small mb-0\">{{ task.result | slice:0:300 }}<ng-container *ngIf=\"task.result.length > 300\">&hellip;</ng-container></pre>\n            <ng-container *ngIf=\"task.result?.length > 300\"><br/><em>(<ng-container i18n>click for full output</ng-container>)</em></ng-container>\n          </ng-template>\n        </td>\n        <td class=\"d-lg-none\">\n          <button class=\"btn btn-link\" (click)=\"expandTask(task); $event.stopPropagation();\">\n            <svg fill=\"currentColor\" class=\"\" width=\"1.2em\" height=\"1.2em\" style=\"vertical-align: text-top;\" viewBox=\"0 0 16 16\">\n              <use xlink:href=\"assets/bootstrap-icons.svg#info-circle\" />\n            </svg>\n          </button>\n        </td>\n        <td scope=\"row\">\n          <div class=\"btn-group\" role=\"group\">\n            <button class=\"btn btn-sm btn-outline-secondary\" (click)=\"dismissTask(task); $event.stopPropagation();\">\n              <svg class=\"sidebaricon\" fill=\"currentColor\">\n                <use xlink:href=\"assets/bootstrap-icons.svg#check\"/>\n              </svg>&nbsp;<ng-container i18n>Dismiss</ng-container>\n            </button>\n            <button *ngIf=\"task.related_document\" class=\"btn btn-sm btn-outline-primary\" (click)=\"dismissAndGo(task); $event.stopPropagation();\">\n              <svg class=\"sidebaricon\" fill=\"currentColor\">\n                <use xlink:href=\"assets/bootstrap-icons.svg#file-text\"/>\n              </svg>&nbsp;<ng-container i18n>Open Document</ng-container>\n            </button>\n          </div>\n        </td>\n      </tr>\n      <tr>\n        <td class=\"p-0\" [class.border-0]=\"expandedTask !== task.id\" colspan=\"5\">\n          <pre #collapse=\"ngbCollapse\" [ngbCollapse]=\"expandedTask !== task.id\" class=\"small mb-0\"><div class=\"small p-1 p-lg-3 ms-lg-3\">{{ task.result }}</div></pre>\n        </td>\n      </tr>\n      </ng-container>\n    </tbody>\n  </table>\n</ng-template>\n\n<ul ngbNav #nav=\"ngbNav\" [(activeId)]=\"activeTab\" class=\"nav-tabs\">\n  <li ngbNavItem=\"failed\">\n    <a ngbNavLink i18n>Failed&nbsp;<span *ngIf=\"tasksService.failedFileTasks.length > 0\" class=\"badge bg-danger ms-1\">{{tasksService.failedFileTasks.length}}</span></a>\n    <ng-template ngbNavContent>\n      <ng-container [ngTemplateOutlet]=\"tasksTemplate\" [ngTemplateOutletContext]=\"{tasks:tasksService.failedFileTasks}\"></ng-container>\n    </ng-template>\n  </li>\n  <li ngbNavItem=\"completed\">\n    <a ngbNavLink i18n>Complete&nbsp;<span *ngIf=\"tasksService.completedFileTasks.length > 0\" class=\"badge bg-secondary ms-1\">{{tasksService.completedFileTasks.length}}</span></a>\n    <ng-template ngbNavContent>\n      <ng-container [ngTemplateOutlet]=\"tasksTemplate\" [ngTemplateOutletContext]=\"{tasks:tasksService.completedFileTasks}\"></ng-container>\n    </ng-template>\n  </li>\n  <li ngbNavItem=\"started\">\n    <a ngbNavLink i18n>Started&nbsp;<span *ngIf=\"tasksService.startedFileTasks.length > 0\" class=\"badge bg-secondary ms-1\">{{tasksService.startedFileTasks.length}}</span></a>\n    <ng-template ngbNavContent>\n      <ng-container [ngTemplateOutlet]=\"tasksTemplate\" [ngTemplateOutletContext]=\"{tasks:tasksService.startedFileTasks}\"></ng-container>\n    </ng-template>\n  </li>\n  <li ngbNavItem=\"queued\">\n    <a ngbNavLink i18n>Queued&nbsp;<span *ngIf=\"tasksService.queuedFileTasks.length > 0\" class=\"badge bg-secondary ms-1\">{{tasksService.queuedFileTasks.length}}</span></a>\n    <ng-template ngbNavContent>\n      <ng-container [ngTemplateOutlet]=\"tasksTemplate\" [ngTemplateOutletContext]=\"{tasks:tasksService.queuedFileTasks}\"></ng-container>\n    </ng-template>\n  </li>\n</ul>\n<div [ngbNavOutlet]=\"nav\"></div>\n","import { Component } from '@angular/core'\n\n@Component({\n  selector: 'app-not-found',\n  templateUrl: './not-found.component.html',\n  styleUrls: ['./not-found.component.scss'],\n})\nexport class NotFoundComponent {\n  constructor() {}\n}\n","<div class=\"jumbotron text-center\">\n    <svg width=\"5em\" height=\"7em\" viewBox=\"0 0 16 16\" class=\"bi bi-emoji-frown\" fill=\"currentColor\" xmlns=\"http://www.w3.org/2000/svg\">\n        <path fill-rule=\"evenodd\" d=\"M8 15A7 7 0 1 0 8 1a7 7 0 0 0 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z\"/>\n        <path fill-rule=\"evenodd\" d=\"M4.285 12.433a.5.5 0 0 0 .683-.183A3.498 3.498 0 0 1 8 10.5c1.295 0 2.426.703 3.032 1.75a.5.5 0 0 0 .866-.5A4.498 4.498 0 0 0 8 9.5a4.5 4.5 0 0 0-3.898 2.25.5.5 0 0 0 .183.683z\"/>\n        <path d=\"M7 6.5C7 7.328 6.552 8 6 8s-1-.672-1-1.5S5.448 5 6 5s1 .672 1 1.5zm4 0c0 .828-.448 1.5-1 1.5s-1-.672-1-1.5S9.448 5 10 5s1 .672 1 1.5z\"/>\n      </svg>\n    <h1 i18n>404 Not Found</h1>\n</div>\n","// These correspond to src/documents/models.py and changes here require a DB migration (and vice versa)\nexport const FILTER_TITLE = 0\nexport const FILTER_CONTENT = 1\n\nexport const FILTER_ASN = 2\nexport const FILTER_ASN_ISNULL = 18\nexport const FILTER_ASN_GT = 23\nexport const FILTER_ASN_LT = 24\n\nexport const FILTER_CORRESPONDENT = 3\n\nexport const FILTER_DOCUMENT_TYPE = 4\n\nexport const FILTER_IS_IN_INBOX = 5\nexport const FILTER_HAS_TAGS_ALL = 6\nexport const FILTER_HAS_ANY_TAG = 7\nexport const FILTER_DOES_NOT_HAVE_TAG = 17\nexport const FILTER_HAS_TAGS_ANY = 22\n\nexport const FILTER_STORAGE_PATH = 25\n\nexport const FILTER_CREATED_BEFORE = 8\nexport const FILTER_CREATED_AFTER = 9\nexport const FILTER_CREATED_YEAR = 10\nexport const FILTER_CREATED_MONTH = 11\nexport const FILTER_CREATED_DAY = 12\n\nexport const FILTER_ADDED_BEFORE = 13\nexport const FILTER_ADDED_AFTER = 14\n\nexport const FILTER_MODIFIED_BEFORE = 15\nexport const FILTER_MODIFIED_AFTER = 16\n\nexport const FILTER_TITLE_CONTENT = 19\nexport const FILTER_FULLTEXT_QUERY = 20\nexport const FILTER_FULLTEXT_MORELIKE = 21\n\nexport const FILTER_RULE_TYPES: FilterRuleType[] = [\n  {\n    id: FILTER_TITLE,\n    filtervar: 'title__icontains',\n    datatype: 'string',\n    multi: false,\n    default: '',\n  },\n  {\n    id: FILTER_CONTENT,\n    filtervar: 'content__icontains',\n    datatype: 'string',\n    multi: false,\n    default: '',\n  },\n  {\n    id: FILTER_ASN,\n    filtervar: 'archive_serial_number',\n    datatype: 'number',\n    multi: false,\n  },\n  {\n    id: FILTER_CORRESPONDENT,\n    filtervar: 'correspondent__id',\n    isnull_filtervar: 'correspondent__isnull',\n    datatype: 'correspondent',\n    multi: false,\n  },\n  {\n    id: FILTER_STORAGE_PATH,\n    filtervar: 'storage_path__id',\n    isnull_filtervar: 'storage_path__isnull',\n    datatype: 'storage_path',\n    multi: false,\n  },\n  {\n    id: FILTER_DOCUMENT_TYPE,\n    filtervar: 'document_type__id',\n    isnull_filtervar: 'document_type__isnull',\n    datatype: 'document_type',\n    multi: false,\n  },\n  {\n    id: FILTER_IS_IN_INBOX,\n    filtervar: 'is_in_inbox',\n    datatype: 'boolean',\n    multi: false,\n    default: true,\n  },\n  {\n    id: FILTER_HAS_TAGS_ALL,\n    filtervar: 'tags__id__all',\n    datatype: 'tag',\n    multi: true,\n  },\n  {\n    id: FILTER_HAS_TAGS_ANY,\n    filtervar: 'tags__id__in',\n    datatype: 'tag',\n    multi: true,\n  },\n  {\n    id: FILTER_DOES_NOT_HAVE_TAG,\n    filtervar: 'tags__id__none',\n    datatype: 'tag',\n    multi: true,\n  },\n  {\n    id: FILTER_HAS_ANY_TAG,\n    filtervar: 'is_tagged',\n    datatype: 'boolean',\n    multi: false,\n    default: true,\n  },\n  {\n    id: FILTER_CREATED_BEFORE,\n    filtervar: 'created__date__lt',\n    datatype: 'date',\n    multi: false,\n  },\n  {\n    id: FILTER_CREATED_AFTER,\n    filtervar: 'created__date__gt',\n    datatype: 'date',\n    multi: false,\n  },\n  {\n    id: FILTER_CREATED_YEAR,\n    filtervar: 'created__year',\n    datatype: 'number',\n    multi: false,\n  },\n  {\n    id: FILTER_CREATED_MONTH,\n    filtervar: 'created__month',\n    datatype: 'number',\n    multi: false,\n  },\n  {\n    id: FILTER_CREATED_DAY,\n    filtervar: 'created__day',\n    datatype: 'number',\n    multi: false,\n  },\n\n  {\n    id: FILTER_ADDED_BEFORE,\n    filtervar: 'added__date__lt',\n    datatype: 'date',\n    multi: false,\n  },\n  {\n    id: FILTER_ADDED_AFTER,\n    filtervar: 'added__date__gt',\n    datatype: 'date',\n    multi: false,\n  },\n  {\n    id: FILTER_MODIFIED_BEFORE,\n    filtervar: 'modified__date__lt',\n    datatype: 'date',\n    multi: false,\n  },\n  {\n    id: FILTER_MODIFIED_AFTER,\n    filtervar: 'modified__date__gt',\n    datatype: 'date',\n    multi: false,\n  },\n  {\n    id: FILTER_ASN_ISNULL,\n    filtervar: 'archive_serial_number__isnull',\n    datatype: 'boolean',\n    multi: false,\n  },\n  {\n    id: FILTER_ASN_GT,\n    filtervar: 'archive_serial_number__gt',\n    datatype: 'number',\n    multi: false,\n  },\n  {\n    id: FILTER_ASN_LT,\n    filtervar: 'archive_serial_number__lt',\n    datatype: 'number',\n    multi: false,\n  },\n  {\n    id: FILTER_TITLE_CONTENT,\n    filtervar: 'title_content',\n    datatype: 'string',\n    multi: false,\n  },\n  {\n    id: FILTER_FULLTEXT_QUERY,\n    filtervar: 'query',\n    datatype: 'string',\n    multi: false,\n  },\n  {\n    id: FILTER_FULLTEXT_MORELIKE,\n    filtervar: 'more_like_id',\n    datatype: 'number',\n    multi: false,\n  },\n]\n\nexport interface FilterRuleType {\n  id: number\n  filtervar: string\n  isnull_filtervar?: string\n  datatype: string //number, string, boolean, date\n  multi: boolean\n  default?: any\n}\n","import {\n  FILTER_FULLTEXT_MORELIKE,\n  FILTER_FULLTEXT_QUERY,\n} from './filter-rule-type'\n\nexport function cloneFilterRules(filterRules: FilterRule[]): FilterRule[] {\n  if (filterRules) {\n    let newRules: FilterRule[] = []\n    for (let rule of filterRules) {\n      newRules.push({ rule_type: rule.rule_type, value: rule.value })\n    }\n    return newRules\n  } else {\n    return null\n  }\n}\n\nexport function isFullTextFilterRule(filterRules: FilterRule[]): boolean {\n  return (\n    filterRules.find(\n      (r) =>\n        r.rule_type == FILTER_FULLTEXT_QUERY ||\n        r.rule_type == FILTER_FULLTEXT_MORELIKE\n    ) != null\n  )\n}\n\nexport function filterRulesDiffer(\n  filterRulesA: FilterRule[],\n  filterRulesB: FilterRule[]\n): boolean {\n  let differ = false\n  if (filterRulesA.length != filterRulesB.length) {\n    differ = true\n  } else {\n    differ = filterRulesA.some((rule) => {\n      return (\n        filterRulesB.find(\n          (fri) => fri.rule_type == rule.rule_type && fri.value == rule.value\n        ) == undefined\n      )\n    })\n  }\n  return differ\n}\n\nexport interface FilterRule {\n  rule_type: number\n  value: string\n}\n","import { ObjectWithId } from './object-with-id'\n\nexport const MATCH_ANY = 1\nexport const MATCH_ALL = 2\nexport const MATCH_LITERAL = 3\nexport const MATCH_REGEX = 4\nexport const MATCH_FUZZY = 5\nexport const MATCH_AUTO = 6\nexport const DEFAULT_MATCHING_ALGORITHM = MATCH_AUTO\n\nexport const MATCHING_ALGORITHMS = [\n  {\n    id: MATCH_ANY,\n    shortName: $localize`Any word`,\n    name: $localize`Any: Document contains any of these words (space separated)`,\n  },\n  {\n    id: MATCH_ALL,\n    shortName: $localize`All words`,\n    name: $localize`All: Document contains all of these words (space separated)`,\n  },\n  {\n    id: MATCH_LITERAL,\n    shortName: $localize`Exact match`,\n    name: $localize`Exact: Document contains this string`,\n  },\n  {\n    id: MATCH_REGEX,\n    shortName: $localize`Regular expression`,\n    name: $localize`Regular expression: Document matches this regular expression`,\n  },\n  {\n    id: MATCH_FUZZY,\n    shortName: $localize`Fuzzy word`,\n    name: $localize`Fuzzy: Document contains a word similar to this word`,\n  },\n  {\n    id: MATCH_AUTO,\n    shortName: $localize`Automatic`,\n    name: $localize`Auto: Learn matching automatically`,\n  },\n]\n\nexport interface MatchingModel extends ObjectWithId {\n  name?: string\n\n  slug?: string\n\n  match?: string\n\n  matching_algorithm?: number\n\n  is_insensitive?: boolean\n\n  document_count?: number\n}\n","import { ObjectWithId } from './object-with-id'\n\nexport enum IMAPSecurity {\n  None = 1,\n  SSL = 2,\n  STARTTLS = 3,\n}\n\nexport interface PaperlessMailAccount extends ObjectWithId {\n  name: string\n\n  imap_server: string\n\n  imap_port: number\n\n  imap_security: IMAPSecurity\n\n  username: string\n\n  password: string\n\n  character_set?: string\n}\n","import { ObjectWithId } from './object-with-id'\n\nexport enum MailFilterAttachmentType {\n  Attachments = 1,\n  Everything = 2,\n}\n\nexport enum MailRuleConsumptionScope {\n  Attachments = 1,\n  Email_Only = 2,\n  Everything = 3,\n}\n\nexport enum MailAction {\n  Delete = 1,\n  Move = 2,\n  MarkRead = 3,\n  Flag = 4,\n  Tag = 5,\n}\n\nexport enum MailMetadataTitleOption {\n  FromSubject = 1,\n  FromFilename = 2,\n}\n\nexport enum MailMetadataCorrespondentOption {\n  FromNothing = 1,\n  FromEmail = 2,\n  FromName = 3,\n  FromCustom = 4,\n}\n\nexport interface PaperlessMailRule extends ObjectWithId {\n  name: string\n\n  account: number // PaperlessMailAccount.id\n\n  order: number\n\n  folder: string\n\n  filter_from: string\n\n  filter_subject: string\n\n  filter_body: string\n\n  filter_attachment_filename: string\n\n  maximum_age: number\n\n  attachment_type: MailFilterAttachmentType\n\n  action: MailAction\n\n  action_parameter?: string\n\n  assign_title_from: MailMetadataTitleOption\n\n  assign_tags?: number[] // PaperlessTag.id\n\n  assign_document_type?: number // PaperlessDocumentType.id\n\n  assign_correspondent_from?: MailMetadataCorrespondentOption\n\n  assign_correspondent?: number // PaperlessCorrespondent.id\n}\n","import { ObjectWithId } from './object-with-id'\n\nexport enum PaperlessTaskType {\n  // just file tasks, for now\n  File = 'file',\n}\n\nexport enum PaperlessTaskStatus {\n  Pending = 'PENDING',\n  Started = 'STARTED',\n  Complete = 'SUCCESS',\n  Failed = 'FAILURE',\n}\n\nexport interface PaperlessTask extends ObjectWithId {\n  type: PaperlessTaskType\n\n  status: PaperlessTaskStatus\n\n  acknowledged: boolean\n\n  task_id: string\n\n  task_file_name: string\n\n  date_created: Date\n\n  date_done?: Date\n\n  result?: string\n\n  related_document?: number\n}\n","export interface PaperlessUiSettings {\n  user_id: number\n\n  username: string\n\n  display_name: string\n\n  settings: Object\n}\n\nexport interface PaperlessUiSetting {\n  key: string\n  type: string\n  default: any\n}\n\nexport const SETTINGS_KEYS = {\n  LANGUAGE: 'language',\n  // maintain old general-settings: for backwards compatibility\n  BULK_EDIT_CONFIRMATION_DIALOGS:\n    'general-settings:bulk-edit:confirmation-dialogs',\n  BULK_EDIT_APPLY_ON_CLOSE: 'general-settings:bulk-edit:apply-on-close',\n  DOCUMENT_LIST_SIZE: 'general-settings:documentListSize',\n  DARK_MODE_USE_SYSTEM: 'general-settings:dark-mode:use-system',\n  DARK_MODE_ENABLED: 'general-settings:dark-mode:enabled',\n  DARK_MODE_THUMB_INVERTED: 'general-settings:dark-mode:thumb-inverted',\n  THEME_COLOR: 'general-settings:theme:color',\n  USE_NATIVE_PDF_VIEWER: 'general-settings:document-details:native-pdf-viewer',\n  DATE_LOCALE: 'general-settings:date-display:date-locale',\n  DATE_FORMAT: 'general-settings:date-display:date-format',\n  NOTIFICATIONS_CONSUMER_NEW_DOCUMENT:\n    'general-settings:notifications:consumer-new-documents',\n  NOTIFICATIONS_CONSUMER_SUCCESS:\n    'general-settings:notifications:consumer-success',\n  NOTIFICATIONS_CONSUMER_FAILED:\n    'general-settings:notifications:consumer-failed',\n  NOTIFICATIONS_CONSUMER_SUPPRESS_ON_DASHBOARD:\n    'general-settings:notifications:consumer-suppress-on-dashboard',\n  COMMENTS_ENABLED: 'general-settings:comments-enabled',\n  SLIM_SIDEBAR: 'general-settings:slim-sidebar',\n  UPDATE_CHECKING_ENABLED: 'general-settings:update-checking:enabled',\n  UPDATE_CHECKING_BACKEND_SETTING:\n    'general-settings:update-checking:backend-setting',\n  SAVED_VIEWS_WARN_ON_UNSAVED_CHANGE:\n    'general-settings:saved-views:warn-on-unsaved-change',\n}\n\nexport const SETTINGS: PaperlessUiSetting[] = [\n  {\n    key: SETTINGS_KEYS.LANGUAGE,\n    type: 'string',\n    default: '',\n  },\n  {\n    key: SETTINGS_KEYS.BULK_EDIT_CONFIRMATION_DIALOGS,\n    type: 'boolean',\n    default: true,\n  },\n  {\n    key: SETTINGS_KEYS.BULK_EDIT_APPLY_ON_CLOSE,\n    type: 'boolean',\n    default: false,\n  },\n  {\n    key: SETTINGS_KEYS.SLIM_SIDEBAR,\n    type: 'boolean',\n    default: false,\n  },\n  {\n    key: SETTINGS_KEYS.DOCUMENT_LIST_SIZE,\n    type: 'number',\n    default: 50,\n  },\n  {\n    key: SETTINGS_KEYS.DARK_MODE_USE_SYSTEM,\n    type: 'boolean',\n    default: true,\n  },\n  {\n    key: SETTINGS_KEYS.DARK_MODE_ENABLED,\n    type: 'boolean',\n    default: false,\n  },\n  {\n    key: SETTINGS_KEYS.DARK_MODE_THUMB_INVERTED,\n    type: 'boolean',\n    default: true,\n  },\n  {\n    key: SETTINGS_KEYS.THEME_COLOR,\n    type: 'string',\n    default: '',\n  },\n  {\n    key: SETTINGS_KEYS.USE_NATIVE_PDF_VIEWER,\n    type: 'boolean',\n    default: false,\n  },\n  {\n    key: SETTINGS_KEYS.DATE_LOCALE,\n    type: 'string',\n    default: '',\n  },\n  {\n    key: SETTINGS_KEYS.DATE_FORMAT,\n    type: 'string',\n    default: 'mediumDate',\n  },\n  {\n    key: SETTINGS_KEYS.NOTIFICATIONS_CONSUMER_NEW_DOCUMENT,\n    type: 'boolean',\n    default: true,\n  },\n  {\n    key: SETTINGS_KEYS.NOTIFICATIONS_CONSUMER_SUCCESS,\n    type: 'boolean',\n    default: true,\n  },\n  {\n    key: SETTINGS_KEYS.NOTIFICATIONS_CONSUMER_FAILED,\n    type: 'boolean',\n    default: true,\n  },\n  {\n    key: SETTINGS_KEYS.NOTIFICATIONS_CONSUMER_SUPPRESS_ON_DASHBOARD,\n    type: 'boolean',\n    default: true,\n  },\n  {\n    key: SETTINGS_KEYS.COMMENTS_ENABLED,\n    type: 'boolean',\n    default: true,\n  },\n  {\n    key: SETTINGS_KEYS.UPDATE_CHECKING_ENABLED,\n    type: 'boolean',\n    default: false,\n  },\n  {\n    key: SETTINGS_KEYS.UPDATE_CHECKING_BACKEND_SETTING,\n    type: 'string',\n    default: '',\n  },\n  {\n    key: SETTINGS_KEYS.SAVED_VIEWS_WARN_ON_UNSAVED_CHANGE,\n    type: 'boolean',\n    default: true,\n  },\n]\n","export const OPEN_DOCUMENT_SERVICE = {\n  DOCUMENTS: 'open-documents-service:openDocuments',\n}\n\nexport const DOCUMENT_LIST_SERVICE = {\n  CURRENT_VIEW_CONFIG: 'document-list-service:currentViewConfig',\n}\n","import {\n  Directive,\n  EventEmitter,\n  HostBinding,\n  HostListener,\n  Input,\n  Output,\n} from '@angular/core'\n\nexport interface SortEvent {\n  column: string\n  reverse: boolean\n}\n\n@Directive({\n  selector: 'th[appSortable]',\n})\nexport class SortableDirective {\n  constructor() {}\n\n  @Input()\n  appSortable: string = ''\n\n  @Input()\n  currentSortReverse: boolean = false\n\n  @Input()\n  currentSortField: string\n\n  @Output() sort = new EventEmitter<SortEvent>()\n\n  @HostBinding('class.asc') get asc() {\n    return (\n      this.currentSortField === this.appSortable && !this.currentSortReverse\n    )\n  }\n  @HostBinding('class.des') get des() {\n    return this.currentSortField === this.appSortable && this.currentSortReverse\n  }\n\n  @HostListener('click') rotate() {\n    if (this.currentSortField != this.appSortable) {\n      this.sort.emit({ column: this.appSortable, reverse: false })\n    } else if (\n      this.currentSortField == this.appSortable &&\n      !this.currentSortReverse\n    ) {\n      this.sort.emit({ column: this.currentSortField, reverse: true })\n    } else {\n      this.sort.emit({ column: null, reverse: false })\n    }\n  }\n}\n","import { CanDeactivate } from '@angular/router'\nimport { Injectable } from '@angular/core'\nimport { Observable } from 'rxjs'\n\nexport interface ComponentCanDeactivate {\n  canDeactivate: () => boolean | Observable<boolean>\n}\n\n@Injectable()\nexport class DirtyDocGuard implements CanDeactivate<ComponentCanDeactivate> {\n  canDeactivate(\n    component: ComponentCanDeactivate\n  ): boolean | Observable<boolean> {\n    return component.canDeactivate()\n      ? true\n      : confirm(\n          $localize`Warning: You have unsaved changes to your document(s).`\n        )\n  }\n}\n","import { Injectable } from '@angular/core'\nimport { DirtyCheckGuard } from '@ngneat/dirty-check-forms'\nimport { Observable, Subject } from 'rxjs'\nimport { NgbModal } from '@ng-bootstrap/ng-bootstrap'\nimport { ConfirmDialogComponent } from 'src/app/components/common/confirm-dialog/confirm-dialog.component'\n\n@Injectable({ providedIn: 'root' })\nexport class DirtyFormGuard extends DirtyCheckGuard {\n  constructor(private modalService: NgbModal) {\n    super()\n  }\n\n  confirmChanges(): Observable<boolean> {\n    let modal = this.modalService.open(ConfirmDialogComponent, {\n      backdrop: 'static',\n    })\n    modal.componentInstance.title = $localize`Unsaved Changes`\n    modal.componentInstance.messageBold = $localize`You have unsaved changes.`\n    modal.componentInstance.message = $localize`Are you sure you want to leave?`\n    modal.componentInstance.btnClass = 'btn-warning'\n    modal.componentInstance.btnCaption = $localize`Leave page`\n    modal.componentInstance.confirmClicked.subscribe(() => {\n      modal.componentInstance.buttonsEnabled = false\n      modal.close()\n    })\n    const subject = new Subject<boolean>()\n    modal.componentInstance.confirmSubject = subject\n    return subject.asObservable()\n  }\n}\n","import { CanDeactivate } from '@angular/router'\nimport { Injectable } from '@angular/core'\nimport { first, Observable, Subject } from 'rxjs'\nimport { DocumentListComponent } from '../components/document-list/document-list.component'\nimport { NgbModal } from '@ng-bootstrap/ng-bootstrap'\nimport { ConfirmDialogComponent } from '../components/common/confirm-dialog/confirm-dialog.component'\nimport { SettingsService } from '../services/settings.service'\nimport { SETTINGS_KEYS } from '../data/paperless-uisettings'\n\n@Injectable()\nexport class DirtySavedViewGuard\n  implements CanDeactivate<DocumentListComponent>\n{\n  constructor(\n    private modalService: NgbModal,\n    private settings: SettingsService\n  ) {}\n\n  canDeactivate(\n    component: DocumentListComponent\n  ): boolean | Observable<boolean> {\n    return component.savedViewIsModified &&\n      this.settings.get(SETTINGS_KEYS.SAVED_VIEWS_WARN_ON_UNSAVED_CHANGE)\n      ? this.warn(component)\n      : true\n  }\n\n  warn(component: DocumentListComponent) {\n    let modal = this.modalService.open(ConfirmDialogComponent, {\n      backdrop: 'static',\n    })\n    modal.componentInstance.title = $localize`Unsaved Changes`\n    modal.componentInstance.messageBold =\n      $localize`You have unsaved changes to the saved view` +\n      ' \"' +\n      component.getTitle()\n    ;('\".')\n    modal.componentInstance.message = $localize`Are you sure you want to close this saved view?`\n    modal.componentInstance.btnClass = 'btn-secondary'\n    modal.componentInstance.btnCaption = $localize`Close`\n    modal.componentInstance.alternativeBtnClass = 'btn-primary'\n    modal.componentInstance.alternativeBtnCaption = $localize`Save and close`\n    modal.componentInstance.alternativeClicked.pipe(first()).subscribe(() => {\n      modal.componentInstance.buttonsEnabled = false\n      component.saveViewConfig()\n      modal.close()\n    })\n    modal.componentInstance.confirmClicked.pipe(first()).subscribe(() => {\n      modal.componentInstance.buttonsEnabled = false\n      modal.close()\n    })\n\n    const subject = new Subject<boolean>()\n    modal.componentInstance.confirmSubject = subject\n    modal.componentInstance.alternativeSubject = subject\n\n    return subject\n  }\n}\n","import { Injectable } from '@angular/core'\nimport {\n  HttpRequest,\n  HttpHandler,\n  HttpEvent,\n  HttpInterceptor,\n} from '@angular/common/http'\nimport { Observable } from 'rxjs'\nimport { environment } from 'src/environments/environment'\n\n@Injectable()\nexport class ApiVersionInterceptor implements HttpInterceptor {\n  constructor() {}\n\n  intercept(\n    request: HttpRequest<unknown>,\n    next: HttpHandler\n  ): Observable<HttpEvent<unknown>> {\n    request = request.clone({\n      setHeaders: {\n        Accept: `application/json; version=${environment.apiVersion}`,\n      },\n    })\n\n    return next.handle(request)\n  }\n}\n","import { Injectable } from '@angular/core'\nimport {\n  HttpRequest,\n  HttpHandler,\n  HttpEvent,\n  HttpInterceptor,\n} from '@angular/common/http'\nimport { Observable } from 'rxjs'\nimport { CookieService } from 'ngx-cookie-service'\nimport { Meta } from '@angular/platform-browser'\n\n@Injectable()\nexport class CsrfInterceptor implements HttpInterceptor {\n  constructor(private cookieService: CookieService, private meta: Meta) {}\n\n  intercept(\n    request: HttpRequest<unknown>,\n    next: HttpHandler\n  ): Observable<HttpEvent<unknown>> {\n    let prefix = ''\n    if (this.meta.getTag('name=cookie_prefix')) {\n      prefix = this.meta.getTag('name=cookie_prefix').content\n    }\n    let csrfToken = this.cookieService.get(`${prefix ? prefix : ''}csrftoken`)\n    if (csrfToken) {\n      request = request.clone({\n        setHeaders: {\n          'X-CSRFToken': csrfToken,\n        },\n      })\n    }\n\n    return next.handle(request)\n  }\n}\n","import { DatePipe } from '@angular/common'\nimport { Inject, LOCALE_ID, Pipe, PipeTransform } from '@angular/core'\nimport { SETTINGS_KEYS } from '../data/paperless-uisettings'\nimport { SettingsService } from '../services/settings.service'\n\nconst FORMAT_TO_ISO_FORMAT = {\n  longDate: 'y-MM-dd',\n  mediumDate: 'y-MM-dd',\n  shortDate: 'y-MM-dd',\n}\n\n@Pipe({\n  name: 'customDate',\n})\nexport class CustomDatePipe implements PipeTransform {\n  private defaultLocale: string\n\n  constructor(\n    @Inject(LOCALE_ID) locale: string,\n    private datePipe: DatePipe,\n    private settings: SettingsService\n  ) {\n    this.defaultLocale = locale\n  }\n\n  transform(\n    value: any,\n    format?: string,\n    timezone?: string,\n    locale?: string\n  ): string | null {\n    let l =\n      locale ||\n      this.settings.get(SETTINGS_KEYS.DATE_LOCALE) ||\n      this.defaultLocale\n    let f = format || this.settings.get(SETTINGS_KEYS.DATE_FORMAT)\n    if (l == 'iso-8601') {\n      return this.datePipe.transform(value, FORMAT_TO_ISO_FORMAT[f], timezone)\n    } else {\n      return this.datePipe.transform(\n        value,\n        format || this.settings.get(SETTINGS_KEYS.DATE_FORMAT),\n        timezone,\n        l\n      )\n    }\n  }\n}\n","import { Pipe, PipeTransform } from '@angular/core'\n\n@Pipe({\n  name: 'documentTitle',\n})\nexport class DocumentTitlePipe implements PipeTransform {\n  transform(value: string): string {\n    if (value) {\n      return value\n    } else {\n      return $localize`(no title)`\n    }\n  }\n}\n","/**\n * https://gist.github.com/JonCatmull/ecdf9441aaa37336d9ae2c7f9cb7289a\n *\n * @license\n * Copyright (c) 2019 Jonathan Catmull.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\nimport { Pipe, PipeTransform } from '@angular/core'\n\ntype unit = 'bytes' | 'KB' | 'MB' | 'GB' | 'TB' | 'PB'\ntype unitPrecisionMap = {\n  [u in unit]: number\n}\n\nconst defaultPrecisionMap: unitPrecisionMap = {\n  bytes: 0,\n  KB: 0,\n  MB: 1,\n  GB: 1,\n  TB: 2,\n  PB: 2,\n}\n\n/*\n * Convert bytes into largest possible unit.\n * Takes an precision argument that can be a number or a map for each unit.\n * Usage:\n *   bytes | fileSize:precision\n * @example\n * // returns 1 KB\n * {{ 1500 | fileSize }}\n * @example\n * // returns 2.1 GB\n * {{ 2100000000 | fileSize }}\n * @example\n * // returns 1.46 KB\n * {{ 1500 | fileSize:2 }}\n */\n@Pipe({ name: 'fileSize' })\nexport class FileSizePipe implements PipeTransform {\n  private readonly units: unit[] = ['bytes', 'KB', 'MB', 'GB', 'TB', 'PB']\n\n  transform(\n    bytes: number = 0,\n    precision: number | unitPrecisionMap = defaultPrecisionMap\n  ): string {\n    if (isNaN(parseFloat(String(bytes))) || !isFinite(bytes)) return '?'\n\n    let unitIndex = 0\n\n    while (bytes >= 1024) {\n      bytes /= 1024\n      unitIndex++\n    }\n\n    const unit = this.units[unitIndex]\n\n    if (typeof precision === 'number') {\n      return `${bytes.toFixed(+precision)} ${unit}`\n    }\n    return `${bytes.toFixed(precision[unit])} ${unit}`\n  }\n}\n","import { Pipe, PipeTransform } from '@angular/core'\nimport { MatchingModel } from '../data/matching-model'\n\n@Pipe({\n  name: 'filter',\n})\nexport class FilterPipe implements PipeTransform {\n  transform(items: MatchingModel[], searchText: string): MatchingModel[] {\n    if (!items) return []\n    if (!searchText) return items\n\n    return items.filter((item) => {\n      return Object.keys(item).some((key) => {\n        return String(item[key])\n          .toLowerCase()\n          .includes(searchText.toLowerCase())\n      })\n    })\n  }\n}\n","import { Pipe, PipeTransform } from '@angular/core'\nimport { DomSanitizer } from '@angular/platform-browser'\n\n@Pipe({\n  name: 'safeHtml',\n})\nexport class SafeHtmlPipe implements PipeTransform {\n  constructor(private sanitizer: DomSanitizer) {}\n\n  transform(html) {\n    return this.sanitizer.bypassSecurityTrustHtml(html)\n  }\n}\n","import { Pipe, PipeTransform } from '@angular/core'\nimport { DomSanitizer } from '@angular/platform-browser'\n\n@Pipe({\n  name: 'safeUrl',\n})\nexport class SafeUrlPipe implements PipeTransform {\n  constructor(private sanitizer: DomSanitizer) {}\n\n  transform(url) {\n    if (url == null) {\n      return this.sanitizer.bypassSecurityTrustResourceUrl('')\n    } else {\n      return this.sanitizer.bypassSecurityTrustResourceUrl(url)\n    }\n  }\n}\n","import { Pipe, PipeTransform } from '@angular/core'\n\n@Pipe({\n  name: 'yesno',\n})\nexport class YesNoPipe implements PipeTransform {\n  transform(value: boolean): unknown {\n    return value ? $localize`Yes` : $localize`No`\n  }\n}\n","import { Injectable } from '@angular/core'\nimport { Subject } from 'rxjs'\nimport { environment } from 'src/environments/environment'\nimport { WebsocketConsumerStatusMessage } from '../data/websocket-consumer-status-message'\n\nexport enum FileStatusPhase {\n  STARTED = 0,\n  UPLOADING = 1,\n  PROCESSING = 2,\n  SUCCESS = 3,\n  FAILED = 4,\n}\n\nexport const FILE_STATUS_MESSAGES = {\n  document_already_exists: $localize`Document already exists.`,\n  asn_already_exists: $localize`Document with ASN already exists.`,\n  file_not_found: $localize`File not found.`,\n  pre_consume_script_not_found: $localize`:Pre-Consume is a term that appears like that in the documentation as well and does not need a specific translation:Pre-consume script does not exist.`,\n  pre_consume_script_error: $localize`:Pre-Consume is a term that appears like that in the documentation as well and does not need a specific translation:Error while executing pre-consume script.`,\n  post_consume_script_not_found: $localize`:Post-Consume is a term that appears like that in the documentation as well and does not need a specific translation:Post-consume script does not exist.`,\n  post_consume_script_error: $localize`:Post-Consume is a term that appears like that in the documentation as well and does not need a specific translation:Error while executing post-consume script.`,\n  new_file: $localize`Received new file.`,\n  unsupported_type: $localize`File type not supported.`,\n  parsing_document: $localize`Processing document...`,\n  generating_thumbnail: $localize`Generating thumbnail...`,\n  parse_date: $localize`Retrieving date from document...`,\n  save_document: $localize`Saving document...`,\n  finished: $localize`Finished.`,\n}\n\nexport class FileStatus {\n  filename: string\n\n  taskId: string\n\n  phase: FileStatusPhase = FileStatusPhase.STARTED\n\n  currentPhaseProgress: number\n\n  currentPhaseMaxProgress: number\n\n  message: string\n\n  documentId: number\n\n  getProgress(): number {\n    switch (this.phase) {\n      case FileStatusPhase.STARTED:\n        return 0.0\n      case FileStatusPhase.UPLOADING:\n        return (this.currentPhaseProgress / this.currentPhaseMaxProgress) * 0.2\n      case FileStatusPhase.PROCESSING:\n        return (\n          (this.currentPhaseProgress / this.currentPhaseMaxProgress) * 0.8 + 0.2\n        )\n      case FileStatusPhase.SUCCESS:\n      case FileStatusPhase.FAILED:\n        return 1.0\n    }\n  }\n\n  updateProgress(\n    status: FileStatusPhase,\n    currentProgress?: number,\n    maxProgress?: number\n  ) {\n    if (status >= this.phase) {\n      this.phase = status\n      if (currentProgress != null) {\n        this.currentPhaseProgress = currentProgress\n      }\n      if (maxProgress != null) {\n        this.currentPhaseMaxProgress = maxProgress\n      }\n    }\n  }\n}\n\n@Injectable({\n  providedIn: 'root',\n})\nexport class ConsumerStatusService {\n  constructor() {}\n\n  private statusWebSocket: WebSocket\n\n  private consumerStatus: FileStatus[] = []\n\n  private documentDetectedSubject = new Subject<FileStatus>()\n  private documentConsumptionFinishedSubject = new Subject<FileStatus>()\n  private documentConsumptionFailedSubject = new Subject<FileStatus>()\n\n  private get(taskId: string, filename?: string) {\n    let status =\n      this.consumerStatus.find((e) => e.taskId == taskId) ||\n      this.consumerStatus.find(\n        (e) => e.filename == filename && e.taskId == null\n      )\n    let created = false\n    if (!status) {\n      status = new FileStatus()\n      this.consumerStatus.push(status)\n      created = true\n    }\n    status.taskId = taskId\n    status.filename = filename\n    return { status: status, created: created }\n  }\n\n  newFileUpload(filename: string): FileStatus {\n    let status = new FileStatus()\n    status.filename = filename\n    this.consumerStatus.push(status)\n    return status\n  }\n\n  getConsumerStatus(phase?: FileStatusPhase) {\n    if (phase != null) {\n      return this.consumerStatus.filter((s) => s.phase == phase)\n    } else {\n      return this.consumerStatus\n    }\n  }\n\n  getConsumerStatusNotCompleted() {\n    return this.consumerStatus.filter((s) => s.phase < FileStatusPhase.SUCCESS)\n  }\n\n  getConsumerStatusCompleted() {\n    return this.consumerStatus.filter(\n      (s) =>\n        s.phase == FileStatusPhase.FAILED || s.phase == FileStatusPhase.SUCCESS\n    )\n  }\n\n  connect() {\n    this.disconnect()\n\n    this.statusWebSocket = new WebSocket(\n      `${environment.webSocketProtocol}//${environment.webSocketHost}${environment.webSocketBaseUrl}status/`\n    )\n    this.statusWebSocket.onmessage = (ev) => {\n      let statusMessage: WebsocketConsumerStatusMessage = JSON.parse(ev['data'])\n\n      let statusMessageGet = this.get(\n        statusMessage.task_id,\n        statusMessage.filename\n      )\n      let status = statusMessageGet.status\n      let created = statusMessageGet.created\n\n      status.updateProgress(\n        FileStatusPhase.PROCESSING,\n        statusMessage.current_progress,\n        statusMessage.max_progress\n      )\n      if (\n        statusMessage.message &&\n        statusMessage.message in FILE_STATUS_MESSAGES\n      ) {\n        status.message = FILE_STATUS_MESSAGES[statusMessage.message]\n      } else if (statusMessage.message) {\n        status.message = statusMessage.message\n      }\n      status.documentId = statusMessage.document_id\n\n      if (created && statusMessage.status == 'STARTING') {\n        this.documentDetectedSubject.next(status)\n      }\n      if (statusMessage.status == 'SUCCESS') {\n        status.phase = FileStatusPhase.SUCCESS\n        this.documentConsumptionFinishedSubject.next(status)\n      }\n      if (statusMessage.status == 'FAILED') {\n        status.phase = FileStatusPhase.FAILED\n        this.documentConsumptionFailedSubject.next(status)\n      }\n    }\n  }\n\n  fail(status: FileStatus, message: string) {\n    status.message = message\n    status.phase = FileStatusPhase.FAILED\n    this.documentConsumptionFailedSubject.next(status)\n  }\n\n  disconnect() {\n    if (this.statusWebSocket) {\n      this.statusWebSocket.close()\n      this.statusWebSocket = null\n    }\n  }\n\n  dismiss(status: FileStatus) {\n    let index\n    if (status.taskId != null) {\n      index = this.consumerStatus.findIndex((s) => s.taskId == status.taskId)\n    } else {\n      index = this.consumerStatus.findIndex(\n        (s) => s.filename == status.filename\n      )\n    }\n\n    if (index > -1) {\n      this.consumerStatus.splice(index, 1)\n    }\n  }\n\n  dismissCompleted() {\n    this.consumerStatus = this.consumerStatus.filter(\n      (status) => status.phase != FileStatusPhase.SUCCESS\n    )\n  }\n\n  onDocumentConsumptionFinished() {\n    return this.documentConsumptionFinishedSubject\n  }\n\n  onDocumentConsumptionFailed() {\n    return this.documentConsumptionFailedSubject\n  }\n\n  onDocumentDetected() {\n    return this.documentDetectedSubject\n  }\n}\n","import { Injectable } from '@angular/core'\nimport { ParamMap, Router } from '@angular/router'\nimport { Observable } from 'rxjs'\nimport {\n  filterRulesDiffer,\n  cloneFilterRules,\n  FilterRule,\n  isFullTextFilterRule,\n} from '../data/filter-rule'\nimport { PaperlessDocument } from '../data/paperless-document'\nimport { PaperlessSavedView } from '../data/paperless-saved-view'\nimport { SETTINGS_KEYS } from '../data/paperless-uisettings'\nimport { DOCUMENT_LIST_SERVICE } from '../data/storage-keys'\nimport { paramsFromViewState, paramsToViewState } from '../utils/query-params'\nimport { DocumentService, DOCUMENT_SORT_FIELDS } from './rest/document.service'\nimport { SettingsService } from './settings.service'\n\n/**\n * Captures the current state of the list view.\n */\nexport interface ListViewState {\n  /**\n   * Title of the document list view. Either \"Documents\" (localized) or the name of a saved view.\n   */\n  title?: string\n\n  /**\n   * Current paginated list of documents displayed.\n   */\n  documents?: PaperlessDocument[]\n\n  currentPage: number\n\n  /**\n   * Total amount of documents with the current filter rules. Used to calculate the number of pages.\n   */\n  collectionSize?: number\n\n  /**\n   * Currently selected sort field.\n   */\n  sortField: string\n\n  /**\n   * True if the list is sorted in reverse.\n   */\n  sortReverse: boolean\n\n  /**\n   * Filter rules for the current list view.\n   */\n  filterRules: FilterRule[]\n\n  /**\n   * Contains the IDs of all selected documents.\n   */\n  selected?: Set<number>\n}\n\n/**\n * This service manages the document list which is displayed using the document list view.\n *\n * This service also serves saved views by transparently switching between the document list\n * and saved views on request. See below.\n */\n@Injectable({\n  providedIn: 'root',\n})\nexport class DocumentListViewService {\n  isReloading: boolean = false\n  initialized: boolean = false\n  error: string = null\n\n  rangeSelectionAnchorIndex: number\n  lastRangeSelectionToIndex: number\n\n  currentPageSize: number = this.settings.get(SETTINGS_KEYS.DOCUMENT_LIST_SIZE)\n\n  private listViewStates: Map<number, ListViewState> = new Map()\n\n  private _activeSavedViewId: number = null\n\n  get activeSavedViewId() {\n    return this._activeSavedViewId\n  }\n\n  get activeSavedViewTitle() {\n    return this.activeListViewState.title\n  }\n\n  constructor(\n    private documentService: DocumentService,\n    private settings: SettingsService,\n    private router: Router\n  ) {\n    let documentListViewConfigJson = localStorage.getItem(\n      DOCUMENT_LIST_SERVICE.CURRENT_VIEW_CONFIG\n    )\n    if (documentListViewConfigJson) {\n      try {\n        let savedState: ListViewState = JSON.parse(documentListViewConfigJson)\n        // Remove null elements from the restored state\n        Object.keys(savedState).forEach((k) => {\n          if (savedState[k] == null) {\n            delete savedState[k]\n          }\n        })\n        //only use restored state attributes instead of defaults if they are not null\n        let newState = Object.assign(this.defaultListViewState(), savedState)\n        this.listViewStates.set(null, newState)\n      } catch (e) {\n        localStorage.removeItem(DOCUMENT_LIST_SERVICE.CURRENT_VIEW_CONFIG)\n      }\n    }\n  }\n\n  private defaultListViewState(): ListViewState {\n    return {\n      title: null,\n      documents: [],\n      currentPage: 1,\n      collectionSize: null,\n      sortField: 'created',\n      sortReverse: true,\n      filterRules: [],\n      selected: new Set<number>(),\n    }\n  }\n\n  private get activeListViewState() {\n    if (!this.listViewStates.has(this._activeSavedViewId)) {\n      this.listViewStates.set(\n        this._activeSavedViewId,\n        this.defaultListViewState()\n      )\n    }\n    return this.listViewStates.get(this._activeSavedViewId)\n  }\n\n  activateSavedView(view: PaperlessSavedView) {\n    this.rangeSelectionAnchorIndex = this.lastRangeSelectionToIndex = null\n    if (view) {\n      this._activeSavedViewId = view.id\n      this.loadSavedView(view)\n    } else {\n      this._activeSavedViewId = null\n    }\n  }\n\n  activateSavedViewWithQueryParams(\n    view: PaperlessSavedView,\n    queryParams: ParamMap\n  ) {\n    const viewState = paramsToViewState(queryParams)\n    this.activateSavedView(view)\n    this.currentPage = viewState.currentPage\n  }\n\n  loadSavedView(view: PaperlessSavedView, closeCurrentView: boolean = false) {\n    if (closeCurrentView) {\n      this._activeSavedViewId = null\n    }\n\n    this.activeListViewState.filterRules = cloneFilterRules(view.filter_rules)\n    this.activeListViewState.sortField = view.sort_field\n    this.activeListViewState.sortReverse = view.sort_reverse\n    if (this._activeSavedViewId) {\n      this.activeListViewState.title = view.name\n    }\n\n    this.reduceSelectionToFilter()\n\n    if (!this.router.routerState.snapshot.url.includes('/view/')) {\n      this.router.navigate(['view', view.id])\n    }\n  }\n\n  loadFromQueryParams(queryParams: ParamMap) {\n    const paramsEmpty: boolean = queryParams.keys.length == 0\n    let newState: ListViewState = this.listViewStates.get(\n      this._activeSavedViewId\n    )\n    if (!paramsEmpty) newState = paramsToViewState(queryParams)\n    if (newState == undefined) newState = this.defaultListViewState() // if nothing in local storage\n\n    // only reload if things have changed\n    if (\n      !this.initialized ||\n      paramsEmpty ||\n      this.activeListViewState.sortField !== newState.sortField ||\n      this.activeListViewState.sortReverse !== newState.sortReverse ||\n      this.activeListViewState.currentPage !== newState.currentPage ||\n      filterRulesDiffer(\n        this.activeListViewState.filterRules,\n        newState.filterRules\n      )\n    ) {\n      this.activeListViewState.filterRules = newState.filterRules\n      this.activeListViewState.sortField = newState.sortField\n      this.activeListViewState.sortReverse = newState.sortReverse\n      this.activeListViewState.currentPage = newState.currentPage\n      this.reload(null, paramsEmpty) // update the params if there arent any\n    }\n  }\n\n  reload(onFinish?, updateQueryParams: boolean = true) {\n    this.isReloading = true\n    this.error = null\n    let activeListViewState = this.activeListViewState\n    this.documentService\n      .listFiltered(\n        activeListViewState.currentPage,\n        this.currentPageSize,\n        activeListViewState.sortField,\n        activeListViewState.sortReverse,\n        activeListViewState.filterRules,\n        { truncate_content: true }\n      )\n      .subscribe({\n        next: (result) => {\n          this.initialized = true\n          this.isReloading = false\n          activeListViewState.collectionSize = result.count\n          activeListViewState.documents = result.results\n          if (updateQueryParams && !this._activeSavedViewId) {\n            let base = ['/documents']\n            this.router.navigate(base, {\n              queryParams: paramsFromViewState(activeListViewState),\n              replaceUrl: !this.router.routerState.snapshot.url.includes('?'), // in case navigating from params-less /documents\n            })\n          } else if (this._activeSavedViewId) {\n            this.router.navigate([], {\n              queryParams: paramsFromViewState(activeListViewState, true),\n              queryParamsHandling: 'merge',\n            })\n          }\n\n          if (onFinish) {\n            onFinish()\n          }\n          this.rangeSelectionAnchorIndex = this.lastRangeSelectionToIndex = null\n        },\n        error: (error) => {\n          this.isReloading = false\n          if (activeListViewState.currentPage != 1 && error.status == 404) {\n            // this happens when applying a filter: the current page might not be available anymore due to the reduced result set.\n            activeListViewState.currentPage = 1\n            this.reload()\n          } else {\n            let errorMessage\n            if (\n              typeof error.error !== 'string' &&\n              Object.keys(error.error).length > 0\n            ) {\n              // e.g. { archive_serial_number: Array<string> }\n              errorMessage = Object.keys(error.error)\n                .map((fieldName) => {\n                  const fieldError: Array<string> = error.error[fieldName]\n                  return `${\n                    DOCUMENT_SORT_FIELDS.find((f) => f.field == fieldName)?.name\n                  }: ${fieldError[0]}`\n                })\n                .join(', ')\n            } else {\n              errorMessage = error.error\n            }\n            this.error = errorMessage\n          }\n        },\n      })\n  }\n\n  set filterRules(filterRules: FilterRule[]) {\n    if (\n      !isFullTextFilterRule(filterRules) &&\n      this.activeListViewState.sortField == 'score'\n    ) {\n      this.activeListViewState.sortField = 'created'\n    }\n    this.activeListViewState.filterRules = filterRules\n    this.reload()\n    this.reduceSelectionToFilter()\n    this.saveDocumentListView()\n  }\n\n  get filterRules(): FilterRule[] {\n    return this.activeListViewState.filterRules\n  }\n\n  set sortField(field: string) {\n    this.activeListViewState.sortField = field\n    this.reload()\n    this.saveDocumentListView()\n  }\n\n  get sortField(): string {\n    return this.activeListViewState.sortField\n  }\n\n  set sortReverse(reverse: boolean) {\n    this.activeListViewState.sortReverse = reverse\n    this.reload()\n    this.saveDocumentListView()\n  }\n\n  get sortReverse(): boolean {\n    return this.activeListViewState.sortReverse\n  }\n\n  get collectionSize(): number {\n    return this.activeListViewState.collectionSize\n  }\n\n  get currentPage(): number {\n    return this.activeListViewState.currentPage\n  }\n\n  set currentPage(page: number) {\n    if (this.activeListViewState.currentPage == page) return\n    this.activeListViewState.currentPage = page\n    this.reload()\n    this.saveDocumentListView()\n  }\n\n  get documents(): PaperlessDocument[] {\n    return this.activeListViewState.documents\n  }\n\n  get selected(): Set<number> {\n    return this.activeListViewState.selected\n  }\n\n  setSort(field: string, reverse: boolean) {\n    this.activeListViewState.sortField = field\n    this.activeListViewState.sortReverse = reverse\n    this.reload()\n    this.saveDocumentListView()\n  }\n\n  private saveDocumentListView() {\n    if (this._activeSavedViewId == null) {\n      let savedState: ListViewState = {\n        collectionSize: this.activeListViewState.collectionSize,\n        currentPage: this.activeListViewState.currentPage,\n        filterRules: this.activeListViewState.filterRules,\n        sortField: this.activeListViewState.sortField,\n        sortReverse: this.activeListViewState.sortReverse,\n      }\n      localStorage.setItem(\n        DOCUMENT_LIST_SERVICE.CURRENT_VIEW_CONFIG,\n        JSON.stringify(savedState)\n      )\n    }\n  }\n\n  quickFilter(filterRules: FilterRule[]) {\n    this.filterRules = filterRules\n  }\n\n  getLastPage(): number {\n    return Math.ceil(this.collectionSize / this.currentPageSize)\n  }\n\n  hasNext(doc: number) {\n    if (this.documents) {\n      let index = this.documents.findIndex((d) => d.id == doc)\n      return (\n        index != -1 &&\n        (this.currentPage < this.getLastPage() ||\n          index + 1 < this.documents.length)\n      )\n    }\n  }\n\n  hasPrevious(doc: number) {\n    if (this.documents) {\n      let index = this.documents.findIndex((d) => d.id == doc)\n      return index != -1 && !(index == 0 && this.currentPage == 1)\n    }\n  }\n\n  getNext(currentDocId: number): Observable<number> {\n    return new Observable((nextDocId) => {\n      if (this.documents != null) {\n        let index = this.documents.findIndex((d) => d.id == currentDocId)\n\n        if (index != -1 && index + 1 < this.documents.length) {\n          nextDocId.next(this.documents[index + 1].id)\n          nextDocId.complete()\n        } else if (index != -1 && this.currentPage < this.getLastPage()) {\n          this.currentPage += 1\n          this.reload(() => {\n            nextDocId.next(this.documents[0].id)\n            nextDocId.complete()\n          })\n        } else {\n          nextDocId.complete()\n        }\n      } else {\n        nextDocId.complete()\n      }\n    })\n  }\n\n  getPrevious(currentDocId: number): Observable<number> {\n    return new Observable((prevDocId) => {\n      if (this.documents != null) {\n        let index = this.documents.findIndex((d) => d.id == currentDocId)\n\n        if (index != 0) {\n          prevDocId.next(this.documents[index - 1].id)\n          prevDocId.complete()\n        } else if (this.currentPage > 1) {\n          this.currentPage -= 1\n          this.reload(() => {\n            prevDocId.next(this.documents[this.documents.length - 1].id)\n            prevDocId.complete()\n          })\n        } else {\n          prevDocId.complete()\n        }\n      } else {\n        prevDocId.complete()\n      }\n    })\n  }\n\n  updatePageSize() {\n    let newPageSize = this.settings.get(SETTINGS_KEYS.DOCUMENT_LIST_SIZE)\n    if (newPageSize != this.currentPageSize) {\n      this.currentPageSize = newPageSize\n    }\n  }\n\n  selectNone() {\n    this.selected.clear()\n    this.rangeSelectionAnchorIndex = this.lastRangeSelectionToIndex = null\n  }\n\n  reduceSelectionToFilter() {\n    if (this.selected.size > 0) {\n      this.documentService\n        .listAllFilteredIds(this.filterRules)\n        .subscribe((ids) => {\n          for (let id of this.selected) {\n            if (!ids.includes(id)) {\n              this.selected.delete(id)\n            }\n          }\n        })\n    }\n  }\n\n  selectAll() {\n    this.documentService\n      .listAllFilteredIds(this.filterRules)\n      .subscribe((ids) => ids.forEach((id) => this.selected.add(id)))\n  }\n\n  selectPage() {\n    this.selected.clear()\n    this.documents.forEach((doc) => {\n      this.selected.add(doc.id)\n    })\n  }\n\n  isSelected(d: PaperlessDocument) {\n    return this.selected.has(d.id)\n  }\n\n  toggleSelected(d: PaperlessDocument): void {\n    if (this.selected.has(d.id)) this.selected.delete(d.id)\n    else this.selected.add(d.id)\n    this.rangeSelectionAnchorIndex = this.documentIndexInCurrentView(d.id)\n    this.lastRangeSelectionToIndex = null\n  }\n\n  selectRangeTo(d: PaperlessDocument) {\n    if (this.rangeSelectionAnchorIndex !== null) {\n      const documentToIndex = this.documentIndexInCurrentView(d.id)\n      const fromIndex = Math.min(\n        this.rangeSelectionAnchorIndex,\n        documentToIndex\n      )\n      const toIndex = Math.max(this.rangeSelectionAnchorIndex, documentToIndex)\n\n      if (this.lastRangeSelectionToIndex !== null) {\n        // revert the old selection\n        this.documents\n          .slice(\n            Math.min(\n              this.rangeSelectionAnchorIndex,\n              this.lastRangeSelectionToIndex\n            ),\n            Math.max(\n              this.rangeSelectionAnchorIndex,\n              this.lastRangeSelectionToIndex\n            ) + 1\n          )\n          .forEach((d) => {\n            this.selected.delete(d.id)\n          })\n      }\n\n      this.documents.slice(fromIndex, toIndex + 1).forEach((d) => {\n        this.selected.add(d.id)\n      })\n      this.lastRangeSelectionToIndex = documentToIndex\n    } else {\n      // e.g. shift key but was first click\n      this.toggleSelected(d)\n    }\n  }\n\n  documentIndexInCurrentView(documentID: number): number {\n    return this.documents.map((d) => d.id).indexOf(documentID)\n  }\n}\n","import { Injectable } from '@angular/core'\nimport { PaperlessDocument } from '../data/paperless-document'\nimport { OPEN_DOCUMENT_SERVICE } from '../data/storage-keys'\nimport { DocumentService } from './rest/document.service'\nimport { NgbModal } from '@ng-bootstrap/ng-bootstrap'\nimport { ConfirmDialogComponent } from 'src/app/components/common/confirm-dialog/confirm-dialog.component'\nimport { Observable, Subject, of } from 'rxjs'\nimport { first } from 'rxjs/operators'\n\n@Injectable({\n  providedIn: 'root',\n})\nexport class OpenDocumentsService {\n  private MAX_OPEN_DOCUMENTS = 5\n\n  constructor(\n    private documentService: DocumentService,\n    private modalService: NgbModal\n  ) {\n    if (sessionStorage.getItem(OPEN_DOCUMENT_SERVICE.DOCUMENTS)) {\n      try {\n        this.openDocuments = JSON.parse(\n          sessionStorage.getItem(OPEN_DOCUMENT_SERVICE.DOCUMENTS)\n        )\n      } catch (e) {\n        sessionStorage.removeItem(OPEN_DOCUMENT_SERVICE.DOCUMENTS)\n        this.openDocuments = []\n      }\n    }\n  }\n\n  private openDocuments: PaperlessDocument[] = []\n  private dirtyDocuments: Set<number> = new Set<number>()\n\n  refreshDocument(id: number) {\n    let index = this.openDocuments.findIndex((doc) => doc.id == id)\n    if (index > -1) {\n      this.documentService.get(id).subscribe(\n        (doc) => {\n          this.openDocuments[index] = doc\n        },\n        (error) => {\n          this.openDocuments.splice(index, 1)\n          this.save()\n        }\n      )\n    }\n  }\n\n  getOpenDocuments(): PaperlessDocument[] {\n    return this.openDocuments\n  }\n\n  getOpenDocument(id: number): PaperlessDocument {\n    return this.openDocuments.find((d) => d.id == id)\n  }\n\n  openDocument(doc: PaperlessDocument): Observable<boolean> {\n    if (this.openDocuments.find((d) => d.id == doc.id) == null) {\n      if (this.openDocuments.length == this.MAX_OPEN_DOCUMENTS) {\n        // at max, ensure changes arent lost\n        const docToRemove = this.openDocuments[this.MAX_OPEN_DOCUMENTS - 1]\n        const closeObservable = this.closeDocument(docToRemove)\n        closeObservable.pipe(first()).subscribe((closed) => {\n          if (closed) this.finishOpenDocument(doc)\n        })\n        return closeObservable\n      } else {\n        // not at max\n        this.finishOpenDocument(doc)\n      }\n    }\n    return of(true)\n  }\n\n  private finishOpenDocument(doc: PaperlessDocument) {\n    this.openDocuments.unshift(doc)\n    this.dirtyDocuments.delete(doc.id)\n    this.save()\n  }\n\n  setDirty(doc: PaperlessDocument, dirty: boolean) {\n    if (!this.openDocuments.find((d) => d.id == doc.id)) return\n    if (dirty) this.dirtyDocuments.add(doc.id)\n    else this.dirtyDocuments.delete(doc.id)\n  }\n\n  hasDirty(): boolean {\n    return this.dirtyDocuments.size > 0\n  }\n\n  closeDocument(doc: PaperlessDocument): Observable<boolean> {\n    let index = this.openDocuments.findIndex((d) => d.id == doc.id)\n    if (index == -1) return of(true)\n    if (!this.dirtyDocuments.has(doc.id)) {\n      this.openDocuments.splice(index, 1)\n      this.save()\n      return of(true)\n    } else {\n      let modal = this.modalService.open(ConfirmDialogComponent, {\n        backdrop: 'static',\n      })\n      modal.componentInstance.title = $localize`Unsaved Changes`\n      modal.componentInstance.messageBold =\n        $localize`You have unsaved changes to the document` +\n        ' \"' +\n        doc.title +\n        '\".'\n      modal.componentInstance.message = $localize`Are you sure you want to close this document?`\n      modal.componentInstance.btnClass = 'btn-warning'\n      modal.componentInstance.btnCaption = $localize`Close document`\n      modal.componentInstance.confirmClicked.pipe(first()).subscribe(() => {\n        modal.componentInstance.buttonsEnabled = false\n        modal.close()\n        this.openDocuments.splice(index, 1)\n        this.dirtyDocuments.delete(doc.id)\n        this.save()\n      })\n      const subject = new Subject<boolean>()\n      modal.componentInstance.confirmSubject = subject\n      return subject.asObservable()\n    }\n  }\n\n  closeAll(): Observable<boolean> {\n    if (this.dirtyDocuments.size) {\n      let modal = this.modalService.open(ConfirmDialogComponent, {\n        backdrop: 'static',\n      })\n      modal.componentInstance.title = $localize`Unsaved Changes`\n      modal.componentInstance.messageBold = $localize`You have unsaved changes.`\n      modal.componentInstance.message = $localize`Are you sure you want to close all documents?`\n      modal.componentInstance.btnClass = 'btn-warning'\n      modal.componentInstance.btnCaption = $localize`Close documents`\n      modal.componentInstance.confirmClicked.pipe(first()).subscribe(() => {\n        modal.componentInstance.buttonsEnabled = false\n        modal.close()\n        this.openDocuments.splice(0, this.openDocuments.length)\n        this.dirtyDocuments.clear()\n        this.save()\n      })\n      const subject = new Subject<boolean>()\n      modal.componentInstance.confirmSubject = subject\n      return subject.asObservable()\n    } else {\n      this.openDocuments.splice(0, this.openDocuments.length)\n      this.dirtyDocuments.clear()\n      this.save()\n      return of(true)\n    }\n  }\n\n  save() {\n    sessionStorage.setItem(\n      OPEN_DOCUMENT_SERVICE.DOCUMENTS,\n      JSON.stringify(this.openDocuments)\n    )\n  }\n}\n","import { ObjectWithId } from 'src/app/data/object-with-id'\nimport { AbstractPaperlessService } from './abstract-paperless-service'\n\nexport abstract class AbstractNameFilterService<\n  T extends ObjectWithId\n> extends AbstractPaperlessService<T> {\n  listFiltered(\n    page?: number,\n    pageSize?: number,\n    sortField?: string,\n    sortReverse?: boolean,\n    nameFilter?: string\n  ) {\n    let params = {}\n    if (nameFilter) {\n      params = { name__icontains: nameFilter }\n    }\n    return this.list(page, pageSize, sortField, sortReverse, params)\n  }\n}\n","import { HttpClient, HttpParams } from '@angular/common/http'\nimport { Observable } from 'rxjs'\nimport { map, publishReplay, refCount } from 'rxjs/operators'\nimport { ObjectWithId } from 'src/app/data/object-with-id'\nimport { Results } from 'src/app/data/results'\nimport { environment } from 'src/environments/environment'\n\nexport abstract class AbstractPaperlessService<T extends ObjectWithId> {\n  protected baseUrl: string = environment.apiBaseUrl\n\n  constructor(protected http: HttpClient, private resourceName: string) {}\n\n  protected getResourceUrl(id?: number, action?: string): string {\n    let url = `${this.baseUrl}${this.resourceName}/`\n    if (id) {\n      url += `${id}/`\n    }\n    if (action) {\n      url += `${action}/`\n    }\n    return url\n  }\n\n  private getOrderingQueryParam(sortField: string, sortReverse: boolean) {\n    if (sortField) {\n      return (sortReverse ? '-' : '') + sortField\n    } else {\n      return null\n    }\n  }\n\n  list(\n    page?: number,\n    pageSize?: number,\n    sortField?: string,\n    sortReverse?: boolean,\n    extraParams?\n  ): Observable<Results<T>> {\n    let httpParams = new HttpParams()\n    if (page) {\n      httpParams = httpParams.set('page', page.toString())\n    }\n    if (pageSize) {\n      httpParams = httpParams.set('page_size', pageSize.toString())\n    }\n    let ordering = this.getOrderingQueryParam(sortField, sortReverse)\n    if (ordering) {\n      httpParams = httpParams.set('ordering', ordering)\n    }\n    for (let extraParamKey in extraParams) {\n      if (extraParams[extraParamKey] != null) {\n        httpParams = httpParams.set(extraParamKey, extraParams[extraParamKey])\n      }\n    }\n    return this.http.get<Results<T>>(this.getResourceUrl(), {\n      params: httpParams,\n    })\n  }\n\n  private _listAll: Observable<Results<T>>\n\n  listAll(\n    sortField?: string,\n    sortReverse?: boolean,\n    extraParams?\n  ): Observable<Results<T>> {\n    if (!this._listAll) {\n      this._listAll = this.list(\n        1,\n        100000,\n        sortField,\n        sortReverse,\n        extraParams\n      ).pipe(publishReplay(1), refCount())\n    }\n    return this._listAll\n  }\n\n  getCached(id: number): Observable<T> {\n    return this.listAll().pipe(\n      map((list) => list.results.find((o) => o.id == id))\n    )\n  }\n\n  getCachedMany(ids: number[]): Observable<T[]> {\n    return this.listAll().pipe(\n      map((list) => ids.map((id) => list.results.find((o) => o.id == id)))\n    )\n  }\n\n  clearCache() {\n    this._listAll = null\n  }\n\n  get(id: number): Observable<T> {\n    return this.http.get<T>(this.getResourceUrl(id))\n  }\n\n  create(o: T): Observable<T> {\n    this.clearCache()\n    return this.http.post<T>(this.getResourceUrl(), o)\n  }\n\n  delete(o: T): Observable<any> {\n    this.clearCache()\n    return this.http.delete(this.getResourceUrl(o.id))\n  }\n\n  update(o: T): Observable<T> {\n    this.clearCache()\n    return this.http.put<T>(this.getResourceUrl(o.id), o)\n  }\n\n  patch(o: T): Observable<T> {\n    this.clearCache()\n    return this.http.patch<T>(this.getResourceUrl(o.id), o)\n  }\n}\n","import { HttpClient } from '@angular/common/http'\nimport { Injectable } from '@angular/core'\nimport { PaperlessCorrespondent } from 'src/app/data/paperless-correspondent'\nimport { AbstractNameFilterService } from './abstract-name-filter-service'\n\n@Injectable({\n  providedIn: 'root',\n})\nexport class CorrespondentService extends AbstractNameFilterService<PaperlessCorrespondent> {\n  constructor(http: HttpClient) {\n    super(http, 'correspondents')\n  }\n}\n","import { Injectable } from '@angular/core'\nimport { HttpClient, HttpParams } from '@angular/common/http'\nimport { PaperlessDocumentComment } from 'src/app/data/paperless-document-comment'\nimport { AbstractPaperlessService } from './abstract-paperless-service'\nimport { Observable } from 'rxjs'\n\n@Injectable({\n  providedIn: 'root',\n})\nexport class DocumentCommentsService extends AbstractPaperlessService<PaperlessDocumentComment> {\n  constructor(http: HttpClient) {\n    super(http, 'documents')\n  }\n\n  getComments(documentId: number): Observable<PaperlessDocumentComment[]> {\n    return this.http.get<PaperlessDocumentComment[]>(\n      this.getResourceUrl(documentId, 'comments')\n    )\n  }\n\n  addComment(id: number, comment): Observable<PaperlessDocumentComment[]> {\n    return this.http.post<PaperlessDocumentComment[]>(\n      this.getResourceUrl(id, 'comments'),\n      { comment: comment }\n    )\n  }\n\n  deleteComment(\n    documentId: number,\n    commentId: number\n  ): Observable<PaperlessDocumentComment[]> {\n    return this.http.delete<PaperlessDocumentComment[]>(\n      this.getResourceUrl(documentId, 'comments'),\n      { params: new HttpParams({ fromString: `id=${commentId}` }) }\n    )\n  }\n}\n","import { HttpClient } from '@angular/common/http'\nimport { Injectable } from '@angular/core'\nimport { PaperlessDocumentType } from 'src/app/data/paperless-document-type'\nimport { AbstractNameFilterService } from './abstract-name-filter-service'\n\n@Injectable({\n  providedIn: 'root',\n})\nexport class DocumentTypeService extends AbstractNameFilterService<PaperlessDocumentType> {\n  constructor(http: HttpClient) {\n    super(http, 'document_types')\n  }\n}\n","import { Injectable } from '@angular/core'\nimport { PaperlessDocument } from 'src/app/data/paperless-document'\nimport { PaperlessDocumentMetadata } from 'src/app/data/paperless-document-metadata'\nimport { AbstractPaperlessService } from './abstract-paperless-service'\nimport { HttpClient, HttpParams } from '@angular/common/http'\nimport { Observable } from 'rxjs'\nimport { Results } from 'src/app/data/results'\nimport { FilterRule } from 'src/app/data/filter-rule'\nimport { map, tap } from 'rxjs/operators'\nimport { CorrespondentService } from './correspondent.service'\nimport { DocumentTypeService } from './document-type.service'\nimport { TagService } from './tag.service'\nimport { PaperlessDocumentSuggestions } from 'src/app/data/paperless-document-suggestions'\nimport { queryParamsFromFilterRules } from '../../utils/query-params'\nimport { StoragePathService } from './storage-path.service'\n\nexport const DOCUMENT_SORT_FIELDS = [\n  { field: 'archive_serial_number', name: $localize`ASN` },\n  { field: 'correspondent__name', name: $localize`Correspondent` },\n  { field: 'title', name: $localize`Title` },\n  { field: 'document_type__name', name: $localize`Document type` },\n  { field: 'created', name: $localize`Created` },\n  { field: 'added', name: $localize`Added` },\n  { field: 'modified', name: $localize`Modified` },\n]\n\nexport const DOCUMENT_SORT_FIELDS_FULLTEXT = [\n  ...DOCUMENT_SORT_FIELDS,\n  {\n    field: 'score',\n    name: $localize`:Score is a value returned by the full text search engine and specifies how well a result matches the given query:Search score`,\n  },\n]\n\nexport interface SelectionDataItem {\n  id: number\n  document_count: number\n}\n\nexport interface SelectionData {\n  selected_storage_paths: SelectionDataItem[]\n  selected_correspondents: SelectionDataItem[]\n  selected_tags: SelectionDataItem[]\n  selected_document_types: SelectionDataItem[]\n}\n\n@Injectable({\n  providedIn: 'root',\n})\nexport class DocumentService extends AbstractPaperlessService<PaperlessDocument> {\n  private _searchQuery: string\n\n  constructor(\n    http: HttpClient,\n    private correspondentService: CorrespondentService,\n    private documentTypeService: DocumentTypeService,\n    private tagService: TagService,\n    private storagePathService: StoragePathService\n  ) {\n    super(http, 'documents')\n  }\n\n  addObservablesToDocument(doc: PaperlessDocument) {\n    if (doc.correspondent) {\n      doc.correspondent$ = this.correspondentService.getCached(\n        doc.correspondent\n      )\n    }\n    if (doc.document_type) {\n      doc.document_type$ = this.documentTypeService.getCached(doc.document_type)\n    }\n    if (doc.tags) {\n      doc.tags$ = this.tagService\n        .getCachedMany(doc.tags)\n        .pipe(\n          tap((tags) =>\n            tags.sort((tagA, tagB) => tagA.name.localeCompare(tagB.name))\n          )\n        )\n    }\n    if (doc.storage_path) {\n      doc.storage_path$ = this.storagePathService.getCached(doc.storage_path)\n    }\n    return doc\n  }\n\n  listFiltered(\n    page?: number,\n    pageSize?: number,\n    sortField?: string,\n    sortReverse?: boolean,\n    filterRules?: FilterRule[],\n    extraParams = {}\n  ): Observable<Results<PaperlessDocument>> {\n    return this.list(\n      page,\n      pageSize,\n      sortField,\n      sortReverse,\n      Object.assign(extraParams, queryParamsFromFilterRules(filterRules))\n    ).pipe(\n      map((results) => {\n        results.results.forEach((doc) => this.addObservablesToDocument(doc))\n        return results\n      })\n    )\n  }\n\n  listAllFilteredIds(filterRules?: FilterRule[]): Observable<number[]> {\n    return this.listFiltered(1, 100000, null, null, filterRules, {\n      fields: 'id',\n    }).pipe(map((response) => response.results.map((doc) => doc.id)))\n  }\n\n  getPreviewUrl(id: number, original: boolean = false): string {\n    let url = this.getResourceUrl(id, 'preview')\n    if (this._searchQuery) url += `#search=\"${this._searchQuery}\"`\n    if (original) {\n      url += '?original=true'\n    }\n    return url\n  }\n\n  getThumbUrl(id: number): string {\n    return this.getResourceUrl(id, 'thumb')\n  }\n\n  getDownloadUrl(id: number, original: boolean = false): string {\n    let url = this.getResourceUrl(id, 'download')\n    if (original) {\n      url += '?original=true'\n    }\n    return url\n  }\n\n  update(o: PaperlessDocument): Observable<PaperlessDocument> {\n    // we want to only set created_date\n    o.created = undefined\n    return super.update(o)\n  }\n\n  uploadDocument(formData) {\n    return this.http.post(\n      this.getResourceUrl(null, 'post_document'),\n      formData,\n      { reportProgress: true, observe: 'events' }\n    )\n  }\n\n  getMetadata(id: number): Observable<PaperlessDocumentMetadata> {\n    return this.http.get<PaperlessDocumentMetadata>(\n      this.getResourceUrl(id, 'metadata')\n    )\n  }\n\n  bulkEdit(ids: number[], method: string, args: any) {\n    return this.http.post(this.getResourceUrl(null, 'bulk_edit'), {\n      documents: ids,\n      method: method,\n      parameters: args,\n    })\n  }\n\n  getSelectionData(ids: number[]): Observable<SelectionData> {\n    return this.http.post<SelectionData>(\n      this.getResourceUrl(null, 'selection_data'),\n      { documents: ids }\n    )\n  }\n\n  getSuggestions(id: number): Observable<PaperlessDocumentSuggestions> {\n    return this.http.get<PaperlessDocumentSuggestions>(\n      this.getResourceUrl(id, 'suggestions')\n    )\n  }\n\n  bulkDownload(\n    ids: number[],\n    content = 'both',\n    useFilenameFormatting: boolean = false\n  ) {\n    return this.http.post(\n      this.getResourceUrl(null, 'bulk_download'),\n      {\n        documents: ids,\n        content: content,\n        follow_formatting: useFilenameFormatting,\n      },\n      { responseType: 'blob' }\n    )\n  }\n\n  public set searchQuery(query: string) {\n    this._searchQuery = query\n  }\n}\n","import { HttpClient } from '@angular/common/http'\nimport { Injectable } from '@angular/core'\nimport { Observable } from 'rxjs'\nimport { environment } from 'src/environments/environment'\n\n@Injectable({\n  providedIn: 'root',\n})\nexport class LogService {\n  constructor(private http: HttpClient) {}\n\n  list(): Observable<string[]> {\n    return this.http.get<string[]>(`${environment.apiBaseUrl}logs/`)\n  }\n\n  get(id: string): Observable<string[]> {\n    return this.http.get<string[]>(`${environment.apiBaseUrl}logs/${id}/`)\n  }\n}\n","import { HttpClient } from '@angular/common/http'\nimport { Injectable } from '@angular/core'\nimport { combineLatest, Observable } from 'rxjs'\nimport { tap } from 'rxjs/operators'\nimport { PaperlessMailAccount } from 'src/app/data/paperless-mail-account'\nimport { AbstractPaperlessService } from './abstract-paperless-service'\n\n@Injectable({\n  providedIn: 'root',\n})\nexport class MailAccountService extends AbstractPaperlessService<PaperlessMailAccount> {\n  loading: boolean\n\n  constructor(http: HttpClient) {\n    super(http, 'mail_accounts')\n  }\n\n  private reload() {\n    this.loading = true\n    this.listAll().subscribe((r) => {\n      this.mailAccounts = r.results\n      this.loading = false\n    })\n  }\n\n  private mailAccounts: PaperlessMailAccount[] = []\n\n  get allAccounts() {\n    return this.mailAccounts\n  }\n\n  create(o: PaperlessMailAccount) {\n    return super.create(o).pipe(tap(() => this.reload()))\n  }\n\n  update(o: PaperlessMailAccount) {\n    return super.update(o).pipe(tap(() => this.reload()))\n  }\n\n  patchMany(\n    objects: PaperlessMailAccount[]\n  ): Observable<PaperlessMailAccount[]> {\n    return combineLatest(objects.map((o) => super.patch(o))).pipe(\n      tap(() => this.reload())\n    )\n  }\n\n  delete(o: PaperlessMailAccount) {\n    return super.delete(o).pipe(tap(() => this.reload()))\n  }\n}\n","import { HttpClient } from '@angular/common/http'\nimport { Injectable } from '@angular/core'\nimport { combineLatest, Observable } from 'rxjs'\nimport { tap } from 'rxjs/operators'\nimport { PaperlessMailRule } from 'src/app/data/paperless-mail-rule'\nimport { AbstractPaperlessService } from './abstract-paperless-service'\n\n@Injectable({\n  providedIn: 'root',\n})\nexport class MailRuleService extends AbstractPaperlessService<PaperlessMailRule> {\n  loading: boolean\n\n  constructor(http: HttpClient) {\n    super(http, 'mail_rules')\n  }\n\n  private reload() {\n    this.loading = true\n    this.listAll().subscribe((r) => {\n      this.mailRules = r.results\n      this.loading = false\n    })\n  }\n\n  private mailRules: PaperlessMailRule[] = []\n\n  get allRules() {\n    return this.mailRules\n  }\n\n  create(o: PaperlessMailRule) {\n    return super.create(o).pipe(tap(() => this.reload()))\n  }\n\n  update(o: PaperlessMailRule) {\n    return super.update(o).pipe(tap(() => this.reload()))\n  }\n\n  patchMany(objects: PaperlessMailRule[]): Observable<PaperlessMailRule[]> {\n    return combineLatest(objects.map((o) => super.patch(o))).pipe(\n      tap(() => this.reload())\n    )\n  }\n\n  delete(o: PaperlessMailRule) {\n    return super.delete(o).pipe(tap(() => this.reload()))\n  }\n}\n","import { HttpClient } from '@angular/common/http'\nimport { Injectable } from '@angular/core'\nimport { map, Observable } from 'rxjs'\nimport { environment } from 'src/environments/environment'\n\nexport interface AppRemoteVersion {\n  version: string\n  update_available: boolean\n}\n\n@Injectable({\n  providedIn: 'root',\n})\nexport class RemoteVersionService {\n  constructor(private http: HttpClient) {}\n\n  public checkForUpdates(): Observable<AppRemoteVersion> {\n    return this.http.get<AppRemoteVersion>(\n      `${environment.apiBaseUrl}remote_version/`\n    )\n  }\n}\n","import { HttpClient } from '@angular/common/http'\nimport { Injectable } from '@angular/core'\nimport { combineLatest, Observable } from 'rxjs'\nimport { tap } from 'rxjs/operators'\nimport { PaperlessSavedView } from 'src/app/data/paperless-saved-view'\nimport { AbstractPaperlessService } from './abstract-paperless-service'\n\n@Injectable({\n  providedIn: 'root',\n})\nexport class SavedViewService extends AbstractPaperlessService<PaperlessSavedView> {\n  loading: boolean\n\n  constructor(http: HttpClient) {\n    super(http, 'saved_views')\n    this.reload()\n  }\n\n  private reload() {\n    this.loading = true\n    this.listAll().subscribe((r) => {\n      this.savedViews = r.results\n      this.loading = false\n    })\n  }\n\n  private savedViews: PaperlessSavedView[] = []\n\n  get allViews() {\n    return this.savedViews\n  }\n\n  get sidebarViews() {\n    return this.savedViews.filter((v) => v.show_in_sidebar)\n  }\n\n  get dashboardViews() {\n    return this.savedViews.filter((v) => v.show_on_dashboard)\n  }\n\n  create(o: PaperlessSavedView) {\n    return super.create(o).pipe(tap(() => this.reload()))\n  }\n\n  update(o: PaperlessSavedView) {\n    return super.update(o).pipe(tap(() => this.reload()))\n  }\n\n  patchMany(objects: PaperlessSavedView[]): Observable<PaperlessSavedView[]> {\n    return combineLatest(objects.map((o) => super.patch(o))).pipe(\n      tap(() => this.reload())\n    )\n  }\n\n  delete(o: PaperlessSavedView) {\n    return super.delete(o).pipe(tap(() => this.reload()))\n  }\n}\n","import { HttpClient, HttpParams } from '@angular/common/http'\nimport { Injectable } from '@angular/core'\nimport { Observable } from 'rxjs'\nimport { map } from 'rxjs/operators'\nimport { environment } from 'src/environments/environment'\nimport { DocumentService } from './document.service'\n\n@Injectable({\n  providedIn: 'root',\n})\nexport class SearchService {\n  constructor(private http: HttpClient) {}\n\n  autocomplete(term: string): Observable<string[]> {\n    return this.http.get<string[]>(\n      `${environment.apiBaseUrl}search/autocomplete/`,\n      { params: new HttpParams().set('term', term) }\n    )\n  }\n}\n","import { HttpClient } from '@angular/common/http'\nimport { Injectable } from '@angular/core'\nimport { PaperlessStoragePath } from 'src/app/data/paperless-storage-path'\nimport { AbstractNameFilterService } from './abstract-name-filter-service'\n\n@Injectable({\n  providedIn: 'root',\n})\nexport class StoragePathService extends AbstractNameFilterService<PaperlessStoragePath> {\n  constructor(http: HttpClient) {\n    super(http, 'storage_paths')\n  }\n}\n","import { HttpClient } from '@angular/common/http'\nimport { Injectable } from '@angular/core'\nimport { PaperlessTag } from 'src/app/data/paperless-tag'\nimport { AbstractNameFilterService } from './abstract-name-filter-service'\n\n@Injectable({\n  providedIn: 'root',\n})\nexport class TagService extends AbstractNameFilterService<PaperlessTag> {\n  constructor(http: HttpClient) {\n    super(http, 'tags')\n  }\n}\n","import { DOCUMENT } from '@angular/common'\nimport { HttpClient } from '@angular/common/http'\nimport {\n  EventEmitter,\n  Inject,\n  Injectable,\n  LOCALE_ID,\n  Renderer2,\n  RendererFactory2,\n  RendererStyleFlags2,\n} from '@angular/core'\nimport { Meta } from '@angular/platform-browser'\nimport { CookieService } from 'ngx-cookie-service'\nimport { first, Observable, tap } from 'rxjs'\nimport {\n  BRIGHTNESS,\n  estimateBrightnessForColor,\n  hexToHsl,\n} from 'src/app/utils/color'\nimport { environment } from 'src/environments/environment'\nimport {\n  PaperlessUiSettings,\n  SETTINGS,\n  SETTINGS_KEYS,\n} from '../data/paperless-uisettings'\nimport { SavedViewService } from './rest/saved-view.service'\nimport { ToastService } from './toast.service'\n\nexport interface LanguageOption {\n  code: string\n  name: string\n  englishName?: string\n\n  /**\n   * A date format string for use by the date selectors. MUST contain 'yyyy', 'mm' and 'dd'.\n   */\n  dateInputFormat?: string\n}\n\n@Injectable({\n  providedIn: 'root',\n})\nexport class SettingsService {\n  private renderer: Renderer2\n  protected baseUrl: string = environment.apiBaseUrl + 'ui_settings/'\n\n  private settings: Object = {}\n\n  public displayName: string\n\n  public settingsSaved: EventEmitter<any> = new EventEmitter()\n\n  constructor(\n    rendererFactory: RendererFactory2,\n    @Inject(DOCUMENT) private document,\n    private cookieService: CookieService,\n    private meta: Meta,\n    @Inject(LOCALE_ID) private localeId: string,\n    protected http: HttpClient,\n    private toastService: ToastService,\n    private savedViewService: SavedViewService\n  ) {\n    this.renderer = rendererFactory.createRenderer(null, null)\n  }\n\n  // this is called by the app initializer in app.module\n  public initializeSettings(): Observable<PaperlessUiSettings> {\n    return this.http.get<PaperlessUiSettings>(this.baseUrl).pipe(\n      first(),\n      tap((uisettings) => {\n        Object.assign(this.settings, uisettings.settings)\n        this.maybeMigrateSettings()\n        // to update lang cookie\n        if (this.settings['language']?.length)\n          this.setLanguage(this.settings['language'])\n        this.displayName = uisettings.display_name.trim()\n      })\n    )\n  }\n\n  public updateAppearanceSettings(\n    darkModeUseSystem = null,\n    darkModeEnabled = null,\n    themeColor = null\n  ): void {\n    darkModeUseSystem ??= this.get(SETTINGS_KEYS.DARK_MODE_USE_SYSTEM)\n    darkModeEnabled ??= this.get(SETTINGS_KEYS.DARK_MODE_ENABLED)\n    themeColor ??= this.get(SETTINGS_KEYS.THEME_COLOR)\n\n    if (darkModeUseSystem) {\n      this.renderer.addClass(this.document.body, 'color-scheme-system')\n      this.renderer.removeClass(this.document.body, 'color-scheme-dark')\n    } else {\n      this.renderer.removeClass(this.document.body, 'color-scheme-system')\n      darkModeEnabled\n        ? this.renderer.addClass(this.document.body, 'color-scheme-dark')\n        : this.renderer.removeClass(this.document.body, 'color-scheme-dark')\n    }\n\n    // remove these in case they were there\n    this.renderer.removeClass(this.document.body, 'primary-dark')\n    this.renderer.removeClass(this.document.body, 'primary-light')\n\n    if (themeColor) {\n      const hsl = hexToHsl(themeColor)\n      const bgBrightnessEstimate = estimateBrightnessForColor(themeColor)\n\n      if (bgBrightnessEstimate == BRIGHTNESS.DARK) {\n        this.renderer.addClass(this.document.body, 'primary-dark')\n        this.renderer.removeClass(this.document.body, 'primary-light')\n      } else {\n        this.renderer.addClass(this.document.body, 'primary-light')\n        this.renderer.removeClass(this.document.body, 'primary-dark')\n      }\n      this.renderer.setStyle(\n        document.body,\n        '--pngx-primary',\n        `${+hsl.h * 360},${hsl.s * 100}%`,\n        RendererStyleFlags2.DashCase\n      )\n      this.renderer.setStyle(\n        document.body,\n        '--pngx-primary-lightness',\n        `${hsl.l * 100}%`,\n        RendererStyleFlags2.DashCase\n      )\n    } else {\n      this.renderer.removeStyle(\n        document.body,\n        '--pngx-primary',\n        RendererStyleFlags2.DashCase\n      )\n      this.renderer.removeStyle(\n        document.body,\n        '--pngx-primary-lightness',\n        RendererStyleFlags2.DashCase\n      )\n    }\n  }\n\n  getLanguageOptions(): LanguageOption[] {\n    const languages = [\n      {\n        code: 'en-us',\n        name: $localize`English (US)`,\n        englishName: 'English (US)',\n        dateInputFormat: 'mm/dd/yyyy',\n      },\n      {\n        code: 'ar-ar',\n        name: $localize`Arabic`,\n        englishName: 'Arabic',\n        dateInputFormat: 'yyyy-mm-dd',\n      },\n      {\n        code: 'be-by',\n        name: $localize`Belarusian`,\n        englishName: 'Belarusian',\n        dateInputFormat: 'dd.mm.yyyy',\n      },\n      {\n        code: 'cs-cz',\n        name: $localize`Czech`,\n        englishName: 'Czech',\n        dateInputFormat: 'dd.mm.yyyy',\n      },\n      {\n        code: 'da-dk',\n        name: $localize`Danish`,\n        englishName: 'Danish',\n        dateInputFormat: 'dd.mm.yyyy',\n      },\n      {\n        code: 'de-de',\n        name: $localize`German`,\n        englishName: 'German',\n        dateInputFormat: 'dd.mm.yyyy',\n      },\n      {\n        code: 'en-gb',\n        name: $localize`English (GB)`,\n        englishName: 'English (GB)',\n        dateInputFormat: 'dd/mm/yyyy',\n      },\n      {\n        code: 'es-es',\n        name: $localize`Spanish`,\n        englishName: 'Spanish',\n        dateInputFormat: 'dd/mm/yyyy',\n      },\n      {\n        code: 'fr-fr',\n        name: $localize`French`,\n        englishName: 'French',\n        dateInputFormat: 'dd/mm/yyyy',\n      },\n      {\n        code: 'it-it',\n        name: $localize`Italian`,\n        englishName: 'Italian',\n        dateInputFormat: 'dd/mm/yyyy',\n      },\n      {\n        code: 'lb-lu',\n        name: $localize`Luxembourgish`,\n        englishName: 'Luxembourgish',\n        dateInputFormat: 'dd.mm.yyyy',\n      },\n      {\n        code: 'nl-nl',\n        name: $localize`Dutch`,\n        englishName: 'Dutch',\n        dateInputFormat: 'dd-mm-yyyy',\n      },\n      {\n        code: 'pl-pl',\n        name: $localize`Polish`,\n        englishName: 'Polish',\n        dateInputFormat: 'dd.mm.yyyy',\n      },\n      {\n        code: 'pt-br',\n        name: $localize`Portuguese (Brazil)`,\n        englishName: 'Portuguese (Brazil)',\n        dateInputFormat: 'dd/mm/yyyy',\n      },\n      {\n        code: 'pt-pt',\n        name: $localize`Portuguese`,\n        englishName: 'Portuguese',\n        dateInputFormat: 'dd/mm/yyyy',\n      },\n      {\n        code: 'ro-ro',\n        name: $localize`Romanian`,\n        englishName: 'Romanian',\n        dateInputFormat: 'dd.mm.yyyy',\n      },\n      {\n        code: 'ru-ru',\n        name: $localize`Russian`,\n        englishName: 'Russian',\n        dateInputFormat: 'dd.mm.yyyy',\n      },\n      {\n        code: 'sl-si',\n        name: $localize`Slovenian`,\n        englishName: 'Slovenian',\n        dateInputFormat: 'dd.mm.yyyy',\n      },\n      {\n        code: 'sr-cs',\n        name: $localize`Serbian`,\n        englishName: 'Serbian',\n        dateInputFormat: 'dd.mm.yyyy',\n      },\n      {\n        code: 'sv-se',\n        name: $localize`Swedish`,\n        englishName: 'Swedish',\n        dateInputFormat: 'yyyy-mm-dd',\n      },\n      {\n        code: 'tr-tr',\n        name: $localize`Turkish`,\n        englishName: 'Turkish',\n        dateInputFormat: 'yyyy-mm-dd',\n      },\n      {\n        code: 'zh-cn',\n        name: $localize`Chinese Simplified`,\n        englishName: 'Chinese Simplified',\n        dateInputFormat: 'yyyy-mm-dd',\n      },\n    ]\n\n    // Sort languages by localized name at runtime\n    languages.sort((a, b) => {\n      return a.name < b.name ? -1 : 1\n    })\n\n    return languages\n  }\n\n  getDateLocaleOptions(): LanguageOption[] {\n    let isoOption: LanguageOption = {\n      code: 'iso-8601',\n      name: $localize`ISO 8601`,\n      dateInputFormat: 'yyyy-mm-dd',\n    }\n    return [isoOption].concat(this.getLanguageOptions())\n  }\n\n  private getLanguageCookieName() {\n    let prefix = ''\n    if (this.meta.getTag('name=cookie_prefix')) {\n      prefix = this.meta.getTag('name=cookie_prefix').content\n    }\n    return `${prefix || ''}django_language`\n  }\n\n  getLanguage(): string {\n    return this.get(SETTINGS_KEYS.LANGUAGE)\n  }\n\n  setLanguage(language: string) {\n    this.set(SETTINGS_KEYS.LANGUAGE, language)\n    if (language?.length) {\n      // for Django\n      this.cookieService.set(this.getLanguageCookieName(), language)\n    } else {\n      this.cookieService.delete(this.getLanguageCookieName())\n    }\n  }\n\n  getLocalizedDateInputFormat(): string {\n    let dateLocale =\n      this.get(SETTINGS_KEYS.DATE_LOCALE) ||\n      this.getLanguage() ||\n      this.localeId.toLowerCase()\n    return (\n      this.getDateLocaleOptions().find((o) => o.code == dateLocale)\n        ?.dateInputFormat || 'yyyy-mm-dd'\n    )\n  }\n\n  private getSettingRawValue(key: string): any {\n    let value = null\n    // parse key:key:key into nested object\n    const keys = key.replace('general-settings:', '').split(':')\n    let settingObj = this.settings\n    keys.forEach((keyPart, index) => {\n      keyPart = keyPart.replace(/-/g, '_')\n      if (!settingObj.hasOwnProperty(keyPart)) return\n      if (index == keys.length - 1) value = settingObj[keyPart]\n      else settingObj = settingObj[keyPart]\n    })\n    return value\n  }\n\n  get(key: string): any {\n    let setting = SETTINGS.find((s) => s.key == key)\n\n    if (!setting) {\n      return null\n    }\n\n    let value = this.getSettingRawValue(key)\n\n    if (value != null) {\n      switch (setting.type) {\n        case 'boolean':\n          return JSON.parse(value)\n        case 'number':\n          return +value\n        case 'string':\n          return value\n        default:\n          return value\n      }\n    } else {\n      return setting.default\n    }\n  }\n\n  set(key: string, value: any) {\n    // parse key:key:key into nested object\n    let settingObj = this.settings\n    const keys = key.replace('general-settings:', '').split(':')\n    keys.forEach((keyPart, index) => {\n      keyPart = keyPart.replace(/-/g, '_')\n      if (!settingObj.hasOwnProperty(keyPart)) settingObj[keyPart] = {}\n      if (index == keys.length - 1) settingObj[keyPart] = value\n      else settingObj = settingObj[keyPart]\n    })\n  }\n\n  private settingIsSet(key: string): boolean {\n    let value = this.getSettingRawValue(key)\n    return value != null\n  }\n\n  storeSettings(): Observable<any> {\n    return this.http.post(this.baseUrl, { settings: this.settings }).pipe(\n      tap((results) => {\n        if (results.success) {\n          this.settingsSaved.emit()\n        }\n      })\n    )\n  }\n\n  maybeMigrateSettings() {\n    if (\n      !this.settings.hasOwnProperty('documentListSize') &&\n      localStorage.getItem(SETTINGS_KEYS.DOCUMENT_LIST_SIZE)\n    ) {\n      // lets migrate\n      const successMessage = $localize`Successfully completed one-time migratration of settings to the database!`\n      const errorMessage = $localize`Unable to migrate settings to the database, please try saving manually.`\n\n      try {\n        for (const setting in SETTINGS_KEYS) {\n          const key = SETTINGS_KEYS[setting]\n          const value = localStorage.getItem(key)\n          this.set(key, value)\n        }\n        this.set(\n          SETTINGS_KEYS.LANGUAGE,\n          this.cookieService.get(this.getLanguageCookieName())\n        )\n      } catch (error) {\n        this.toastService.showError(errorMessage)\n        console.log(error)\n      }\n\n      this.storeSettings()\n        .pipe(first())\n        .subscribe({\n          next: () => {\n            this.updateAppearanceSettings()\n            this.toastService.showInfo(successMessage)\n          },\n          error: (e) => {\n            this.toastService.showError(errorMessage)\n            console.log(e)\n          },\n        })\n    }\n\n    if (\n      !this.settingIsSet(SETTINGS_KEYS.UPDATE_CHECKING_ENABLED) &&\n      this.get(SETTINGS_KEYS.UPDATE_CHECKING_BACKEND_SETTING) != 'default'\n    ) {\n      this.set(\n        SETTINGS_KEYS.UPDATE_CHECKING_ENABLED,\n        this.get(SETTINGS_KEYS.UPDATE_CHECKING_BACKEND_SETTING).toString() ===\n          'true'\n      )\n\n      this.storeSettings()\n        .pipe(first())\n        .subscribe({\n          error: (e) => {\n            this.toastService.showError(\n              'Error migrating update checking setting'\n            )\n            console.log(e)\n          },\n        })\n    }\n  }\n\n  get updateCheckingIsSet(): boolean {\n    return this.settingIsSet(SETTINGS_KEYS.UPDATE_CHECKING_ENABLED)\n  }\n\n  offerTour(): boolean {\n    return (\n      !this.savedViewService.loading &&\n      this.savedViewService.dashboardViews.length == 0\n    )\n  }\n}\n","import { HttpClient } from '@angular/common/http'\nimport { Injectable } from '@angular/core'\nimport { first } from 'rxjs/operators'\nimport {\n  PaperlessTask,\n  PaperlessTaskStatus,\n  PaperlessTaskType,\n} from 'src/app/data/paperless-task'\nimport { environment } from 'src/environments/environment'\n\n@Injectable({\n  providedIn: 'root',\n})\nexport class TasksService {\n  private baseUrl: string = environment.apiBaseUrl\n\n  loading: boolean\n\n  private fileTasks: PaperlessTask[] = []\n\n  public get total(): number {\n    return this.fileTasks?.length\n  }\n\n  public get allFileTasks(): PaperlessTask[] {\n    return this.fileTasks.slice(0)\n  }\n\n  public get queuedFileTasks(): PaperlessTask[] {\n    return this.fileTasks.filter((t) => t.status == PaperlessTaskStatus.Pending)\n  }\n\n  public get startedFileTasks(): PaperlessTask[] {\n    return this.fileTasks.filter((t) => t.status == PaperlessTaskStatus.Started)\n  }\n\n  public get completedFileTasks(): PaperlessTask[] {\n    return this.fileTasks.filter(\n      (t) => t.status == PaperlessTaskStatus.Complete\n    )\n  }\n\n  public get failedFileTasks(): PaperlessTask[] {\n    return this.fileTasks.filter((t) => t.status == PaperlessTaskStatus.Failed)\n  }\n\n  constructor(private http: HttpClient) {}\n\n  public reload() {\n    this.loading = true\n\n    this.http\n      .get<PaperlessTask[]>(`${this.baseUrl}tasks/`)\n      .pipe(first())\n      .subscribe((r) => {\n        this.fileTasks = r.filter((t) => t.type == PaperlessTaskType.File) // they're all File tasks, for now\n        this.loading = false\n      })\n  }\n\n  public dismissTasks(task_ids: Set<number>) {\n    this.http\n      .post(`${this.baseUrl}acknowledge_tasks/`, {\n        tasks: [...task_ids],\n      })\n      .pipe(first())\n      .subscribe((r) => {\n        this.reload()\n      })\n  }\n}\n","import { Injectable } from '@angular/core'\nimport { Subject, zip } from 'rxjs'\n\nexport interface Toast {\n  title: string\n\n  content: string\n\n  delay: number\n\n  action?: any\n\n  actionName?: string\n}\n\n@Injectable({\n  providedIn: 'root',\n})\nexport class ToastService {\n  constructor() {}\n\n  private toasts: Toast[] = []\n\n  private toastsSubject: Subject<Toast[]> = new Subject()\n\n  show(toast: Toast) {\n    this.toasts.push(toast)\n    this.toastsSubject.next(this.toasts)\n  }\n\n  showError(content: string, delay: number = 10000) {\n    this.show({ title: $localize`Error`, content: content, delay: delay })\n  }\n\n  showInfo(content: string, delay: number = 5000) {\n    this.show({ title: $localize`Information`, content: content, delay: delay })\n  }\n\n  closeToast(toast: Toast) {\n    let index = this.toasts.findIndex((t) => t == toast)\n    if (index > -1) {\n      this.toasts.splice(index, 1)\n      this.toastsSubject.next(this.toasts)\n    }\n  }\n\n  getToasts() {\n    return this.toastsSubject\n  }\n}\n","import { Injectable } from '@angular/core'\nimport { HttpEventType } from '@angular/common/http'\nimport { FileSystemFileEntry, NgxFileDropEntry } from 'ngx-file-drop'\nimport {\n  ConsumerStatusService,\n  FileStatusPhase,\n} from './consumer-status.service'\nimport { DocumentService } from './rest/document.service'\nimport { Subscription } from 'rxjs'\n\n@Injectable({\n  providedIn: 'root',\n})\nexport class UploadDocumentsService {\n  private uploadSubscriptions: Array<Subscription> = []\n\n  constructor(\n    private documentService: DocumentService,\n    private consumerStatusService: ConsumerStatusService\n  ) {}\n\n  uploadFiles(files: NgxFileDropEntry[]) {\n    for (const droppedFile of files) {\n      if (droppedFile.fileEntry.isFile) {\n        const fileEntry = droppedFile.fileEntry as FileSystemFileEntry\n        fileEntry.file((file: File) => {\n          let formData = new FormData()\n          formData.append('document', file, file.name)\n          let status = this.consumerStatusService.newFileUpload(file.name)\n\n          status.message = $localize`Connecting...`\n\n          this.uploadSubscriptions[file.name] = this.documentService\n            .uploadDocument(formData)\n            .subscribe({\n              next: (event) => {\n                if (event.type == HttpEventType.UploadProgress) {\n                  status.updateProgress(\n                    FileStatusPhase.UPLOADING,\n                    event.loaded,\n                    event.total\n                  )\n                  status.message = $localize`Uploading...`\n                } else if (event.type == HttpEventType.Response) {\n                  status.taskId = event.body['task_id']\n                  status.message = $localize`Upload complete, waiting...`\n                  this.uploadSubscriptions[file.name]?.complete()\n                }\n              },\n              error: (error) => {\n                switch (error.status) {\n                  case 400: {\n                    this.consumerStatusService.fail(\n                      status,\n                      error.error.document\n                    )\n                    break\n                  }\n                  default: {\n                    this.consumerStatusService.fail(\n                      status,\n                      $localize`HTTP error: ${error.status} ${error.statusText}`\n                    )\n                    break\n                  }\n                }\n                this.uploadSubscriptions[file.name]?.complete()\n              },\n            })\n        })\n      }\n    }\n  }\n}\n","import { HSL, RGB } from 'ngx-color'\n\nexport const BRIGHTNESS = {\n  LIGHT: 'light',\n  DARK: 'dark',\n}\n\nfunction componentToHex(c) {\n  var hex = Math.floor(c).toString(16)\n  return hex.length == 1 ? '0' + hex : hex\n}\n\n/**\n *\n * https://axonflux.com/handy-rgb-to-hsl-and-rgb-to-hsv-color-model-c\n * Converts an HSL color value to RGB. Conversion formula\n * adapted from http://en.wikipedia.org/wiki/HSL_color_space.\n * Assumes h, s, and l are contained in the set [0, 1] and\n * returns r, g, and b in the set [0, 255].\n *\n * @param   Number  h       The hue\n * @param   Number  s       The saturation\n * @param   Number  l       The lightness\n * @return  Array           The RGB representation\n */\nfunction hslToRgb(h, s, l) {\n  var r, g, b\n\n  if (s == 0) {\n    r = g = b = l // achromatic\n  } else {\n    function hue2rgb(p, q, t) {\n      if (t < 0) t += 1\n      if (t > 1) t -= 1\n      if (t < 1 / 6) return p + (q - p) * 6 * t\n      if (t < 1 / 2) return q\n      if (t < 2 / 3) return p + (q - p) * (2 / 3 - t) * 6\n      return p\n    }\n\n    var q = l < 0.5 ? l * (1 + s) : l + s - l * s\n    var p = 2 * l - q\n    r = hue2rgb(p, q, h + 1 / 3)\n    g = hue2rgb(p, q, h)\n    b = hue2rgb(p, q, h - 1 / 3)\n  }\n\n  return [r * 255, g * 255, b * 255]\n}\n\n/**\n * https://axonflux.com/handy-rgb-to-hsl-and-rgb-to-hsv-color-model-c\n * Converts an RGB color value to HSL. Conversion formula\n * adapted from http://en.wikipedia.org/wiki/HSL_color_space.\n * Assumes r, g, and b are contained in the set [0, 255] and\n * returns h, s, and l in the set [0, 1].\n *\n * @param   Number  r       The red color value\n * @param   Number  g       The green color value\n * @param   Number  b       The blue color value\n * @return  Array           The HSL representation\n */\nexport function rgbToHsl(r, g, b) {\n  ;(r /= 255), (g /= 255), (b /= 255)\n  var max = Math.max(r, g, b),\n    min = Math.min(r, g, b)\n  var h,\n    s,\n    l = (max + min) / 2\n\n  if (max == min) {\n    h = s = 0 // achromatic\n  } else {\n    var d = max - min\n    s = l > 0.5 ? d / (2 - max - min) : d / (max + min)\n    switch (max) {\n      case r:\n        h = (g - b) / d + (g < b ? 6 : 0)\n        break\n      case g:\n        h = (b - r) / d + 2\n        break\n      case b:\n        h = (r - g) / d + 4\n        break\n    }\n    h /= 6\n  }\n\n  return [h, s, l]\n}\n\nexport function hexToHsl(hex: string): HSL {\n  const rgb = hexToRGB(hex)\n  const hsl = rgbToHsl(rgb.r, rgb.g, rgb.b)\n  return { h: hsl[0], s: hsl[1], l: hsl[2] }\n}\n\nexport function hexToRGB(hex: string): RGB {\n  hex = hex.replace('#', '')\n  let aRgbHex = hex.match(/.{1,2}/g)\n  return {\n    r: parseInt(aRgbHex[0], 16),\n    g: parseInt(aRgbHex[1], 16),\n    b: parseInt(aRgbHex[2], 16),\n  }\n}\n\nexport function computeLuminance(color: RGB) {\n  // Formula: http://www.w3.org/TR/2008/REC-WCAG20-20081211/#relativeluminancedef\n  const colorKeys = Object.keys(color)\n  for (var i = 0; i < 3; i++) {\n    var rgb = color[colorKeys[i]]\n    rgb /= 255\n    rgb = rgb < 0.03928 ? rgb / 12.92 : Math.pow((rgb + 0.055) / 1.055, 2.4)\n    color[i] = rgb\n  }\n  return 0.2126 * color[0] + 0.7152 * color[1] + 0.0722 * color[2]\n}\n\nexport function estimateBrightnessForColor(colorHex: string) {\n  // See <https://www.w3.org/TR/WCAG20/#contrast-ratiodef>\n  // Adapted from https://api.flutter.dev/flutter/material/ThemeData/estimateBrightnessForColor.html\n  const rgb = hexToRGB(colorHex)\n  const luminance = computeLuminance(rgb)\n  const kThreshold = 0.15\n  return (luminance + 0.05) * (luminance + 0.05) > kThreshold\n    ? BRIGHTNESS.LIGHT\n    : BRIGHTNESS.DARK\n}\n\nexport function randomColor() {\n  let rgb = hslToRgb(Math.random(), 0.6, Math.random() * 0.4 + 0.4)\n  return `#${componentToHex(rgb[0])}${componentToHex(rgb[1])}${componentToHex(\n    rgb[2]\n  )}`\n}\n","import { Injectable } from '@angular/core'\nimport {\n  NgbDateParserFormatter,\n  NgbDateStruct,\n} from '@ng-bootstrap/ng-bootstrap'\nimport { SettingsService } from '../services/settings.service'\n\n@Injectable()\nexport class LocalizedDateParserFormatter extends NgbDateParserFormatter {\n  private separatorRegExp: RegExp = /[\\.,\\/-]+/\n\n  constructor(private settings: SettingsService) {\n    super()\n  }\n\n  private getDateInputFormat() {\n    return this.settings.getLocalizedDateInputFormat()\n  }\n\n  /**\n   * This constructs a regular expression from a date input format which is then\n   * used to parse dates.\n   */\n  private getDateParseRegex() {\n    return new RegExp(\n      '^' +\n        this.getDateInputFormat()\n          .replace('dd', '(?<day>[0-9]+)')\n          .replace('mm', '(?<month>[0-9]+)')\n          .replace('yyyy', '(?<year>[0-9]+)')\n          .split('.')\n          .join('\\\\.\\\\s*') +\n        '$' // allow whitespace(s) after dot (specific for German)\n    )\n  }\n\n  /**\n   * This adds date separators if none are entered.\n   * It also adds the current year if it wasn't entered.\n   *\n   * This allows users to just enter 1003, 100322, 10032022 and\n   * have it expanded to 10.03.2022, in the case of the German format.\n   * (All other formats are also supported)\n   *\n   * It also strips any separators before running formatting and pads\n   * any parts of the string, e.g. allowing for 1/2/22,\n   * which allows quick entry of the date on the numpad.\n   */\n  private preformatDateInput(value: string): string {\n    const inputFormat = this.getDateInputFormat()\n    const dateSeparator = inputFormat.replace(/[dmy]/gi, '').charAt(0)\n\n    if (this.separatorRegExp.test(value)) {\n      let segments = value.split(this.separatorRegExp)\n\n      // always accept strict yyyy*mm*dd format even if thats not the input format since we can be certain its not yyyy*dd*mm\n      if (\n        value.length == 10 &&\n        segments.length == 3 &&\n        segments[0].length == 4\n      ) {\n        return inputFormat\n          .replace('yyyy', segments[0])\n          .replace('mm', segments[1])\n          .replace('dd', segments[2])\n      } else {\n        // otherwise pad & re-join without separator\n        value = segments.map((segment) => segment.padStart(2, '0')).join('')\n      }\n    }\n\n    if (value.length == 4 && inputFormat.substring(0, 4) != 'yyyy') {\n      return [\n        value.substring(0, 2),\n        value.substring(2, 4),\n        new Date().getFullYear(),\n      ].join(dateSeparator)\n    } else if (value.length == 4 && inputFormat.substring(0, 4) == 'yyyy') {\n      return [\n        new Date().getFullYear(),\n        value.substring(0, 2),\n        value.substring(2, 4),\n      ].join(dateSeparator)\n    } else if (value.length == 6) {\n      return [\n        value.substring(0, 2),\n        value.substring(2, 4),\n        value.substring(4, 6),\n      ].join(dateSeparator)\n    } else if (value.length == 8 && inputFormat.substring(0, 4) != 'yyyy') {\n      return [\n        value.substring(0, 2),\n        value.substring(2, 4),\n        value.substring(4, 8),\n      ].join(dateSeparator)\n    } else if (value.length == 8 && inputFormat.substring(0, 4) == 'yyyy') {\n      return [\n        value.substring(0, 4),\n        value.substring(4, 6),\n        value.substring(6, 8),\n      ].join(dateSeparator)\n    } else {\n      return value\n    }\n  }\n\n  parse(value: string): NgbDateStruct | null {\n    value = this.preformatDateInput(value)\n    let match = this.getDateParseRegex().exec(value)\n    if (match) {\n      let dateStruct = {\n        day: +match.groups.day,\n        month: +match.groups.month,\n        year: +match.groups.year,\n      }\n      if (dateStruct.year <= new Date().getFullYear() - 2000) {\n        dateStruct.year += 2000\n      } else if (dateStruct.year < 100) {\n        dateStruct.year += 1900\n      }\n      return dateStruct\n    } else {\n      return null\n    }\n  }\n\n  format(date: NgbDateStruct | null): string {\n    if (date) {\n      return this.getDateInputFormat()\n        .replace('dd', date.day.toString().padStart(2, '0'))\n        .replace('mm', date.month.toString().padStart(2, '0'))\n        .replace('yyyy', date.year.toString().padStart(4, '0'))\n    } else {\n      return null\n    }\n  }\n}\n","import { Injectable } from '@angular/core'\nimport { NgbDateAdapter, NgbDateStruct } from '@ng-bootstrap/ng-bootstrap'\n\n@Injectable()\nexport class ISODateAdapter extends NgbDateAdapter<string> {\n  fromModel(value: string | null): NgbDateStruct | null {\n    if (value) {\n      if (value.match(/\\d\\d\\d\\d\\-\\d\\d\\-\\d\\d/g)) {\n        const segs = value.split('-')\n        return {\n          year: parseInt(segs[0]),\n          month: parseInt(segs[1]),\n          day: parseInt(segs[2]),\n        }\n      } else {\n        let date = new Date(value)\n        return {\n          day: date.getDate(),\n          month: date.getMonth() + 1,\n          year: date.getFullYear(),\n        }\n      }\n    } else {\n      return null\n    }\n  }\n\n  toModel(date: NgbDateStruct | null): string | null {\n    if (date) {\n      return (\n        date.year.toString().padStart(4, '0') +\n        '-' +\n        date.month.toString().padStart(2, '0') +\n        '-' +\n        date.day.toString().padStart(2, '0')\n      )\n    } else {\n      return null\n    }\n  }\n}\n","import { ParamMap, Params } from '@angular/router'\nimport { FilterRule } from '../data/filter-rule'\nimport { FilterRuleType, FILTER_RULE_TYPES } from '../data/filter-rule-type'\nimport { ListViewState } from '../services/document-list-view.service'\n\nconst SORT_FIELD_PARAMETER = 'sort'\nconst SORT_REVERSE_PARAMETER = 'reverse'\nconst PAGE_PARAMETER = 'page'\n\nexport function paramsFromViewState(\n  viewState: ListViewState,\n  pageOnly: boolean = false\n): Params {\n  let params = queryParamsFromFilterRules(viewState.filterRules)\n  params[SORT_FIELD_PARAMETER] = viewState.sortField\n  params[SORT_REVERSE_PARAMETER] = viewState.sortReverse ? 1 : undefined\n  if (pageOnly) params = {}\n  params[PAGE_PARAMETER] = isNaN(viewState.currentPage)\n    ? 1\n    : viewState.currentPage\n  if (pageOnly && viewState.currentPage == 1) params[PAGE_PARAMETER] = null\n  return params\n}\n\nexport function paramsToViewState(queryParams: ParamMap): ListViewState {\n  let filterRules = filterRulesFromQueryParams(queryParams)\n  let sortField = queryParams.get(SORT_FIELD_PARAMETER)\n  let sortReverse =\n    queryParams.has(SORT_REVERSE_PARAMETER) ||\n    (!queryParams.has(SORT_FIELD_PARAMETER) &&\n      !queryParams.has(SORT_REVERSE_PARAMETER))\n  let currentPage = queryParams.has(PAGE_PARAMETER)\n    ? parseInt(queryParams.get(PAGE_PARAMETER))\n    : 1\n  return {\n    currentPage: currentPage,\n    filterRules: filterRules,\n    sortField: sortField,\n    sortReverse: sortReverse,\n  }\n}\n\nexport function filterRulesFromQueryParams(\n  queryParams: ParamMap\n): FilterRule[] {\n  const allFilterRuleQueryParams: string[] = FILTER_RULE_TYPES.map(\n    (rt) => rt.filtervar\n  )\n    .concat(FILTER_RULE_TYPES.map((rt) => rt.isnull_filtervar))\n    .filter((rt) => rt !== undefined)\n\n  // transform query params to filter rules\n  let filterRulesFromQueryParams: FilterRule[] = []\n  allFilterRuleQueryParams\n    .filter((frqp) => queryParams.has(frqp))\n    .forEach((filterQueryParamName) => {\n      const rule_type: FilterRuleType = FILTER_RULE_TYPES.find(\n        (rt) =>\n          rt.filtervar == filterQueryParamName ||\n          rt.isnull_filtervar == filterQueryParamName\n      )\n      const isNullRuleType = rule_type.isnull_filtervar == filterQueryParamName\n      const valueURIComponent: string = queryParams.get(filterQueryParamName)\n      const filterQueryParamValues: string[] = rule_type.multi\n        ? valueURIComponent.split(',')\n        : [valueURIComponent]\n\n      filterRulesFromQueryParams = filterRulesFromQueryParams.concat(\n        // map all values to filter rules\n        filterQueryParamValues.map((val) => {\n          if (rule_type.datatype == 'boolean')\n            val = val.replace('1', 'true').replace('0', 'false')\n          return {\n            rule_type: rule_type.id,\n            value: isNullRuleType ? null : val,\n          }\n        })\n      )\n    })\n\n  return filterRulesFromQueryParams\n}\n\nexport function queryParamsFromFilterRules(filterRules: FilterRule[]): Params {\n  if (filterRules) {\n    let params = {}\n    for (let rule of filterRules) {\n      let ruleType = FILTER_RULE_TYPES.find((t) => t.id == rule.rule_type)\n      if (ruleType.multi) {\n        params[ruleType.filtervar] = params[ruleType.filtervar]\n          ? params[ruleType.filtervar] + ',' + rule.value\n          : rule.value\n      } else if (ruleType.isnull_filtervar && rule.value == null) {\n        params[ruleType.isnull_filtervar] = 1\n      } else {\n        params[ruleType.filtervar] = rule.value\n        if (ruleType.datatype == 'boolean')\n          params[ruleType.filtervar] =\n            rule.value == 'true' || rule.value == '1' ? 1 : 0\n      }\n    }\n    return params\n  } else {\n    return null\n  }\n}\n","// This file can be replaced during build by using the `fileReplacements` array.\n// `ng build --configuration production` replaces `environment.ts` with `environment.prod.ts`.\n// The list of file replacements can be found in `angular.json`.\n\nexport const environment = {\n  production: false,\n  apiBaseUrl: 'http://localhost:8000/api/',\n  apiVersion: '2',\n  appTitle: 'Paperless-ngx',\n  version: 'DEVELOPMENT',\n  webSocketHost: 'localhost:8000',\n  webSocketProtocol: 'ws:',\n  webSocketBaseUrl: '/ws/',\n}\n\n/*\n * For easier debugging in development mode, you can import the following file\n * to ignore zone related error stack frames such as `zone.run`, `zoneDelegate.invokeTask`.\n *\n * This import should be commented out in production mode because it will have a negative impact\n * on performance if an error is thrown.\n */\n// import 'zone.js/plugins/zone-error';  // Included with Angular CLI.\n","import { enableProdMode } from '@angular/core'\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic'\n\nimport { AppModule } from './app/app.module'\nimport { environment } from './environments/environment'\n\nif (environment.production) {\n  enableProdMode()\n}\n\nplatformBrowserDynamic()\n  .bootstrapModule(AppModule)\n  .catch((err) => console.error(err))\n","/* (ignored) */","/* (ignored) */","/* (ignored) */","/* (ignored) */","/* (ignored) */","/* (ignored) */"],"names":["RouterModule","AppFrameComponent","DashboardComponent","DocumentDetailComponent","DocumentListComponent","CorrespondentListComponent","DocumentTypeListComponent","LogsComponent","SettingsComponent","TagListComponent","NotFoundComponent","DocumentAsnComponent","DirtyFormGuard","StoragePathListComponent","TasksComponent","DirtyDocGuard","DirtySavedViewGuard","routes","path","redirectTo","pathMatch","component","canDeactivate","children","AppRoutingModule","forRoot","imports","exports","SETTINGS_KEYS","i0","AppComponent","constructor","settings","consumerStatusService","toastService","router","uploadDocumentsService","tasksService","tourService","renderer","anyWindow","window","pdfWorkerSrc","updateAppearanceSettings","ngOnDestroy","disconnect","successSubscription","unsubscribe","failedSubscription","newDocumentSubscription","showNotification","key","url","get","NOTIFICATIONS_CONSUMER_SUPPRESS_ON_DASHBOARD","ngOnInit","connect","onDocumentConsumptionFinished","subscribe","status","reload","NOTIFICATIONS_CONSUMER_SUCCESS","show","title","$localize","delay","content","filename","actionName","action","navigate","documentId","onDocumentConsumptionFailed","NOTIFICATIONS_CONSUMER_FAILED","showError","message","onDocumentDetected","NOTIFICATIONS_CONSUMER_NEW_DOCUMENT","prevBtnTitle","nextBtnTitle","endBtnTitle","initialize","anchorId","route","enableBackdrop","delayAfterNavigation","placement","disableScrollToAnchor","start$","addClass","document","body","end$","setTimeout","removeClass","dragDropEnabled","includes","fileOver","fileIsOver","hidden","clearTimeout","fileLeaveTimeoutID","fileLeave","immediate","ms","dropped","files","uploadFiles","showInfo","selectors","decls","vars","consts","ctx","BrowserModule","APP_INITIALIZER","NgbDateAdapter","NgbDateParserFormatter","NgbModule","HttpClientModule","HTTP_INTERCEPTORS","FormsModule","ReactiveFormsModule","DatePipe","registerLocaleData","ConfirmDialogComponent","CorrespondentEditDialogComponent","TagEditDialogComponent","DocumentTypeEditDialogComponent","TagComponent","ClearableBadgeComponent","PageHeaderComponent","ToastsComponent","FilterEditorComponent","FilterableDropdownComponent","ToggleableDropdownButtonComponent","DateDropdownComponent","DocumentCardLargeComponent","DocumentCardSmallComponent","BulkEditorComponent","NgxFileDropModule","TextComponent","SelectComponent","CheckComponent","PasswordComponent","SaveViewConfigDialogComponent","TagsComponent","SortableDirective","CookieService","CsrfInterceptor","SavedViewWidgetComponent","StatisticsWidgetComponent","UploadFileWidgetComponent","WidgetFrameComponent","PdfViewerModule","WelcomeWidgetComponent","YesNoPipe","FileSizePipe","FilterPipe","DocumentTitlePipe","MetadataCollapseComponent","SelectDialogComponent","NgSelectModule","NumberComponent","SafeUrlPipe","SafeHtmlPipe","CustomDatePipe","DateComponent","ISODateAdapter","LocalizedDateParserFormatter","ApiVersionInterceptor","ColorSliderModule","ColorComponent","DocumentCommentsComponent","StoragePathEditDialogComponent","SettingsService","TourNgBootstrapModule","MailAccountEditDialogComponent","MailRuleEditDialogComponent","localeAr","localeBe","localeCs","localeDa","localeDe","localeEnGb","localeEs","localeFr","localeIt","localeLb","localeNl","localePl","localePt","localeRo","localeRu","localeSl","localeSr","localeSv","localeTr","localeZh","initializeApp","initializeSettings","AppModule","bootstrap","provide","useFactory","deps","multi","useClass","declarations","FormControl","from","debounceTime","distinctUntilChanged","map","switchMap","first","environment","FILTER_FULLTEXT_QUERY","ctx_r20","activatedRoute","openDocumentsService","searchService","savedViewService","remoteVersionService","list","settingsService","appTitle","version","text$","pipe","term","lastIndexOf","substring","length","autocomplete","UPDATE_CHECKING_ENABLED","checkForUpdates","toggleSlimSidebar","slimSidebarAnimating","slimSidebarEnabled","SLIM_SIDEBAR","enabled","set","storeSettings","error","console","log","closeMenu","isMenuCollapsed","openDocuments","getOpenDocuments","hasDirty","searchFieldEmpty","searchField","value","trim","resetSearchField","reset","searchFieldKeyup","event","itemSelected","preventDefault","currentSearch","lastSpaceIndex","item","patchValue","search","quickFilter","rule_type","closeDocument","d","confirmed","snapshot","firstChild","params","id","closeAll","appRemoteVersion","setUpdateChecking","enable","hostBindings","EventEmitter","active","selected","number","isNumbered","onClick","cleared","emit","stopImmediatePropagation","inputs","outputs","interval","take","activeModal","delayConfirm","seconds","refreshInterval","secondsTotal","count","Math","max","confirmButtonEnabled","cancel","confirmSubject","next","complete","close","confirm","confirmClicked","alternative","alternativeClicked","alternativeSubject","messageBold","btnClass","btnCaption","alternativeBtnClass","alternativeBtnCaption","buttonsEnabled","Subject","RelativeDate","date","LAST_7_DAYS","name","LAST_MONTH","LAST_3_MONTHS","LAST_YEAR","datePlaceHolder","getLocalizedDateInputFormat","isActive","relativeDate","dateAfter","dateBefore","sub","datesSetDebounce$","onChange","setRelativeDate","rd","dateBeforeChange","dateAfterChange","relativeDateChange","datesSet","after","before","relativeDateID","onChangeDebounce","clearBefore","clearAfter","onKeyPress","test","features","FormGroup","EditDialogComponent","DEFAULT_MATCHING_ALGORITHM","service","getCreateTitle","getEditTitle","getForm","matching_algorithm","match","is_insensitive","MATCHING_ALGORITHMS","MATCH_AUTO","object","objectForm","closeEnabled","getSaveErrorMessage","getTitle","dialogMode","getMatchingAlgorithms","patternRequired","save","newObject","Object","assign","serverResponse","create","update","networkActive","result","succeeded","IMAPSecurity","IMAP_SECURITY_OPTIONS","None","SSL","STARTTLS","imap_server","imap_port","imap_security","username","password","character_set","imapSecurityOptions","MailAction","MailFilterAttachmentType","MailMetadataCorrespondentOption","MailMetadataTitleOption","MailRuleConsumptionScope","ATTACHMENT_TYPE_OPTIONS","Attachments","Everything","CONSUMPTION_SCOPE_OPTIONS","Email_Only","ACTION_OPTIONS","Delete","Move","MarkRead","Flag","Tag","METADATA_TITLE_OPTIONS","FromSubject","FromFilename","METADATA_CORRESPONDENT_OPTIONS","FromNothing","FromEmail","FromName","FromCustom","accountService","correspondentService","documentTypeService","listAll","accounts","results","correspondents","documentTypes","account","folder","filter_from","filter_subject","filter_body","filter_attachment_filename","maximum_age","attachment_type","consumption_scope","order","action_parameter","assign_title_from","assign_tags","assign_document_type","assign_correspondent_from","assign_correspondent","showCorrespondentField","showActionParamField","attachmentTypeOptions","actionOptions","metadataTitleOptions","metadataCorrespondentOptions","consumptionScopeOptions","pathHint","randomColor","color","is_inbox_tag","ToggleableItemState","FilterableDropdownSelectionModel","_logicalOperator","Map","itemsSorted","items","sort","a","b","getNonTemporary","NotSelected","localeCompare","getSelectedItems","filter","i","temporarySelectionStates","Selected","getExcludedItems","Excluded","state","fireEvent","delete","changed","toggle","multiple","keys","exclude","temporaryLogicalOperator","selectionStates","logicalOperator","operator","toggleOperator","selectionSize","totalCount","clear","isDirty","Array","every","isNoneSelected","init","apply","forEach","diff","itemsToAdd","itemsToRemove","has","_selectionModel","unshift","selectionModel","model","updatedModel","selectionModelChange","operatorToggleEnabled","filterPipe","modelIsDirty","applyClicked","dropdown","applyOnClose","dropdownOpenChange","open","listFilterTextInput","nativeElement","focus","editing","opened","filterText","listFilterEnter","filtered","transform","excludeClicked","itemID","viewQuery","isTag","toggleItem","isChecked","isPartiallyChecked","PartiallySelected","isExcluded","template","v4","uuidv4","AbstractInputComponent","newValue","writeValue","registerOnChange","fn","registerOnTouched","onTouched","setDisabledState","isDisabled","disabled","inputField","inputId","forwardRef","NG_VALUE_ACCESSOR","useExisting","randomize","colorChanged","ngbDateParserFormatter","isoDateAdapter","getSuggestions","suggestions","s","parse","toModel","format","onSuggestionClick","dateString","parsedDate","placeholder","onPaste","clipboardData","pastedText","getData","replace","FILTER_ASN_ISNULL","documentService","nextAsn","listFiltered","archive_serial_number","showAdd","ctx_r7","addItemRef","addItem","bind","allowCreateNew","createNew","observers","find","_lastSearchTerm","clearLastSearchTerm","clickNew","onSearch","$event","onBlur","textColor","backgroundColor","allowNull","tagService","modalService","createTagRef","createTag","tags","getTag","tag","removeTag","index","indexOf","oldValue","splice","modal","backdrop","componentInstance","newTag","addTag","hint","allowCreate","titleService","_title","setTitle","subTitle","ngContentSelectors","cancelClicked","objects","selectClicked","linkTitle","clickable","ctx_r3","subscription","getToasts","toasts","subtitle","displayName","FILTER_HAS_TAGS_ALL","loading","documents","savedView","sort_field","sort_reverse","filter_rules","showAll","show_in_sidebar","queryParams","view","clickTag","toString","http","getStatistics","apiBaseUrl","statistics","FileStatusPhase","MAX_ALERTS","getStatus","getConsumerStatus","slice","getStatusSummary","strings","countUploadingAndProcessing","getConsumerStatusNotCompleted","countFailed","getStatusFailed","countSuccess","getStatusSuccess","push","join","getStatusHidden","getStatusUploading","UPLOADING","FAILED","SUCCESS","getStatusCompleted","getConsumerStatusCompleted","getTotalUploadProgress","current","currentPhaseProgress","currentPhaseMaxProgress","isFinished","phase","getStatusColor","PROCESSING","dismiss","dismissCompleted","FILTER_ASN","documentsService","paramMap","asn","listAllFilteredIds","_documentId","commentsService","newComment","getComments","comments","addComment","comment","commentForm","newCommentError","e","deleteComment","commentId","user","nameComponents","firstname","lastname","dirtyCheck","BehaviorSubject","takeUntil","FILTER_FULLTEXT_MORELIKE","pdfPreview","element","offsetParent","nav","activeId","select","openDocumentService","documentListViewService","documentTitlePipe","storagePathService","created_date","correspondent","document_type","storage_path","titleKeyUp","titleSubject","target","useNativePdfViewer","USE_NATIVE_PDF_VIEWER","getContentType","metadata","has_archive_version","original_mime_type","isRTL","lang","documentForm","valueChanges","unsubscribeNotifier","storagePaths","docChangeNotifier","doc","previewUrl","getPreviewUrl","downloadUrl","getDownloadUrl","downloadOriginalUrl","getOpenDocument","updateComponent","openDocument","titleValue","titleInput","store","getValue","setDirty","isDirty$","asObservable","dirty","requiresPassword","getMetadata","createDocumentType","newName","newDocumentType","setValue","createCorrespondent","newCorrespondent","createStoragePath","newStoragePath","discard","saveEditNext","updateResult","getNext","nextDocId","closeResult","closed","activeSavedViewId","JSON","stringify","moreLike","redoOcr","bulkEdit","hasNext","hasPrevious","nextDoc","previousDoc","getPrevious","prevDocId","pdfPreviewLoaded","pdf","previewNumPages","numPages","onError","onPasswordKeyUp","commentsEnabled","COMMENTS_ENABLED","saveAs","downloadFileTypeArchive","downloadFileTypeOriginals","downloadUseFormatting","BULK_EDIT_APPLY_ON_CLOSE","BULK_EDIT_CONFIRMATION_DIALOGS","downloadForm","emitEvent","executeBulkOperation","method","args","reduceSelectionToFilter","refreshDocument","applySelectionData","selectionData","document_count","size","openTagsDropdown","getSelectionData","selected_tags","tagSelectionModel","openDocumentTypeDropdown","selected_document_types","documentTypeSelectionModel","openCorrespondentDropdown","selected_correspondents","correspondentSelectionModel","openStoragePathDropdown","selected_storage_paths","storagePathsSelectionModel","_localizeList","setTags","changedTags","showConfirmationDialogs","add_tags","t","remove_tags","setCorrespondents","changedCorrespondents","setDocumentTypes","changedDocumentTypes","documentType","setStoragePaths","changedDocumentPaths","storagePath","applyDelete","downloadSelected","awaitingDownload","downloadFileType","bulkDownload","redoOcrSelected","ctx_r17","ctx_r23","ctx_r25","selectable","toggleSelected","searchScoreClass","__search_hit__","score","searchCommentHighlights","highlights","comment_highlights","split","higlight","getIsThumbInverted","DARK_MODE_THUMB_INVERTED","getThumbUrl","mouseEnterPreview","mouseOnPreview","popover","isOpen","popoverHidden","mouseLeavePreview","mouseLeaveCard","contentTrimmed","substr","ctx_r12","ctx_r14","ctx_r16","ctx_r18","getTagsLimited$","tags$","moreTags","convertToParamMap","filterRulesDiffer","isFullTextFilterRule","DOCUMENT_SORT_FIELDS","DOCUMENT_SORT_FIELDS_FULLTEXT","ctx_r48","ctx_r53","ctx_r55","ctx_r59","ctx_r63","ctx_r65","savedViewIsModified","unmodifiedSavedView","sortField","sortReverse","filterRules","isFiltered","activeSavedViewTitle","getSortFields","listSortReverse","reverse","setSortField","field","onSort","setSort","column","isBulkEditing","saveDisplayMode","localStorage","setItem","displayMode","getItem","getCached","activateSavedViewWithQueryParams","unmodifiedFilterRules","queryParamMap","loadViewConfig","parseInt","activateSavedView","loadFromQueryParams","saveViewConfig","patch","viewID","saveViewConfigAs","defaultName","filterEditor","generateFilterName","saveClicked","formValue","show_on_dashboard","showOnDashboard","showInSideBar","httpError","r","shiftKey","selectRangeTo","tagID","selectNone","toggleTag","clickCorrespondent","correspondentID","toggleCorrespondent","clickDocumentType","documentTypeID","toggleDocumentType","clickStoragePath","storagePathID","toggleStoragePath","clickMoreLike","documentID","trackByDocumentId","FILTER_ADDED_AFTER","FILTER_ADDED_BEFORE","FILTER_CORRESPONDENT","FILTER_CREATED_AFTER","FILTER_CREATED_BEFORE","FILTER_DOCUMENT_TYPE","FILTER_HAS_ANY_TAG","FILTER_HAS_TAGS_ANY","FILTER_DOES_NOT_HAVE_TAG","FILTER_TITLE","FILTER_TITLE_CONTENT","FILTER_STORAGE_PATH","FILTER_ASN_GT","FILTER_ASN_LT","TEXT_FILTER_TARGET_TITLE","TEXT_FILTER_TARGET_TITLE_CONTENT","TEXT_FILTER_TARGET_ASN","TEXT_FILTER_TARGET_FULLTEXT_QUERY","TEXT_FILTER_TARGET_FULLTEXT_MORELIKE","TEXT_FILTER_MODIFIER_EQUALS","TEXT_FILTER_MODIFIER_NULL","TEXT_FILTER_MODIFIER_NOTNULL","TEXT_FILTER_MODIFIER_GT","TEXT_FILTER_MODIFIER_LT","RELATIVE_DATE_QUERY_REGEXP_CREATED","RELATIVE_DATE_QUERY_REGEXP_ADDED","RELATIVE_DATE_QUERYSTRINGS","dateQuery","rule","c","dt","textFilterTargets","targets","textFilterTarget","textFilterTargetName","textFilterModifiers","label","textFilterModifierIsNull","textFilterModifier","_unmodifiedFilterRules","rulesModified","_filterRules","storagePathSelectionModel","_textFilter","_moreLikeId","dateAddedBefore","dateAddedAfter","dateCreatedBefore","dateCreatedAfter","dateCreatedRelativeDate","dateAddedRelativeDate","allQueryArgs","textQueryArgs","arg","matchAll","qS","_moreLikeDoc","tagFilterType","queryArgs","existingRule","fr","existingRuleArgs","concat","updateRules","filterRulesChange","textFilter","textFilterDebounce","query","text","updateTextFilter","searchQuery","resetSelected","tagId","correspondentId","documentTypeId","onTagsDropdownOpen","onCorrespondentDropdownOpen","onDocumentTypeDropdownOpen","onStoragePathDropdownOpen","textFilterKeyup","filterString","textFilterInput","resetTextField","changeTextFilterTarget","textFilterModifierChange","_defaultName","saveViewConfigForm","ManagementListComponent","correspondentsService","datePipe","valueFn","last_correspondence","getDeleteMessage","logService","logFiles","activeLog","reloadLogs","ngAfterViewChecked","scrollToBottom","logs","getLogLevel","logContainer","scroll","top","scrollHeight","left","behavior","editDialogComponent","filterRuleType","typeName","typeNamePlural","extraColumns","reloadData","nameFilterDebounce","_nameFilter","page","getMatching","o","shortName","data","collectionSize","openCreateDialog","openEditDialog","filterDocuments","openDeleteDialog","_","nameFilter","onNameFilterKeyUp","code","LOCALE_ID","tap","SettingsNavIDs","computedDateLocale","settingsForm","dateLocale","displayLanguage","currentLocale","mailAccountService","mailRuleService","viewportScroller","bulkEditConfirmationDialogs","bulkEditApplyOnClose","documentListItemPerPage","darkModeUseSystem","darkModeEnabled","darkModeInvertThumbs","themeColor","dateFormat","updateCheckingEnabled","notificationsConsumerNewDocument","notificationsConsumerSuccess","notificationsConsumerFailed","notificationsConsumerSuppressOnDashboard","savedViewsWarnOnUnsavedChange","savedViews","savedViewGroup","mailAccounts","mailAccountGroup","mailRules","mailRuleGroup","settingsSaved","savePending","section","navIDKey","navID","toLowerCase","activeNavID","maybeInitializeTab","ngAfterViewInit","fragment","scrollToAnchor","getCurrentSettings","DOCUMENT_LIST_SIZE","DARK_MODE_USE_SYSTEM","DARK_MODE_ENABLED","THEME_COLOR","getLanguage","DATE_LOCALE","DATE_FORMAT","SAVED_VIEWS_WARN_ON_UNSAVED_CHANGE","onNavChange","navChangeEvent","nextId","foundNavIDkey","foundNavIDValue","entries","navIDkey","navIDValue","then","navigated","SavedViews","Mail","resetSettings","currentFormValue","storeData","addControl","storeSub","deleteSavedView","removeControl","saveLocalSettings","reloadRequired","setLanguage","updatePageSize","savedToast","location","displayLanguageOptions","getLanguageOptions","dateLocaleOptions","getDateLocaleOptions","today","Date","saveSettings","x","patchMany","clearThemeColor","editMailAccount","newMailAccount","clearCache","deleteMailAccount","editMailRule","newMailRule","deleteMailRule","directoryService","rendersHtml","text_color","ctx_r34","ctx_r37","ctx_r39","ctx_r40","ctx_r41","ctx_r42","dismissButtonText","selectedTasks","Set","unsubscribeNotifer","dismissTask","task","dismissTasks","undefined","tasks","allFileTasks","dismissAndGo","related_document","expandTask","expandedTask","add","currentTasks","activeTab","queuedFileTasks","startedFileTasks","completedFileTasks","failedFileTasks","toggleAll","checked","clearSelection","FILTER_CONTENT","FILTER_IS_IN_INBOX","FILTER_CREATED_YEAR","FILTER_CREATED_MONTH","FILTER_CREATED_DAY","FILTER_MODIFIED_BEFORE","FILTER_MODIFIED_AFTER","FILTER_RULE_TYPES","filtervar","datatype","default","isnull_filtervar","cloneFilterRules","newRules","filterRulesA","filterRulesB","differ","some","fri","MATCH_ANY","MATCH_ALL","MATCH_LITERAL","MATCH_REGEX","MATCH_FUZZY","PaperlessTaskType","PaperlessTaskStatus","LANGUAGE","UPDATE_CHECKING_BACKEND_SETTING","SETTINGS","type","OPEN_DOCUMENT_SERVICE","DOCUMENTS","DOCUMENT_LIST_SERVICE","CURRENT_VIEW_CONFIG","asc","currentSortField","appSortable","currentSortReverse","des","rotate","hostVars","factory","DirtyCheckGuard","confirmChanges","subject","providedIn","warn","intercept","request","clone","setHeaders","Accept","apiVersion","handle","cookieService","meta","prefix","csrfToken","FORMAT_TO_ISO_FORMAT","longDate","mediumDate","shortDate","locale","defaultLocale","timezone","l","f","pure","defaultPrecisionMap","bytes","KB","MB","GB","TB","PB","precision","isNaN","parseFloat","String","isFinite","unitIndex","unit","units","toFixed","searchText","sanitizer","html","bypassSecurityTrustHtml","bypassSecurityTrustResourceUrl","FILE_STATUS_MESSAGES","document_already_exists","asn_already_exists","file_not_found","pre_consume_script_not_found","pre_consume_script_error","post_consume_script_not_found","post_consume_script_error","new_file","unsupported_type","parsing_document","generating_thumbnail","parse_date","save_document","finished","FileStatus","STARTED","getProgress","updateProgress","currentProgress","maxProgress","ConsumerStatusService","taskId","consumerStatus","created","newFileUpload","statusWebSocket","WebSocket","webSocketProtocol","webSocketHost","webSocketBaseUrl","onmessage","ev","statusMessage","statusMessageGet","task_id","current_progress","max_progress","document_id","documentDetectedSubject","documentConsumptionFinishedSubject","documentConsumptionFailedSubject","fail","findIndex","Observable","paramsFromViewState","paramsToViewState","DocumentListViewService","_activeSavedViewId","activeListViewState","documentListViewConfigJson","savedState","k","newState","defaultListViewState","listViewStates","removeItem","currentPage","rangeSelectionAnchorIndex","lastRangeSelectionToIndex","loadSavedView","viewState","closeCurrentView","routerState","paramsEmpty","initialized","onFinish","updateQueryParams","isReloading","currentPageSize","truncate_content","base","replaceUrl","queryParamsHandling","errorMessage","fieldName","fieldError","saveDocumentListView","getLastPage","ceil","currentDocId","newPageSize","ids","selectAll","selectPage","isSelected","documentIndexInCurrentView","documentToIndex","fromIndex","min","toIndex","of","OpenDocumentsService","sessionStorage","MAX_OPEN_DOCUMENTS","docToRemove","closeObservable","finishOpenDocument","dirtyDocuments","AbstractPaperlessService","AbstractNameFilterService","pageSize","name__icontains","HttpParams","publishReplay","refCount","resourceName","getResourceUrl","baseUrl","getOrderingQueryParam","extraParams","httpParams","ordering","extraParamKey","_listAll","getCachedMany","post","put","CorrespondentService","DocumentCommentsService","fromString","DocumentTypeService","queryParamsFromFilterRules","DocumentService","addObservablesToDocument","correspondent$","document_type$","tagA","tagB","storage_path$","fields","response","original","_searchQuery","uploadDocument","formData","reportProgress","observe","parameters","useFilenameFormatting","follow_formatting","responseType","LogService","combineLatest","MailAccountService","allAccounts","MailRuleService","allRules","RemoteVersionService","SavedViewService","allViews","sidebarViews","v","dashboardViews","SearchService","StoragePathService","TagService","DOCUMENT","RendererStyleFlags2","BRIGHTNESS","estimateBrightnessForColor","hexToHsl","rendererFactory","localeId","createRenderer","uisettings","maybeMigrateSettings","display_name","hsl","bgBrightnessEstimate","DARK","setStyle","h","DashCase","removeStyle","languages","englishName","dateInputFormat","isoOption","getLanguageCookieName","language","getSettingRawValue","settingObj","keyPart","hasOwnProperty","setting","settingIsSet","success","successMessage","updateCheckingIsSet","offerTour","TasksService","total","fileTasks","Pending","Started","Complete","Failed","File","task_ids","ToastService","toast","toastsSubject","closeToast","HttpEventType","UploadDocumentsService","droppedFile","fileEntry","isFile","file","FormData","append","uploadSubscriptions","UploadProgress","loaded","Response","statusText","LIGHT","componentToHex","hex","floor","hslToRgb","g","hue2rgb","p","q","rgbToHsl","rgb","hexToRGB","aRgbHex","computeLuminance","colorKeys","pow","colorHex","luminance","kThreshold","random","getDateInputFormat","getDateParseRegex","RegExp","preformatDateInput","inputFormat","dateSeparator","charAt","separatorRegExp","segments","segment","padStart","getFullYear","exec","dateStruct","day","groups","month","year","fromModel","segs","getDate","getMonth","SORT_FIELD_PARAMETER","SORT_REVERSE_PARAMETER","PAGE_PARAMETER","pageOnly","filterRulesFromQueryParams","allFilterRuleQueryParams","rt","frqp","filterQueryParamName","isNullRuleType","valueURIComponent","filterQueryParamValues","val","ruleType","production","enableProdMode","__NgCli_bootstrap_1","bootstrapModule","catch","err"],"sourceRoot":"webpack:///"}